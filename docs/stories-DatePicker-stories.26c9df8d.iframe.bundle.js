(globalThis.webpackChunkopenproject_frontend=globalThis.webpackChunkopenproject_frontend||[]).push([[1011],{"./src/stories/DatePicker.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RangeWithValue:()=>RangeWithValue,Single:()=>Single,SingleWithValue:()=>SingleWithValue,default:()=>DatePicker_stories});var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),moment=__webpack_require__("./node_modules/moment/moment.js"),timezone_service=__webpack_require__("./src/app/core/datetime/timezone.service.ts");var i18n_service=__webpack_require__("./src/app/core/i18n/i18n.service.ts"),i18n_service_stub=__webpack_require__("./src/stories/i18n.service.stub.ts"),weekday_service=__webpack_require__("./src/app/core/days/weekday.service.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js");let WeekdayServiceStub=class WeekdayServiceStub{constructor(){this.weekdays=[]}isNonWorkingDay(date){const isoDayOfWeek="number"==typeof date?date:moment(date).isoWeekday();return!!(this.weekdays||[]).find((wd=>wd.day===isoDayOfWeek&&!wd.working))}get nonWorkingDays(){return this.weekdays.filter((day=>!day.working))}loadWeekdays(){return(0,of.of)(this.weekdays)}};WeekdayServiceStub=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],WeekdayServiceStub);var day_service=__webpack_require__("./src/app/core/state/days/day.service.ts"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),day_store=__webpack_require__("./src/app/core/state/days/day.store.ts");let DayResourceServiceStub=class DayResourceServiceStub{basePath(){return""}isNonWorkingDay$(input){return(0,asyncToGenerator.Z)((function*(){const day=input.getDay();return day>5||0===day}))()}requireNonWorkingYear$(_date){return(0,of.of)([])}requireNonWorkingYears$(_start,_end){return(0,of.of)([])}fetchCollection(_params){return(0,of.of)({_type:"Collection",count:0,pageSize:10,offset:0,total:0,_embedded:{elements:[]}})}createStore(){return new day_store.Q}};DayResourceServiceStub=(0,tslib_es6.gn)([(0,core.Injectable)()],DayResourceServiceStub);var configuration_service=__webpack_require__("./src/app/core/config/configuration.service.ts");var states_service=__webpack_require__("./src/app/core/states/states.service.ts"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),basic_range_date_picker_component=__webpack_require__("./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.ts"),basic_single_date_picker_component=__webpack_require__("./src/app/shared/components/datepicker/basic-single-date-picker/basic-single-date-picker.component.ts");let OpBasicDatePickerModule=class OpBasicDatePickerModule{};OpBasicDatePickerModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[fesm2022_forms.u5,fesm2022_forms.UX,common.CommonModule],providers:[i18n_service.D],declarations:[basic_range_date_picker_component.qB,basic_single_date_picker_component.C],exports:[basic_range_date_picker_component.qB,basic_single_date_picker_component.C]})],OpBasicDatePickerModule);const DatePicker_stories={title:"Patterns/DatePicker",component:basic_single_date_picker_component.C,decorators:[(0,dist.moduleMetadata)({imports:[OpBasicDatePickerModule],providers:[{provide:timezone_service.B,useValue:{}},{provide:configuration_service.e,useValue:{startOfWeek:()=>1,startOfWeekPresent:()=>!0}},{provide:states_service.G,useValue:new states_service.G},{provide:i18n_service.D,useValue:i18n_service_stub.r},{provide:weekday_service.u,useFactory:()=>new WeekdayServiceStub},{provide:day_service.u,useFactory:()=>new DayResourceServiceStub}]})]},Single={render:args=>({props:{...args},template:"\n      <op-basic-single-date-picker></op-basic-single-date-picker>\n   "})},SingleWithValue={render:args=>({props:{...args,date:moment(new Date).format("YYYY-MM-DD")},template:'\n      <op-basic-single-date-picker\n        [value]="date"\n      ></op-basic-single-date-picker>\n   '})},RangeWithValue={render:args=>({props:{...args,dates:[moment(new Date).format("YYYY-MM-DD"),moment(new Date).add(4,"days").format("YYYY-MM-DD")]},template:'\n      <op-basic-range-date-picker\n        [value]="dates"\n      ></op-basic-range-date-picker>\n   '})}},"./src/app/core/apiv3/api-v3.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>ApiV3Service});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs");class SimpleResourceCollection{constructor(basePath,segment,resource){this.basePath=basePath,this.segment=segment,this.resource=resource,this.path=`${this.basePath}/${segment}`}id(id){return new(this.resource||SimpleResource)(this.path,id)}withOptionalId(id){return _.isNil(id)?this:this.id(id)}toString(){return this.path}toPath(){return this.path}}class SimpleResource{constructor(basePath,segment){this.basePath=basePath,this.segment=segment;const separator=segment.toString().startsWith("?")?"":"/";this.path=`${this.basePath}${separator}${segment}`}toString(){return this.path}toPath(){return this.path}}var inject_field_decorator=__webpack_require__("./src/app/shared/helpers/angular/inject-field.decorator.ts"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),catchError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),throwError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/throwError.js"),pako_esm=__webpack_require__("./node_modules/pako/dist/pako.esm.mjs"),lib=__webpack_require__("./node_modules/byte-base64/lib.js"),debug_output=__webpack_require__("./src/app/shared/helpers/debug_output.ts"),firstValueFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js");class HalLink{constructor(requestMethod,href=null,title="",method="get",templated=!1,payload,type="application/json",identifier){this.requestMethod=requestMethod,this.href=href,this.title=title,this.method=method,this.templated=templated,this.payload=payload,this.type=type,this.identifier=identifier}static fromObject(halResourceService,link){return new HalLink(((method,href,data,headers)=>(0,firstValueFrom.z)(halResourceService.request(method,href,data,headers))),link.href,link.title,link.method,link.templated,link.payload,link.type,link.identifier)}$fetch(...params){const[data,headers]=params;return this.requestMethod(this.method,this.href,data,headers)}$prepare(templateValues){if(!this.templated)throw new Error(`The link ${this.href} is not templated.`);let href=_.clone(this.href)||"";return _.each(templateValues,((value,key)=>{const regexp=new RegExp(`{${key}}`);href=href.replace(regexp,value)})),new HalLink(this.requestMethod,href,this.title,this.method,!1,this.payload,this.type,this.identifier).$callable()}$callable(){const linkFunc=(...params)=>this.$fetch(...params);return _.extend(linkFunc,{$link:this,href:this.href,title:this.title,method:this.method,templated:this.templated,payload:this.payload,type:this.type,identifier:this.identifier}),linkFunc}}class URLParamsEncoder{encodeKey(key){return encodeURIComponent(key)}encodeValue(value){return encodeURIComponent(value)}decodeKey(key){return decodeURIComponent(key)}decodeValue(value){return decodeURIComponent(value)}}var OpenprojectHalModuleHelpers,hal_resource=__webpack_require__("./src/app/features/hal/resources/hal-resource.ts"),observable_array=__webpack_require__("./node_modules/observable-array/index.js");function initializeHalProperties(halResourceService,halResource){function asHalResource(value,loaded=!0){return _.isNil(value)?value:value._links||value._embedded||value._type?halResourceService.createHalResource(value,loaded):value}function setupProperty(name,callback){const instanceName=`$${name}`,sourceName=`_${name}`,sourceObj=halResource.$source[sourceName];_.isObject(sourceObj)&&Object.keys(sourceObj).forEach((propName=>{OpenprojectHalModuleHelpers.lazy(halResource[instanceName],propName,(()=>callback(sourceObj[propName])))}))}function setter(val,linkName){const isArray=Array.isArray(val);if(val)if(isArray)halResource.$source._links[linkName]=val.map((el=>({href:el.href})));else if(val.hasOwnProperty("$link")){const link=val.$link;link.href&&(halResource.$source._links[linkName]=link)}else"href"in val&&(halResource.$source._links[linkName]={href:val.href});else halResource.$source._links[linkName]={href:null};return halResource.$embedded&&halResource.$embedded[linkName]&&(halResource.$embedded[linkName]=val,halResource.$source._embedded[linkName]=isArray?val.map((el=>el.$source)):_.get(val,"$source",val)),val}!function setSource(){halResource.$source._links||(halResource.$source._links={});halResource.$source._links.self||(halResource.$source._links.self={href:null})}(),function setupLinks(){setupProperty("links",(link=>Array.isArray(link)?link.map((l=>HalLink.fromObject(halResourceService,l).$callable())):HalLink.fromObject(halResourceService,link).$callable()))}(),function setupEmbedded(){setupProperty("embedded",(element=>Array.isArray(element)?element.map((source=>asHalResource(source,!0))):(_.isObject(element)&&_.each(element,((child,name)=>{child&&(child._embedded||child._links)&&OpenprojectHalModuleHelpers.lazy(element,name,(()=>asHalResource(child,!0)))})),asHalResource(element,!0))))}(),function proxyProperties(){halResource.$embeddableKeys().forEach((property=>{Object.defineProperty(halResource,property,{get:()=>asHalResource(halResource.$source[property],!0),set(value){halResource.$source[property]=value},enumerable:!0,configurable:!0})}))}(),function setLinksAsProperties(){halResource.$linkableKeys().forEach((linkName=>{OpenprojectHalModuleHelpers.lazy(halResource,linkName,(()=>{const link=halResource.$links[linkName].$link||halResource.$links[linkName];if(Array.isArray(link)){const items=link.map((item=>halResourceService.createLinkedResource(halResource,linkName,item.$link)));var property=new observable_array(...items).on("change",(()=>{property.forEach((item=>{item.$link||property.splice(property.indexOf(item),1)})),halResource.$source._links[linkName]=property.map((item=>item.$link))}));return property}return link.href?"get"!==link.method?HalLink.fromObject(halResourceService,link).$callable():halResourceService.createLinkedResource(halResource,linkName,link):null}),(val=>setter(val,linkName)))}))}(),function setEmbeddedAsProperties(){if(!halResource.$source._embedded)return;Object.keys(halResource.$source._embedded).forEach((name=>{OpenprojectHalModuleHelpers.lazy(halResource,name,(()=>halResource.$embedded[name]),(val=>setter(val,name)))}))}()}!function(OpenprojectHalModuleHelpers){OpenprojectHalModuleHelpers.lazy=function lazy(obj,property,getter,setter){if(_.isObject(obj)){let value,done=!1;const config={get:()=>(done||(value=getter(),done=!0),value),set:()=>{},configurable:!0,enumerable:!0};setter&&(config.set=val=>{value=setter(val),done=!0}),Object.defineProperty(obj,property,config)}}}(OpenprojectHalModuleHelpers||(OpenprojectHalModuleHelpers={}));class HalError extends Error{get message(){return this.resource?.message||this.httpError?.message||"Unknown error"}get errorIdentifier(){return this.resource?.errorIdentifier||"unknown"}constructor(httpError,resource){super(),this.httpError=httpError,this.resource=resource,this.name="HALError",Object.setPrototypeOf(this,HalError.prototype)}}var mergeMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),forkJoin=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js");const MAGIC_PAGE_NUMBER=-1;function getPaginatedCollections(request,pageSize=MAGIC_PAGE_NUMBER){return request({pageSize,offset:1}).pipe((0,mergeMap.z)((collection=>{const resolvedSize=collection.pageSize;if(collection.total>collection.count){const remaining=collection.total-collection.count,pagesRemaining=Math.ceil(remaining/resolvedSize),calls=new Array(pagesRemaining).fill(null).map(((_,i)=>request({pageSize:resolvedSize,offset:i+2})));return(0,forkJoin.D)(...calls).pipe((0,map.U)((results=>[collection,...results])))}return(0,of.of)([collection])})))}function getPaginatedResults(request,pageSize=MAGIC_PAGE_NUMBER){return getPaginatedCollections(request,pageSize).pipe((0,map.U)((results=>results.reduce(((acc,next)=>acc.concat(function extractCollectionElements(collection){return collection instanceof hal_resource.X?collection.elements||[]:collection._embedded?.elements||[]}(next))),[]))))}let HalResourceService=class HalResourceService{constructor(injector,http){this.injector=injector,this.http=http,this.config={}}request(method,href,data,headers={}){if("get"===method)return this.get(href,data,headers);const config={body:data||{},headers,withCredentials:!0,responseType:"json"};return this.performRequest(method,href,config)}performRequest(method,href,config){return this.http.request(method,href,config).pipe((0,map.U)((response=>this.createHalResource(response))),(0,catchError.K)((error=>((0,debug_output.SC)((()=>console.error(`Failed to ${method} ${href}: ${error.name}`))),this.createErrorObservable(error)))))}get(href,params,headers){const config={headers,params:new http.LE({encoder:new URLParamsEncoder,fromObject:params}),withCredentials:!0,responseType:"json"};return this.performRequest("get",href,config)}getAllPaginated(href,params={},headers={}){return getPaginatedCollections((pageParams=>{const requestParams={...params,...pageParams};return this.request("get",href,this.toEprops(requestParams),headers)}),params.pageSize||-1)}put(href,data,headers){return this.request("put",href,data,headers)}post(href,data,headers){return this.request("post",href,data,headers)}patch(href,data,headers){return this.request("patch",href,data,headers)}delete(href,data,headers){return this.request("delete",href,data,headers)}registerResource(key,entry){this.config[key]=entry}get defaultClass(){return hal_resource.X}createHalResource(source,loaded=!0){_.isNil(source)&&(source=hal_resource.X.getEmptyResource());const type=source._type||"HalResource";return this.createHalResourceOfType(type,source,loaded)}createHalResourceOfType(type,source,loaded=!1){return new(this.getResourceClassOfType(type))(this.injector,source,loaded,(halResource=>initializeHalProperties(this,halResource)),type)}createHalResourceOfClass(resourceClass,source,loaded=!1){const type=source._type||"HalResource";return new resourceClass(this.injector,source,loaded,(halResource=>initializeHalProperties(this,halResource)),type)}fromLink(link){const resource=hal_resource.X.getEmptyResource(HalLink.fromObject(this,link));return this.createHalResource(resource,!1)}fromSelfLink(href){const source={_links:{self:{href}}};return this.createHalResource(source)}createLinkedResource(halResource,linkName,link){const source=hal_resource.X.getEmptyResource(),fromType=halResource.$halType,toType=this.getResourceClassOfAttribute(fromType,linkName)||"HalResource";return source._links.self=link,this.createHalResourceOfType(toType,source,!1)}getResourceClassOfType(type){const config=this.config[type];return config&&config.cls?config.cls:this.defaultClass}getResourceClassOfAttribute(type,attribute){const typeConfig=this.config[type];return(typeConfig&&typeConfig.attrTypes||{})[attribute]}toEprops(params){const deflatedArray=pako_esm.Wt(JSON.stringify(params));return{eprops:lib.J2(deflatedArray)}}createErrorObservable(error){let resource=null;const body=error.error;return"object"==typeof body&&body?._type&&(resource=this.createHalResource(error.error)),(0,throwError._)(new HalError(error,resource))}static{this.ctorParameters=()=>[{type:core.Injector},{type:http.eN}]}};function addFiltersToPath(basePath,filters,params={}){const url=new URL(basePath,window.location.origin);if(url.searchParams.has("filters")){const existingFilters=JSON.parse(url.searchParams.get("filters"));url.searchParams.set("filters",JSON.stringify(existingFilters.concat(filters.filters)))}else url.searchParams.set("filters",filters.toJson());return Object.keys(params).forEach((key=>{url.searchParams.set(key,params[key])})),url}HalResourceService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.w6)("design:paramtypes",[core.Injector,http.eN])],HalResourceService);class ApiV3ResourcePath extends SimpleResource{constructor(apiRoot,basePath,id,parent){super(basePath,id),this.apiRoot=apiRoot,this.basePath=basePath,this.id=id,this.parent=parent,this.injector=this.apiRoot.injector}subResource(segment,cls=ApiV3GettableResource){return new cls(this.apiRoot,this.path,segment,this)}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",HalResourceService)],ApiV3ResourcePath.prototype,"halResourceService",void 0);class ApiV3GettableResource extends ApiV3ResourcePath{get(){return this.halResourceService.get(this.path)}}class ApiV3GettableResourceCollection extends ApiV3GettableResource{getPaginatedResults(){return getPaginatedResults((pageParams=>this.halResourceService.request("get",this.path,pageParams)),-1)}}class ApiV3ResourceCollection extends SimpleResourceCollection{constructor(apiRoot,basePath,segment,resource){super(basePath,segment,resource),this.apiRoot=apiRoot,this.basePath=basePath,this.resource=resource,this.injector=this.apiRoot.injector}id(input){let id;return id="string"==typeof input||"number"==typeof input?input.toString():input.id,new(this.resource||ApiV3GettableResource)(this.apiRoot,this.path,id,this)}withOptionalId(id){return _.isNil(id)?this:this.id(id)}toString(){return this.path}toPath(){return this.path}filtered(filters,params={},resourceClass){const url=addFiltersToPath(this.path,filters,params);return new(resourceClass||ApiV3GettableResourceCollection)(this.apiRoot,url.pathname,url.search,this)}signalled(filters,select,params={}){const url=addFiltersToPath(this.path,filters,{...params,select:select.join(",")});return this.http.get(url.toString())}subResource(segment,cls=ApiV3GettableResource){return new cls(this.apiRoot,this.path,segment,this)}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",http.eN)],ApiV3ResourceCollection.prototype,"http",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",HalResourceService)],ApiV3ResourceCollection.prototype,"halResourceService",void 0);var api_v3_filter_builder=__webpack_require__("./src/app/shared/helpers/api-v3/api-v3-filter-builder.ts");class ApiV3Paths{constructor(basePath){this.apiV3Base=`${basePath}/api/v3`}get openApiSpecPath(){return`${this.apiV3Base}/spec.json`}previewMarkup(context){const base=`${this.apiV3Base}/render/markdown`;return context?`${base}?context=${context}`:base}principals(projectId,term){const filters=new api_v3_filter_builder.qM;return filters.add("status","!",["3"]),filters.add("member","=",[projectId.toString()]),filters.add("type","=",["User","Group"]),term&&term.length>0&&filters.add("name","~",[term]),`${this.apiV3Base}/principals?${filters.toParams({sortBy:'[["name","asc"]]',offset:"1",pageSize:"10"})}`}}let PathHelperService=class PathHelperService{constructor(){this.appBasePath=window.appBasePath||"",this.api={v3:new ApiV3Paths(this.appBasePath)}}get staticBase(){return this.appBasePath}attachmentDownloadPath(attachmentIdentifier,slug){const path=`${this.staticBase}/attachments/${attachmentIdentifier}`;return slug?`${path}/${slug}`:path}attachmentContentPath(attachmentIdentifier){return`${this.staticBase}/attachments/${attachmentIdentifier}/content`}fileLinksPath(){return`${this.api.v3.apiV3Base}/file_links`}ifcModelsPath(projectIdentifier){return`${this.staticBase}/projects/${projectIdentifier}/ifc_models`}ifcModelsNewPath(projectIdentifier){return`${this.ifcModelsPath(projectIdentifier)}/new`}ifcModelsEditPath(projectIdentifier,modelId){return`${this.ifcModelsPath(projectIdentifier)}/${modelId}/edit`}ifcModelsDeletePath(projectIdentifier,modelId){return`${this.ifcModelsPath(projectIdentifier)}/${modelId}`}bimDetailsPath(projectIdentifier,workPackageId,viewpoint=null){let path=`${this.projectPath(projectIdentifier)}/bcf/details/${workPackageId}`;return null!==viewpoint&&(path+=`?query_props=%7B"t"%3A"id%3Adesc"%2C"dr"%3A"splitCards"%7D&viewpoint=${viewpoint}`),path}highlightingCssPath(){return`${this.staticBase}/highlighting/styles`}forumPath(projectIdentifier,forumIdentifier){return`${this.projectForumPath(projectIdentifier)}/${forumIdentifier}`}keyboardShortcutsHelpPath(){return`${this.staticBase}/help/keyboard_shortcuts`}messagePath(messageIdentifier){return`${this.staticBase}/topics/${messageIdentifier}`}myPagePath(){return`${this.staticBase}/my/page`}myNotificationsSettingsPath(){return`${this.staticBase}/my/notifications`}newsPath(newsId){return`${this.staticBase}/news/${newsId}`}notificationsPath(){return`${this.staticBase}/notifications`}loginPath(){return`${this.staticBase}/login`}projectsPath(){return`${this.staticBase}/projects`}projectsNewPath(){return`${this.staticBase}/projects/new`}projectPath(projectIdentifier){return`${this.projectsPath()}/${projectIdentifier}`}projectActivityPath(projectIdentifier){return`${this.projectPath(projectIdentifier)}/activity`}projectForumPath(projectIdentifier){return`${this.projectPath(projectIdentifier)}/forums`}projectCalendarPath(projectId){return`${this.projectPath(projectId)}/calendar`}projectMembershipsPath(projectId){return`${this.projectPath(projectId)}/members`}projectNewsPath(projectId){return`${this.projectPath(projectId)}/news`}projectTimeEntriesPath(projectIdentifier){return`${this.projectPath(projectIdentifier)}/cost_reports`}projectWikiPath(projectId){return`${this.projectPath(projectId)}/wiki`}projectWorkPackagePath(projectId,wpId){return`${this.projectWorkPackagesPath(projectId)}/${wpId}`}projectWorkPackagesPath(projectId){return`${this.projectPath(projectId)}/work_packages`}projectWorkPackageNewPath(projectId){return`${this.projectWorkPackagesPath(projectId)}/new`}boardsPath(projectIdentifier){return projectIdentifier?`${this.projectPath(projectIdentifier)}/boards`:`${this.staticBase}/boards`}newBoardsPath(projectIdentifier){return`${this.boardsPath(projectIdentifier)}/new`}projectDashboardsPath(projectIdentifier){return`${this.projectPath(projectIdentifier)}/dashboards`}timeEntriesPath(workPackageId){return workPackageId?this.workPackagePath(workPackageId)+"/time_entries":this.staticBase+"/time_entries"}usersPath(){return`${this.staticBase}/users`}groupsPath(){return`${this.staticBase}/groups`}placeholderUsersPath(){return`${this.staticBase}/placeholder_users`}userPath(id){return`${this.usersPath()}/${id}`}placeholderUserPath(id){return`${this.placeholderUsersPath()}/${id}`}groupPath(id){return`${this.groupsPath()}/${id}`}rolesPath(){return`${this.staticBase}/roles`}rolePath(id){return`${this.rolesPath()}/${id}`}versionsPath(){return`${this.staticBase}/versions`}versionEditPath(id){return`${this.staticBase}/versions/${id}/edit`}versionShowPath(id){return`${this.staticBase}/versions/${id}`}workPackagesPath(){return`${this.staticBase}/work_packages`}workPackagePath(id){return`${this.staticBase}/work_packages/${id}`}workPackageShortPath(id){return`${this.staticBase}/wp/${id}`}workPackageCopyPath(workPackageId){return`${this.workPackagePath(workPackageId)}/copy`}workPackageDetailsCopyPath(projectIdentifier,workPackageId){return`${this.projectWorkPackagesPath(projectIdentifier)}/details/${workPackageId}/copy`}workPackagesBulkEditPath(){return`${this.workPackagesPath()}/bulk/edit`}workPackagesBulkMovePath(){return`${this.workPackagesPath()}/move/new`}workPackagesBulkCopyPath(){return`${this.workPackagesBulkMovePath()}?copy=true`}workPackagesBulkDeletePath(){return`${this.workPackagesPath()}/bulk`}textFormattingHelp(){return`${this.staticBase}/help/text_formatting`}};PathHelperService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],PathHelperService);class HalPayloadHelper{static extractPayload(resource,schema=null){return resource instanceof hal_resource.X&&schema?this.extractPayloadFromSchema(resource,schema):!resource||resource instanceof hal_resource.X?{}:resource}static extractPayloadFromSchema(resource,schema){const payload={_links:{}},nonLinkProperties=[];for(const key in schema)schema.hasOwnProperty(key)&&schema[key]&&schema[key].writable&&(resource.$links[key]?Array.isArray(resource[key])?payload._links[key]=_.map(resource[key],(element=>({href:element.href}))):payload._links[key]={href:resource[key]&&resource[key].href}:nonLinkProperties.push(key));return _.each(nonLinkProperties,(property=>{(resource.hasOwnProperty(property)||resource[property])&&(Array.isArray(resource[property])?payload[property]=_.map(resource[property],(element=>element instanceof hal_resource.X?this.extractPayloadFromSchema(element,element.currentSchema||element.schema):element)):payload[property]=resource[property])})),payload}}class ApiV3FormResource extends ApiV3ResourcePath{post(request={},schema=null){return this.halResourceService.post(this.path,this.extractPayload(request,schema))}extractPayload(request,schema=null){return HalPayloadHelper.extractPayload(request,schema)}}class ApiV3GridForm extends ApiV3FormResource{static extractPayload(resource,schema=null){if(resource instanceof hal_resource.X&&schema){const grid=resource,payload=HalPayloadHelper.extractPayloadFromSchema(grid,schema);return payload.widgets&&(payload.widgets=grid.widgets.map((widget=>({id:widget.id,startRow:widget.startRow,endRow:widget.endRow,startColumn:widget.startColumn,endColumn:widget.endColumn,identifier:widget.identifier,options:widget.options})))),payload}return resource||{}}extractPayload(request,schema=null){return ApiV3GridForm.extractPayload(request,schema)}}class ApiV3GridPaths extends ApiV3GettableResource{constructor(){super(...arguments),this.form=this.subResource("form",ApiV3GridForm)}patch(resource,schema=null){const payload=this.form.extractPayload(resource,schema);return this.halResourceService.patch(this.path,payload)}delete(){return this.halResourceService.delete(this.path)}}var apiv3_list_resource_interface=__webpack_require__("./src/app/core/apiv3/paths/apiv3-list-resource.interface.ts");class ApiV3GridsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"grids",ApiV3GridPaths),this.apiRoot=apiRoot,this.basePath=basePath,this.form=this.subResource("form",ApiV3GridForm)}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params))}post(resource,schema=null){return this.halResourceService.post(this.path,this.form.extractPayload(resource,schema))}}var states_service=__webpack_require__("./src/app/core/states/states.service.ts"),concat=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/concat.js"),take=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),shareReplay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),mapTo=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mapTo.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),share=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/share.js"),startWith=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/startWith.js"),auditTime=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/auditTime.js");class StateCacheService{constructor(state,holdValuesForSeconds=3600){this.multiState=state,this.cacheDurationInMs=1e3*holdValuesForSeconds}state(id){return this.multiState.get(id)}touch(id){const state=this.multiState.get(id);state.putValue(state.value,"Touching the state")}current(id,fallback){return this.state(id).getValueOr(fallback)}clearAndLoad(id,loader){const observable=loader.pipe((0,take.q)(1),(0,share.B)());return this.multiState.get(id).clearAndPutFromPromise((0,firstValueFrom.z)(observable)),observable}updateValue(id,val){return this.putValue(id,val),Promise.resolve(val)}updateFor(resource){return this.updateValue(resource.id,resource)}observe(id){return this.state(id).values$()}changes$(id){return this.state(id).changes$()}observeAll(){return this.multiState.observeChange().pipe((0,startWith.O)([]),(0,auditTime.e)(250),(0,map.U)((()=>{const mapped=[];return _.each(this.multiState.getValueOr({}),(state=>{state.value&&mapped.push(state.value)})),mapped})))}observeSome(ids){return(0,combineLatest.a)(ids.map((id=>this.observe(id).pipe((0,startWith.O)(null))))).pipe((0,map.U)((values=>values.filter((value=>!!value)))))}clearSome(...ids){ids.forEach((id=>this.multiState.get(id).clear()))}stale(id){const state=this.multiState.get(id);return!state.hasActivePromiseRequest()&&(state.isPristine()||state.isValueOlderThan(this.cacheDurationInMs))}putValue(id,val){this.multiState.get(id).putValue(val)}}var is_new_resource=__webpack_require__("./src/app/features/hal/helpers/is-new-resource.ts");class SchemaProxy{constructor(schema,resource){this.schema=schema,this.resource=resource}static create(schema,resource){return new Proxy(schema,new this(schema,resource))}get(schema,property,receiver){switch(property){case"ofProperty":return this.proxyMethod(this.ofProperty);case"isAttributeEditable":return this.proxyMethod(this.isAttributeEditable);case"mappedName":return this.proxyMethod(this.mappedName);case"isEditable":return this.isEditable;default:return Reflect.get(schema,property,receiver)}}ofProperty(property){const propertySchema=this.schema[this.mappedName(property)];return propertySchema?{...propertySchema,writable:this.isEditable&&propertySchema&&propertySchema.writable}:null}isAttributeEditable(property){const propertySchema=this.ofProperty(property);return!!propertySchema&&propertySchema.writable}get isEditable(){return(0,is_new_resource.Z)(this.resource)||!!this.resource.$links.update}mappedName(property){return property}proxyMethod(method){const self=this;return new Proxy(method,{apply:(_,__,argumentsList)=>method.apply(self,[argumentsList[0]])})}}class WorkPackageSchemaProxy extends SchemaProxy{get(schema,property,receiver){switch(property){case"isMilestone":return this.isMilestone;case"isReadonly":return this.isReadonly;default:return super.get(schema,property,receiver)}}ofProperty(property){if("combinedDate"===property){const propertySchema=super.ofProperty("startDate");return propertySchema?(propertySchema.writable=propertySchema.writable||this.isAttributeEditable("dueDate")||this.isAttributeEditable("scheduleManually"),propertySchema):null}return super.ofProperty(property)}get isReadonly(){return this.resource.readonly||!!this.resource.status?.isReadonly}isAttributeEditable(property){return(!this.isReadonly||"status"===property)&&(["startDate","dueDate","date"].includes(property)&&this.resource.scheduleManually?super.isAttributeEditable("scheduleManually"):super.isAttributeEditable(property))}get isMilestone(){return this.schema.hasOwnProperty("date")}mappedName(property){return!this.isMilestone||"startDate"!==property&&"dueDate"!==property?property:"date"}}class SchemaResource extends hal_resource.X{get state(){return this.states.schemas.get(this.href)}get availableAttributes(){return _.keys(this.$source).filter((name=>0!==name.indexOf("_")))}attributeFromLocalizedName(name){let match=null;for(const attribute of this.availableAttributes){const fieldSchema=this[attribute];if(fieldSchema?.name===name){match=attribute;break}}return match}}let SchemaCacheService=class SchemaCacheService extends StateCacheService{constructor(states,halResourceService){super(states.schemas),this.states=states,this.halResourceService=halResourceService,this.fallbackSchema=this.halResourceService.createHalResourceOfClass(SchemaResource,{},!0),this.putValue("__fallback",this.fallbackSchema)}state(id){return super.state(this.stateKey(id))}of(resource){const schema=this.state(resource).value;return"WorkPackage"===resource._type?WorkPackageSchemaProxy.create(schema,resource):SchemaProxy.create(schema,resource)}getSchemaHref(resource){return resource.$links.schema?.href}ensureLoaded(resource){const href=resource instanceof hal_resource.X?this.getSchemaHref(resource):resource;return(0,firstValueFrom.z)(this.requireAndStream(href||"__fallback"))}requireAndStream(href,force=!1){return(this.stale(href)||force)&&this.clearAndLoad(href,this.load(href)),this.state(href).values$()}load(href){return this.halResourceService.get(href).pipe((0,take.q)(1))}loadAll(hrefs){return Promise.all(hrefs.map((href=>this.load(href))))}update(resource,schema){this.multiState.get(this.stateKey(resource)).putValue(schema)}stateKey(id){return id instanceof hal_resource.X?this.getSchemaHref(id)||"__fallback":id}static{this.ctorParameters=()=>[{type:states_service.G},{type:HalResourceService}]}};SchemaCacheService=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[states_service.G,HalResourceService])],SchemaCacheService);class ApiV3Resource extends ApiV3GettableResource{constructor(){super(...arguments),this.cache=this.createCache()}requireAndStream(force=!1){const id=this.id.toString();if(this.cache.stale(id)||force){const observable=this.load().pipe((0,take.q)(1),(0,shareReplay.d)(1));return this.cache.clearAndLoad(id,observable),(0,concat.z)(observable,this.cache.state(id).values$())}return this.cache.state(id).values$()}observe(){return this.cache.observe(this.id.toString())}get(){return this.requireAndStream(!1).pipe((0,take.q)(1))}refresh(){return this.requireAndStream(!0).pipe((0,take.q)(1)).toPromise()}load(){return this.halResourceService.get(this.path).pipe((0,switchMap.w)((resource=>resource.$links.schema?this.schemaCache.requireAndStream(resource.$links.schema.href).pipe((0,take.q)(1),(0,mapTo.h)(resource)):(0,of.of)(resource))))}touch(resource){this.cache.updateFor(resource)}cacheResponse(){return source$=>source$.pipe((0,tap.b)((resource=>this.touch(resource))))}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",states_service.G)],ApiV3Resource.prototype,"states",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",SchemaCacheService)],ApiV3Resource.prototype,"schemaCache",void 0);class ApiV3TimeEntryPaths extends ApiV3Resource{constructor(){super(...arguments),this.form=this.subResource("form",ApiV3FormResource)}patch(payload,schema=null){return this.halResourceService.patch(this.path,this.extractPayload(payload,schema)).pipe((0,tap.b)((resource=>this.touch(resource))))}delete(){return this.halResourceService.delete(this.path).pipe((0,tap.b)((()=>this.cache.clearSome(this.id.toString()))))}createCache(){return this.parent.cache}extractPayload(resource,schema=null){return resource instanceof hal_resource.X&&schema?HalPayloadHelper.extractPayloadFromSchema(resource,schema):resource instanceof hal_resource.X?{}:resource}}class CollectionResource extends hal_resource.X{updateElements(){return this.href?this.$load().then((collection=>this.elements=collection.elements)):Promise.resolve()}}class ApiV3Collection extends ApiV3ResourceCollection{constructor(){super(...arguments),this.cache=this.createCache()}observeAll(){return this.cache.observeAll()}cacheResponse(){return source$=>source$.pipe((0,tap.b)((response=>{response instanceof CollectionResource?response.elements?.forEach(this.touch.bind(this)):response instanceof hal_resource.X&&this.touch(response)})))}touch(resource){this.cache.updateFor(resource)}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",states_service.G)],ApiV3Collection.prototype,"states",void 0);class TimeEntryCacheService extends StateCacheService{constructor(injector,state){super(state),this.injector=injector}updateValue(id,val){return this.schemaCache.ensureLoaded(val).then((()=>(this.putValue(id,val),val)))}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",states_service.G)],TimeEntryCacheService.prototype,"states",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",SchemaCacheService)],TimeEntryCacheService.prototype,"schemaCache",void 0);class ApiV3TimeEntriesPaths extends ApiV3Collection{constructor(apiRoot,basePath){super(apiRoot,basePath,"time_entries",ApiV3TimeEntryPaths),this.apiRoot=apiRoot,this.basePath=basePath,this.form=this.subResource("form",ApiV3FormResource),this.schema=this.subResource("schema")}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params)).pipe(this.cacheResponse())}post(payload){return this.halResourceService.post(this.path,payload).pipe(this.cacheResponse())}createCache(){return new TimeEntryCacheService(this.injector,this.states.timeEntries)}}class ApiV3CapabilityPaths extends ApiV3GettableResource{}class ApiV3CapabilitiesPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"capabilities",ApiV3CapabilityPaths),this.apiRoot=apiRoot,this.basePath=basePath}}class ApiV3AvailableProjectsPaths extends ApiV3GettableResource{list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params))}exists(projectId){return this.halResourceService.get(this.path,{filters:(0,api_v3_filter_builder.PQ)("id","=",[projectId]).toJson()}).pipe((0,map.U)((collection=>collection.count>0)))}}class ApiV3MembershipsForm extends ApiV3FormResource{static extractPayload(resource){return{_links:{project:{href:resource.project.href},principal:{href:resource.principal.href},roles:resource.roles.map((role=>({href:role.href})))},_meta:{notificationMessage:{raw:resource.notificationMessage.raw}}}}extractPayload(request){return ApiV3MembershipsForm.extractPayload(request)}}class ApiV3MembershipsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"memberships"),this.apiRoot=apiRoot,this.basePath=basePath,this.form=this.subResource("form",ApiV3MembershipsForm),this.available_projects=this.subResource("available_projects",ApiV3AvailableProjectsPaths)}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params))}post(resource){const payload=this.form.extractPayload(resource);return this.halResourceService.post(this.path,payload)}}class ApiV3UserPreferencesPaths extends ApiV3ResourcePath{get(){return this.http.get(this.path)}patch(payload){return this.http.patch(this.path,payload,{withCredentials:!0,responseType:"json"})}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",http.eN)],ApiV3UserPreferencesPaths.prototype,"http",void 0);class ApiV3UserPaths extends ApiV3Resource{constructor(){super(...arguments),this.avatar=this.subResource("avatar"),this.preferences=this.subResource("preferences",ApiV3UserPreferencesPaths)}createCache(){return new StateCacheService(this.states.users)}}class ApiV3UsersPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"users",ApiV3UserPaths),this.apiRoot=apiRoot,this.basePath=basePath,this.me=this.subResource("me",ApiV3UserPaths),this.form=this.subResource("form",ApiV3FormResource)}post(resource){return this.halResourceService.post(this.path,resource)}}class ApiV3TypePaths extends ApiV3Resource{createCache(){return this.parent.cache}}class ApiV3TypesPaths extends ApiV3Collection{constructor(apiRoot,basePath){super(apiRoot,basePath,"types",ApiV3TypePaths),this.apiRoot=apiRoot,this.basePath=basePath}createCache(){return new StateCacheService(this.states.types)}}var id_from_link=__webpack_require__("./src/app/features/hal/helpers/id-from-link.ts");class QueryFilterInstanceResource extends hal_resource.X{constructor(){super(...arguments),this.memoizedCurrentSchemas={}}$initialize(source){super.$initialize(source),this.$links.schema={href:`${this.pathHelper.api.v3.apiV3Base}/queries/filter_instance_schemas/${(0,id_from_link.Z)(this.filter.href)}`}}get id(){return this.filter.id}get name(){return this.filter.name}get currentSchema(){if(!this.operator)return null;const key=this.operator.href.toString();if(void 0===this.memoizedCurrentSchemas[key])try{this.memoizedCurrentSchemas[key]=this.schemaCache.of(this).resultingSchema(this.operator)}catch(e){console.error(`Failed to access filter schema${e}`)}return this.memoizedCurrentSchemas[key]}isCompletelyDefined(){return this.values.length||this.currentSchema&&!this.currentSchema.isValueRequired()}findOperator(operatorSymbol){return _.find(this.schemaCache.of(this).availableOperators,(operator=>operator.id===operatorSymbol))}isTemplated(){let flag=!1;return this.values.find((value=>{const href=value?.href||value.toString()||"";flag=href.includes("{id}")})),flag}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(SchemaCacheService),(0,tslib_es6.w6)("design:type",SchemaCacheService)],QueryFilterInstanceResource.prototype,"schemaCache",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(PathHelperService),(0,tslib_es6.w6)("design:type",PathHelperService)],QueryFilterInstanceResource.prototype,"pathHelper",void 0);class QueryResource extends hal_resource.X{setSortBy(newSortBy){this.sortBy=newSortBy}$initialize(source){super.$initialize(source),this.filters=this.filters.map((filter=>new QueryFilterInstanceResource(this.injector,filter,!0,this.halInitializer,"QueryFilterInstance")))}}class ApiV3QueryOrder extends SimpleResource{constructor(injector,basePath,id){super(basePath,id),this.injector=injector,this.basePath=basePath,this.id=id}get(){return this.http.get(this.path).toPromise().then((result=>result||{}))}update(delta){return this.http.patch(this.path,{delta},{withCredentials:!0}).toPromise().then((response=>response.t))}delete(id,...wpIds){const delta={};return wpIds.forEach((id=>delta[id]=-1)),this.update(delta)}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",http.eN)],ApiV3QueryOrder.prototype,"http",void 0);var URI=__webpack_require__("./node_modules/urijs/src/URI.js");let QueryFiltersService=class QueryFiltersService{constructor(schemaCache){this.schemaCache=schemaCache}getFilterSchema(filter,form){const available=form.$embedded.schema.filtersSchemas.elements;return _.find(available,(schema=>schema.allowedFilterValue.href===filter.filter.href))}mapSchemasIntoFilters(query,form){query.filters.forEach((filter=>{const schema=this.getFilterSchema(filter,form);filter.$links.schema=schema.$links.self,this.schemaCache.update(filter,schema)}))}setSchemas(schemas){schemas.elements.forEach((schema=>{this.schemaCache.updateValue(schema.$links.self.href,schema)}))}static{this.ctorParameters=()=>[{type:SchemaCacheService}]}};QueryFiltersService=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[SchemaCacheService])],QueryFiltersService);class ApiV3QueryForm extends ApiV3FormResource{load(query){const payload={name:query.name||"!!!__O__o__O__!!!"};query.project&&(payload._links={project:{href:query.project.href}});const{path}=this.apiRoot.queries.withOptionalId(query.id).form;return this.halResourceService.post(path,payload).pipe((0,tap.b)((form=>this.queryFilters.setSchemas(form.$embedded.schema.$embedded.filtersSchemas))),(0,map.U)((form=>[form,this.buildQueryResource(form)])))}loadWithParams(params,queryId,projectIdentifier,payload={}){queryId||payload.name||(payload.name="!!!__O__o__O__!!!"),projectIdentifier&&(payload._links=payload._links||{},payload._links.project={href:this.apiRoot.projects.id(projectIdentifier).toString()});const{path}=this.apiRoot.queries.withOptionalId(queryId).form,href=URI(path).search(params).toString();return this.halResourceService.post(href,payload).pipe((0,tap.b)((form=>this.queryFilters.setSchemas(form.$embedded.schema.$embedded.filtersSchemas))),(0,map.U)((form=>[form,this.buildQueryResource(form)])))}buildQueryResource(form){return this.halResourceService.createHalResourceOfType("Query",form.payload)}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",QueryFiltersService)],ApiV3QueryForm.prototype,"queryFilters",void 0);class ApiV3QueryPaths extends ApiV3GettableResource{constructor(){super(...arguments),this.form=this.subResource("form",ApiV3QueryForm),this.order=new ApiV3QueryOrder(this.injector,this.path,"order")}parameterised(params){return this.halResourceService.get(this.path,params)}patch(payload,form){return payload instanceof QueryResource&&form&&(this.queryFilters.mapSchemasIntoFilters(payload,form),payload=HalPayloadHelper.extractPayloadFromSchema(payload,form.schema)),this.halResourceService.patch(this.path,payload)}delete(){return this.halResourceService.delete(this.path)}paginated(pagination){return this.parameterised(pagination)}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",QueryFiltersService)],ApiV3QueryPaths.prototype,"queryFilters",void 0);class ApiV3QueriesPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"queries",ApiV3QueryPaths),this.apiRoot=apiRoot,this.basePath=basePath,this.form=this.subResource("form",ApiV3QueryForm),this.default=this.subResource("default"),this.filter_instance_schemas=new ApiV3ResourceCollection(this.apiRoot,this.path,"filter_instance_schemas")}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params))}find(queryData,queryId,projectIdentifier){let path;return path=queryId?this.apiRoot.queries.id(queryId).toString():this.apiRoot.withOptionalProject(projectIdentifier).queries.default.toString(),this.halResourceService.get(path,queryData)}parameterised(params){return this.halResourceService.get(this.default.path,params)}post(payload,form){return payload instanceof QueryResource&&form&&(this.queryFilters.mapSchemasIntoFilters(payload,form),payload=HalPayloadHelper.extractPayloadFromSchema(payload,form.schema)),this.halResourceService.post(this.apiRoot.queries.path,payload)}toggleStarred(query){return query.starred?query.unstar():query.star()}getIcalUrl(query,tokenName){return query.icalUrl({token_name:tokenName})}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",QueryFiltersService)],ApiV3QueriesPaths.prototype,"queryFilters",void 0);var from=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js");class ApiV3RelationsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"relations"),this.apiRoot=apiRoot,this.basePath=basePath}get(){return this.halResourceService.get(this.path)}loadInvolved(workPackageIds){const validIds=_.filter(workPackageIds,(id=>/\d+/.test(id)));return 0===validIds.length?(0,from.D)([]):this.filtered((0,api_v3_filter_builder.PQ)("involved","=",validIds)).getPaginatedResults()}}class ApiV3WorkPackageForm extends ApiV3FormResource{forTypePayload(payload){payload._links.type&&payload._links.type;return this.post(payload)}forPayload(payload){return this.post(payload)}}class ApiV3WorkPackagePaths extends ApiV3Resource{constructor(){super(...arguments),this.relations=this.subResource("relations",ApiV3RelationsPaths),this.revisions=this.subResource("revisions"),this.activities=this.subResource("activities"),this.available_watchers=this.subResource("available_watchers"),this.available_projects=this.subResource("available_projects"),this.github_pull_requests=this.subResource("github_pull_requests"),this.form=this.subResource("form",ApiV3WorkPackageForm)}createCache(){return this.parent.cache}}var es2015=__webpack_require__("./node_modules/@openproject/reactivestates/dist/es2015/index.js");let WorkPackageCache=class WorkPackageCache extends StateCacheService{constructor(injector,state){super(state),this.injector=injector}updateValue(id,val){return this.schemaCacheService.ensureLoaded(val).then((()=>(this.putValue(id,val),val)))}updateWorkPackage(wp,immediate=!1){return immediate||(0,is_new_resource.Z)(wp)?super.updateValue(wp.id,wp):this.updateValue(wp.id,wp)}updateWorkPackageList(list,skipOnIdentical=!0){list.forEach((i=>{const wp=i,workPackageId=wp.id,state=this.multiState.get(workPackageId);(0,is_new_resource.Z)(wp)?state.putValue(wp):this.schemaCacheService.ensureLoaded(wp).then((()=>{skipOnIdentical&&state.hasValue()&&_.isEqual(state.value.$source,wp.$source)?(0,debug_output.qu)("Skipping identical work package from updating"):state.putValue(wp)}))}))}static{this.ctorParameters=()=>[{type:core.Injector},{type:es2015.J$}]}};(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",SchemaCacheService)],WorkPackageCache.prototype,"schemaCacheService",void 0),WorkPackageCache=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[core.Injector,es2015.J$])],WorkPackageCache);class ApiV3WorkPackageCachedSubresource extends ApiV3GettableResource{get(){return this.halResourceService.get(this.path).pipe((0,tap.b)((collection=>collection.schemas&&this.updateSchemas(collection.schemas))),(0,tap.b)((collection=>this.cache.updateWorkPackageList(collection.elements))),(0,take.q)(1))}get cache(){return this.parent.cache}updateSchemas(schemas){schemas.elements.forEach((schema=>{this.states.schemas.get(schema.href).putValue(schema)}))}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",states_service.G)],ApiV3WorkPackageCachedSubresource.prototype,"states",void 0);class ApiV3WorkPackagesPaths extends ApiV3Collection{constructor(apiRoot,basePath){super(apiRoot,basePath,"work_packages",ApiV3WorkPackagePaths),this.apiRoot=apiRoot,this.basePath=basePath,this.form=this.subResource("form",ApiV3WorkPackageForm),this.available_projects=this.subResource("available_projects")}requireAll(ids){return 0===ids.length?Promise.resolve():new Promise(((resolve,reject)=>{this.loadCollectionsFor(_.uniq(ids)).then((pagedResults=>{_.each(pagedResults,(results=>{results.schemas&&_.each(results.schemas.elements,(schema=>{this.states.schemas.get(schema.href).putValue(schema)})),results.elements&&this.cache.updateWorkPackageList(results.elements)})),resolve(void 0)}),reject)}))}post(payload){return this.halResourceService.post(this.path,payload).pipe(this.cacheResponse())}filtered(filters,params={}){return super.filtered(filters,params,ApiV3WorkPackageCachedSubresource)}filterByTypeaheadOrId(term,idOnly=!1,additionalParams={}){const filters=new api_v3_filter_builder.qM;idOnly?filters.add("id","=",[term]):filters.add("typeahead","**",[term]);const params={sortBy:'[["updatedAt","desc"]]',offset:"1",pageSize:"10",...additionalParams};return this.filtered(filters,params)}filterUpdatedSince(ids,timestamp){const filters=(new api_v3_filter_builder.qM).add("id","=",ids.filter((n=>n))).add("updatedAt","<>d",[timestamp,""]);return this.filtered(filters,{offset:"1",pageSize:"10"})}loadCollectionsFor(ids){return this.halResourceService.getAllPaginated(this.path,{filters:(0,api_v3_filter_builder.PQ)("id","=",ids).toJson(),valid_subset:!0}).toPromise()}createCache(){return new WorkPackageCache(this.injector,this.states.workPackages)}}class ApiV3VersionPaths extends ApiV3Resource{patch(payload){return this.halResourceService.patch(this.path,payload).pipe((0,tap.b)((version=>this.touch(version))))}createCache(){return new StateCacheService(this.states.versions)}}class ApiV3VersionsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"versions",ApiV3VersionPaths),this.apiRoot=apiRoot,this.basePath=basePath,this.form=this.subResource("form",ApiV3FormResource),this.available_projects=this.subResource("available_projects",ApiV3AvailableProjectsPaths)}get(){return this.halResourceService.get(this.path)}post(payload){return this.halResourceService.post(this.path,payload)}}class ApiV3ProjectCopyPaths extends SimpleResource{constructor(apiRoot,basePath){super(basePath,"copy"),this.apiRoot=apiRoot,this.basePath=basePath,this.form=new ApiV3FormResource(this.apiRoot,this.path,"form")}}class ApiV3ProjectPaths extends ApiV3Resource{constructor(){super(...arguments),this.available_assignees=this.subResource("available_assignees"),this.queries=new ApiV3QueriesPaths(this.apiRoot,this.path),this.types=new ApiV3TypesPaths(this.apiRoot,this.path),this.work_packages=new ApiV3WorkPackagesPaths(this.apiRoot,this.path),this.versions=new ApiV3VersionsPaths(this.apiRoot,this.path),this.copy=new ApiV3ProjectCopyPaths(this.apiRoot,this.path)}createCache(){return this.parent.cache}}let ProjectCache=class ProjectCache extends StateCacheService{constructor(injector,state){super(state),this.injector=injector}updateValue(id,val){return this.schemaCacheService.ensureLoaded(val).then((()=>(this.putValue(id,val),val)))}static{this.ctorParameters=()=>[{type:core.Injector},{type:es2015.J$}]}};(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",SchemaCacheService)],ProjectCache.prototype,"schemaCacheService",void 0),ProjectCache=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[core.Injector,es2015.J$])],ProjectCache);class ApiV3ProjectsPaths extends ApiV3Collection{constructor(apiRoot,basePath){super(apiRoot,basePath,"projects",ApiV3ProjectPaths),this.apiRoot=apiRoot,this.basePath=basePath,this.schema=this.subResource("schema")}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params)).pipe(this.cacheResponse())}createCache(){return new ProjectCache(this.injector,this.states.projects)}}class ApiV3StatusPaths extends ApiV3Resource{createCache(){return new StateCacheService(this.states.statuses)}}class ApiV3StatusesPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"statuses",ApiV3StatusPaths),this.apiRoot=apiRoot,this.basePath=basePath}get(){return this.halResourceService.get(this.path).pipe((0,tap.b)((collection=>{collection.elements.forEach(((resource,id)=>{this.id(resource.id).cache.updateValue(resource.id,resource)}))})))}}class ApiV3RolePaths extends ApiV3Resource{createCache(){return new StateCacheService(this.states.roles)}}class ApiV3RolesPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"roles",ApiV3RolePaths),this.apiRoot=apiRoot,this.basePath=basePath}get(){return this.halResourceService.get(this.path).pipe((0,tap.b)((collection=>{collection.elements.forEach(((resource,id)=>{this.id(resource.id).cache.updateValue(resource.id,resource)}))})))}}class ApiV3NewsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"news"),this.apiRoot=apiRoot,this.basePath=basePath}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params))}}class ApiV3HelpTextsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"help_texts"),this.apiRoot=apiRoot,this.basePath=basePath}get(){return this.halResourceService.get(this.path)}}class ApiV3ConfigurationPath extends ApiV3GettableResource{constructor(apiRoot,basePath){super(apiRoot,basePath,"configuration"),this.apiRoot=apiRoot,this.basePath=basePath}get(){return this.$configuration?this.$configuration:this.$configuration=this.halResourceService.get(this.path).pipe((0,shareReplay.d)())}}class Board{constructor(grid){this.grid=grid}get id(){return this.grid.id}get name(){return this.grid.name}get editable(){return!!this.grid.updateImmediately}get isFree(){return!this.isAction}get isAction(){return"action"===this.grid.options.type}get actionAttribute(){if(!this.isFree)return this.grid.options.attribute}set highlightingMode(val){this.grid.options.highlightingMode=val}get highlightingMode(){return this.grid.options.highlightingMode||"none"}set name(name){this.grid.name=name}addQuery(widget){widget.isNewWidget=!0,this.grid.widgets.push(widget)}removeQuery(widget){this.grid.widgets=this.grid.widgets.filter((el=>el.options.queryId!==widget.options.queryId))}get queries(){return this.grid.widgets}get createdAt(){return this.grid.createdAt}get filters(){return this.grid.options.filters||[]}set filters(filters){this.grid.options.filters=filters}sortWidgets(){this.grid.widgets=this.grid.widgets.sort(((a,b)=>a.startColumn-b.startColumn))}showStatusButton(){return"status"!==this.actionAttribute}}var takeUntil=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js");let AuthorisationService=class AuthorisationService{constructor(){this.links=(0,es2015.qH)({})}initModelAuth(modelName,modelLinks){this.links.doModify((value=>{const links={...value};return links[modelName]=modelLinks,links}))}observeUntil(unsubscribe){return this.links.values$().pipe((0,takeUntil.R)(unsubscribe))}can(modelName,action){const links=this.links.getValueOr({});return links[modelName]&&action in links[modelName]}cannot(modelName,action){return!this.can(modelName,action)}};AuthorisationService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],AuthorisationService);class ApiV3BoardPath extends ApiV3Resource{load(){return this.apiRoot.grids.id(this.id).get().pipe((0,map.U)((grid=>{const newBoard=new Board(grid);return newBoard.sortWidgets(),newBoard})))}save(board){return this.fetchSchema(board).pipe((0,switchMap.w)((schema=>this.apiRoot.grids.id(board.grid).patch(board.grid,schema))),(0,map.U)((grid=>(board.grid=grid,board.sortWidgets(),board))),this.cacheResponse())}delete(){return this.apiRoot.grids.id(this.id).delete().pipe((0,tap.b)((()=>this.cache.clearSome(this.id.toString()))))}fetchSchema(board){return this.apiRoot.grids.id(board.grid).form.post({}).pipe((0,map.U)((form=>form.schema)))}createCache(){return this.parent.cache}}class ApiV3BoardsPaths extends ApiV3Collection{constructor(apiRoot,basePath){super(apiRoot,basePath,"grids",ApiV3BoardPath),this.apiRoot=apiRoot,this.basePath=basePath}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params)).pipe((0,tap.b)((collection=>this.authorisationService.initModelAuth("boards",collection.$links))),(0,map.U)((collection=>collection.elements.map((grid=>{const board=new Board(grid);return board.sortWidgets(),this.touch(board),board})))))}allInScope(projectIdentifier){const path=this.boardPath(projectIdentifier);return this.list({filters:[["scope","=",[path]]],pageSize:MAGIC_PAGE_NUMBER})}create(type,name,projectIdentifier,actionAttribute){const scope=this.boardPath(projectIdentifier);return this.createGrid(type,name,scope,actionAttribute).pipe((0,map.U)((grid=>new Board(grid))))}boardPath(projectIdentifier){return this.PathHelper.boardsPath(projectIdentifier)}createCache(){const state=this.states.forType("boards");return new StateCacheService(state)}createGrid(type,name,scope,actionAttribute){const payload=_.set({name},"_links.scope.href",scope);return payload.options={type},actionAttribute&&(payload.options.attribute=actionAttribute),this.apiRoot.grids.form.post(payload).pipe((0,switchMap.w)((form=>this.apiRoot.grids.post(form.payload.$source))))}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",AuthorisationService)],ApiV3BoardsPaths.prototype,"authorisationService",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",PathHelperService)],ApiV3BoardsPaths.prototype,"PathHelper",void 0);class ApiV3PlaceholderUserPaths extends ApiV3GettableResource{patch(resource){return this.halResourceService.patch(this.path,{name:resource.name})}delete(){return this.halResourceService.delete(this.path)}}class ApiV3PlaceholderUsersPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"placeholder_users",ApiV3PlaceholderUserPaths),this.apiRoot=apiRoot,this.basePath=basePath}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params))}post(resource){return this.halResourceService.post(this.path,resource)}}class ApiV3GroupPaths extends ApiV3GettableResource{patch(resource){return this.halResourceService.patch(this.path,{name:resource.name})}delete(){return this.halResourceService.delete(this.path)}}class ApiV3GroupsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"groups",ApiV3GroupPaths),this.apiRoot=apiRoot,this.basePath=basePath}list(params){return this.halResourceService.get(this.path+(0,apiv3_list_resource_interface.g)(params))}post(resource){return this.halResourceService.post(this.path,resource)}}class ApiV3NotificationPaths extends ApiV3GettableResource{markRead(){return this.http.post(`${this.path}/read_ian`,{},{withCredentials:!0,responseType:"json"})}markUnread(){return this.http.post(`${this.path}/unread_ian`,{},{withCredentials:!0,responseType:"json"})}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",http.eN)],ApiV3NotificationPaths.prototype,"http",void 0);class ApiV3NotificationsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"notifications",ApiV3NotificationPaths),this.apiRoot=apiRoot,this.basePath=basePath}facet(facet,params){return"unread"===facet?this.unread(params):this.list(params)}list(params){return this.http.get(this.path+(0,apiv3_list_resource_interface.g)(params))}listPath(params){return this.path+(0,apiv3_list_resource_interface.g)(params)}unread(additional){const filters=[...additional?.filters?additional.filters:[],["readIAN","=",!1]],params={...additional,filters};return this.list(params)}markAsReadByIds(ids){return this.http.post(`${this.path}/read_ian${(0,apiv3_list_resource_interface.g)({filters:[["id","=",ids.map((id=>id.toString()))]]})}`,{},{withCredentials:!0,responseType:"json"})}markAsReadByFilter(filters){return this.http.post(`${this.path}/read_ian${(0,apiv3_list_resource_interface.g)({filters:filters.map((f=>[f[0],f[1],f[2]]))})}`,{},{withCredentials:!0,responseType:"json"})}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",http.eN)],ApiV3NotificationsPaths.prototype,"http",void 0);class ApiV3ViewsPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"views"),this.apiRoot=apiRoot,this.basePath=basePath}post(resource,type){return this.http.post(`${this.path}/${type}`,resource,{withCredentials:!0,responseType:"json"}).pipe((0,map.U)((view=>view)))}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",http.eN)],ApiV3ViewsPaths.prototype,"http",void 0);class Apiv3BackupsPath extends ApiV3GettableResource{constructor(apiRoot,basePath){super(apiRoot,basePath,"backups"),this.apiRoot=apiRoot,this.basePath=basePath}post(backupToken,includeAttachments){return this.halResourceService.post(this.path,{backupToken,attachments:includeAttachments})}}class ApiV3DayPaths extends ApiV3GettableResource{}class ApiV3DaysPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"days",ApiV3DayPaths),this.apiRoot=apiRoot,this.basePath=basePath,this.week=new ApiV3ResourceCollection(this.apiRoot,this.path,"week"),this.nonWorkingDays=new ApiV3ResourceCollection(this.apiRoot,this.path,"non_working")}}class ApiV3StoragesPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"storages"),this.apiRoot=apiRoot,this.basePath=basePath,this.files=this.subResource("files")}}class ApiV3ProjectStoragesPaths extends ApiV3ResourceCollection{constructor(apiRoot,basePath){super(apiRoot,basePath,"project_storages"),this.apiRoot=apiRoot,this.basePath=basePath}}let ApiV3Service=class ApiV3Service{constructor(injector,pathHelper){this.injector=injector,this.pathHelper=pathHelper,this.attachments=this.apiV3CollectionEndpoint("attachments"),this.backups=this.apiV3CustomEndpoint(Apiv3BackupsPath),this.configuration=this.apiV3CustomEndpoint(ApiV3ConfigurationPath),this.days=this.apiV3CustomEndpoint(ApiV3DaysPaths),this.documents=this.apiV3CollectionEndpoint("documents"),this.file_links=this.apiV3CollectionEndpoint("file_links"),this.notifications=this.apiV3CustomEndpoint(ApiV3NotificationsPaths),this.github_pull_requests=this.apiV3CollectionEndpoint("github_pull_requests"),this.grids=this.apiV3CustomEndpoint(ApiV3GridsPaths),this.principals=this.apiV3CollectionEndpoint("principals"),this.root=this.apiV3SingularEndpoint(""),this.statuses=this.apiV3CustomEndpoint(ApiV3StatusesPaths),this.relations=this.apiV3CustomEndpoint(ApiV3RelationsPaths),this.priorities=this.apiV3CollectionEndpoint("priorities"),this.time_entries=this.apiV3CustomEndpoint(ApiV3TimeEntriesPaths),this.actions=this.apiV3CollectionEndpoint("actions"),this.capabilities=this.apiV3CustomEndpoint(ApiV3CapabilitiesPaths),this.memberships=this.apiV3CustomEndpoint(ApiV3MembershipsPaths),this.news=this.apiV3CustomEndpoint(ApiV3NewsPaths),this.storages=this.apiV3CustomEndpoint(ApiV3StoragesPaths),this.projectStorages=this.apiV3CustomEndpoint(ApiV3ProjectStoragesPaths),this.types=this.apiV3CustomEndpoint(ApiV3TypesPaths),this.versions=this.apiV3CustomEndpoint(ApiV3VersionsPaths),this.work_packages=this.apiV3CustomEndpoint(ApiV3WorkPackagesPaths),this.queries=this.apiV3CustomEndpoint(ApiV3QueriesPaths),this.projects=this.apiV3CustomEndpoint(ApiV3ProjectsPaths),this.users=this.apiV3CustomEndpoint(ApiV3UsersPaths),this.placeholder_users=this.apiV3CustomEndpoint(ApiV3PlaceholderUsersPaths),this.groups=this.apiV3CustomEndpoint(ApiV3GroupsPaths),this.roles=this.apiV3CustomEndpoint(ApiV3RolesPaths),this.help_texts=this.apiV3CustomEndpoint(ApiV3HelpTextsPaths),this.job_statuses=this.apiV3CollectionEndpoint("job_statuses"),this.views=this.apiV3CustomEndpoint(ApiV3ViewsPaths),this.boards=this.apiV3CustomEndpoint(ApiV3BoardsPaths)}withOptionalProject(projectIdentifier){return _.isNil(projectIdentifier)?this:this.projects.id(projectIdentifier)}collectionFromString(fullPath){const path=fullPath.replace(`${this.pathHelper.api.v3.apiV3Base}/`,"");return this.apiV3CollectionEndpoint(path)}apiV3CollectionEndpoint(segment,resource){return new ApiV3ResourceCollection(this,this.pathHelper.api.v3.apiV3Base,segment,resource)}apiV3CustomEndpoint(cls){return new cls(this,this.pathHelper.api.v3.apiV3Base)}apiV3SingularEndpoint(segment){return new ApiV3GettableResource(this,this.pathHelper.api.v3.apiV3Base,segment)}static{this.ctorParameters=()=>[{type:core.Injector},{type:PathHelperService}]}};ApiV3Service=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.w6)("design:paramtypes",[core.Injector,PathHelperService])],ApiV3Service)},"./src/app/core/apiv3/paths/apiv3-list-resource.interface.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>listParamsString});var core_app_shared_helpers_api_v3_api_v3_filter_builder__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/shared/helpers/api-v3/api-v3-filter-builder.ts");function listParamsString(params){const queryProps=[];if(params&&params.sortBy&&queryProps.push(`sortBy=${JSON.stringify(params.sortBy)}`),params&&params.groupBy&&queryProps.push(`groupBy=${params.groupBy}`),params&&void 0!==params.pageSize&&queryProps.push(`pageSize=${params.pageSize}`),params&&void 0!==params.offset&&queryProps.push(`offset=${params.offset}`),params&&void 0!==params.select&&queryProps.push(`select=${params.select.join(",")}`),params&&params.filters){const filters=new core_app_shared_helpers_api_v3_api_v3_filter_builder__WEBPACK_IMPORTED_MODULE_0__.qM;params.filters.forEach((filterParam=>{filters.add(...filterParam)})),queryProps.push(filters.toParams())}let queryPropsString="";return queryProps.length&&(queryPropsString=`?${queryProps.join("&")}`),queryPropsString}},"./src/app/core/browser/device.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>DeviceService});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let DeviceService=class DeviceService{constructor(){this.mobileWidthTreshold=544}get isMobile(){return window.innerWidth<this.mobileWidthTreshold}};DeviceService=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"})],DeviceService)},"./src/app/core/config/configuration.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>ConfigurationService});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),core_app_core_apiv3_api_v3_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/apiv3/api-v3.service.ts");let ConfigurationService=class ConfigurationService{constructor(apiV3Service){this.apiV3Service=apiV3Service}initialize(){return this.loadConfiguration()}commentsSortedInDescendingOrder(){return this.userPreference("commentSortDescending")}warnOnLeavingUnsaved(){return this.userPreference("warnOnLeavingUnsaved")}autoHidePopups(){return this.userPreference("autoHidePopups")}isTimezoneSet(){return!!this.timezone()}isDefaultTimezoneSet(){return!!this.defaultTimezone()}timezone(){return this.userPreference("timeZone")}isDirectUploads(){return!!this.prepareAttachmentURL}get prepareAttachmentURL(){return _.get(this.configuration,["prepareAttachment","href"])}get maximumAttachmentFileSize(){return this.systemPreference("maximumAttachmentFileSize")}get perPageOptions(){return this.systemPreference("perPageOptions")}dateFormatPresent(){return!!this.systemPreference("dateFormat")}dateFormat(){return this.systemPreference("dateFormat")}timeFormatPresent(){return!!this.systemPreference("timeFormat")}timeFormat(){return this.systemPreference("timeFormat")}defaultTimezone(){return this.systemPreference("userDefaultTimezone")}startOfWeekPresent(){return!!this.systemPreference("startOfWeek")}startOfWeek(){return this.startOfWeekPresent()?this.systemPreference("startOfWeek"):moment__WEBPACK_IMPORTED_MODULE_0__.localeData(I18n.locale).firstDayOfWeek()}get hostName(){return this.systemPreference("hostName")}get activeFeatureFlags(){return this.systemPreference("activeFeatureFlags")}loadConfiguration(){return this.apiV3Service.configuration.get().toPromise().then((configuration=>{this.configuration=configuration}))}userPreference(pref){return _.get(this.configuration,["userPreferences",pref])}systemPreference(pref){return _.get(this.configuration,pref)}static{this.ctorParameters=()=>[{type:core_app_core_apiv3_api_v3_service__WEBPACK_IMPORTED_MODULE_1__.T}]}};ConfigurationService=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_2__.w6)("design:paramtypes",[core_app_core_apiv3_api_v3_service__WEBPACK_IMPORTED_MODULE_1__.T])],ConfigurationService)},"./src/app/core/datetime/timezone.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>TimezoneService});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),core_app_core_config_configuration_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/core/config/configuration.service.ts"),core_app_core_i18n_i18n_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/i18n/i18n.service.ts"),moment_timezone__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/moment-timezone/index.js");let TimezoneService=class TimezoneService{constructor(configurationService,I18n){this.configurationService=configurationService,this.I18n=I18n,this.setupLocale()}setupLocale(){moment_timezone__WEBPACK_IMPORTED_MODULE_2__.locale(I18n.locale)}userTimezone(){return this.configurationService.isTimezoneSet()?this.configurationService.timezone():moment_timezone__WEBPACK_IMPORTED_MODULE_2__.tz.guess()}parseDatetime(datetime,format){return moment_timezone__WEBPACK_IMPORTED_MODULE_2__.utc(datetime,format).tz(this.userTimezone())}parseDate(date,format){return moment_timezone__WEBPACK_IMPORTED_MODULE_2__(date,format)}parseISODatetime(datetime){return this.parseDatetime(datetime,"YYYY-MM-DDTHH:mm:ssZ")}parseISODate(date){return this.parseDate(date,"YYYY-MM-DD")}formattedDate(date){return this.parseDate(date).format(this.getDateFormat())}daysFromToday(dateString){const date=this.parseDate(dateString),today=moment_timezone__WEBPACK_IMPORTED_MODULE_2__().startOf("day");return date.diff(today,"days")}formattedTime(datetimeString,format){return this.parseDatetime(datetimeString).format(format||this.getTimeFormat())}formattedDatetime(datetimeString){const c=this.formattedDatetimeComponents(datetimeString);return`${c[0]} ${c[1]}`}formattedRelativeDateTime(datetimeString){return this.parseDatetime(datetimeString).fromNow()}formattedDatetimeComponents(datetimeString){const d=this.parseDatetime(datetimeString);return[d.format(this.getDateFormat()),d.format(this.getTimeFormat())]}toHours(durationString){return Number(moment_timezone__WEBPACK_IMPORTED_MODULE_2__.duration(durationString).asHours().toFixed(2))}toDays(durationString){return Number(moment_timezone__WEBPACK_IMPORTED_MODULE_2__.duration(durationString).asDays().toFixed(2))}toISODuration(input,unit){return moment_timezone__WEBPACK_IMPORTED_MODULE_2__.duration(input,unit).toISOString()}formattedDuration(durationString,unit="hour"){switch(unit){case"hour":return this.I18n.t("js.units.hour",{count:this.toHours(durationString)});case"days":return this.I18n.t("js.units.day",{count:this.toDays(durationString)});default:return""}}formattedISODate(date){return this.parseDate(date).format("YYYY-MM-DD")}formattedISODateTime(datetime){return datetime.format()}isValidISODate(date){return this.isValid(date,"YYYY-MM-DD")}isValidISODateTime(dateTime){return this.isValid(dateTime,"YYYY-MM-DDTHH:mm:ssZ")}isValid(date,dateFormat){const format=dateFormat||this.getDateFormat();return moment_timezone__WEBPACK_IMPORTED_MODULE_2__(date,[format],!0).isValid()}getDateFormat(){return this.configurationService.dateFormatPresent()?this.configurationService.dateFormat():"L"}getTimeFormat(){return this.configurationService.timeFormatPresent()?this.configurationService.timeFormat():"LT"}static{this.ctorParameters=()=>[{type:core_app_core_config_configuration_service__WEBPACK_IMPORTED_MODULE_0__.e},{type:core_app_core_i18n_i18n_service__WEBPACK_IMPORTED_MODULE_1__.D}]}};TimezoneService=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:paramtypes",[core_app_core_config_configuration_service__WEBPACK_IMPORTED_MODULE_0__.e,core_app_core_i18n_i18n_service__WEBPACK_IMPORTED_MODULE_1__.D])],TimezoneService)},"./src/app/core/days/weekday.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>WeekdayService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),moment=__webpack_require__("./node_modules/moment/moment.js"),take=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),inject_field_decorator=__webpack_require__("./src/app/shared/helpers/angular/inject-field.decorator.ts"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),empty=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/empty.js"),resource_store=__webpack_require__("./src/app/core/state/resource-store.ts"),src=__webpack_require__("./node_modules/@datorama/akita/src/index.js");let WeekdayStore=class WeekdayStore extends src.cf{constructor(){super((0,resource_store.P1)())}};WeekdayStore=(0,tslib_es6.gn)([(0,src.yC)({name:"weekdays"}),(0,tslib_es6.w6)("design:paramtypes",[])],WeekdayStore);var resource_store_service=__webpack_require__("./src/app/core/state/resource-store.service.ts");let WeekdayResourceService=class WeekdayResourceService extends resource_store_service.A{requireCollection(){return this.query.selectHasCache().pipe((0,switchMap.w)((hasCache=>hasCache?empty.E:this.fetchWeekdays())),(0,switchMap.w)((()=>this.query.selectAll())))}fetchWeekdays(){return this.http.get(this.basePath()).pipe((0,map.U)((collection=>(0,resource_store.zv)(collection))),(0,tap.b)((collection=>(0,resource_store.V7)(this.store,collection,"all"))))}createStore(){return new WeekdayStore}basePath(){return this.apiV3Service.days.week.path}};WeekdayResourceService=(0,tslib_es6.gn)([(0,core.Injectable)()],WeekdayResourceService);var of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js");let WeekdayService=class WeekdayService{constructor(injector){this.injector=injector}isNonWorkingDay(date){const isoDayOfWeek="number"==typeof date?date:moment(date).isoWeekday();return!!(this.weekdays||[]).find((wd=>wd.day===isoDayOfWeek&&!wd.working))}get nonWorkingDays(){return this.weekdays.filter((day=>!day.working))}loadWeekdays(){return this.weekdays?(0,of.of)(this.weekdays):this.weekdaysService.requireCollection().pipe((0,take.q)(1),(0,tap.b)((weekdays=>{this.weekdays=weekdays})))}static{this.ctorParameters=()=>[{type:core.Injector}]}};(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",WeekdayResourceService)],WeekdayService.prototype,"weekdaysService",void 0),WeekdayService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.w6)("design:paramtypes",[core.Injector])],WeekdayService)},"./src/app/core/i18n/i18n.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>I18nService});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let I18nService=class I18nService{constructor(){this.i18n=window.I18n,this.toTime=this.i18n.toTime.bind(this.i18n)}get locale(){return this.i18n.locale}t(input,options={}){return this.i18n.t(input,options)}toNumber(val,options){return this.i18n.localize("number",val,options)}};I18nService=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"})],I18nService)},"./src/app/core/state/days/day.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>DayResourceService});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js"),core_app_core_state_days_day_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/core/state/days/day.store.ts"),core_app_core_state_resource_store_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/state/resource-store.service.ts"),moment_timezone__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/moment-timezone/index.js");let DayResourceService=class DayResourceService extends core_app_core_state_resource_store_service__WEBPACK_IMPORTED_MODULE_1__.A{basePath(){return this.apiV3Service.days.nonWorkingDays.path}isNonWorkingDay$(input){const date=moment_timezone__WEBPACK_IMPORTED_MODULE_2__(input).format("YYYY-MM-DD");return(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.z)(this.requireNonWorkingYear$(input).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.U)((days=>-1!==days.findIndex((day=>day.date===date))))))}requireNonWorkingYear$(date){const filters=[["date","<>d",[moment_timezone__WEBPACK_IMPORTED_MODULE_2__(date).startOf("year").format("YYYY-MM-DD"),moment_timezone__WEBPACK_IMPORTED_MODULE_2__(date).endOf("year").format("YYYY-MM-DD")]]];return this.requireCollection({filters})}requireNonWorkingYears$(start,end){const filters=[["date","<>d",[moment_timezone__WEBPACK_IMPORTED_MODULE_2__(start).startOf("year").format("YYYY-MM-DD"),moment_timezone__WEBPACK_IMPORTED_MODULE_2__(end).endOf("year").format("YYYY-MM-DD")]]];return this.requireCollection({filters})}createStore(){return new core_app_core_state_days_day_store__WEBPACK_IMPORTED_MODULE_0__.Q}};DayResourceService=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_6__.Injectable)()],DayResourceService)},"./src/app/core/state/days/day.store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>DayStore});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_datorama_akita__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@datorama/akita/src/index.js"),core_app_core_state_resource_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/state/resource-store.ts");let DayStore=class DayStore extends _datorama_akita__WEBPACK_IMPORTED_MODULE_0__.cf{constructor(){super((0,core_app_core_state_resource_store__WEBPACK_IMPORTED_MODULE_1__.P1)())}};DayStore=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.gn)([(0,_datorama_akita__WEBPACK_IMPORTED_MODULE_0__.yC)({name:"days"}),(0,tslib__WEBPACK_IMPORTED_MODULE_2__.w6)("design:paramtypes",[])],DayStore)},"./src/app/core/state/resource-store.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ResourceStoreService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),src=__webpack_require__("./node_modules/@datorama/akita/src/index.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),finalize=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/finalize.js"),catchError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),shareReplay=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js"),resource_store=__webpack_require__("./src/app/core/state/resource-store.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js");function isDefinedEntity(entity){return void 0!==entity}var apiv3_list_resource_interface=__webpack_require__("./src/app/core/apiv3/paths/apiv3-list-resource.interface.ts"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),api_v3_service=__webpack_require__("./src/app/core/apiv3/api-v3.service.ts"),take=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),es2015=__webpack_require__("./node_modules/@openproject/reactivestates/dist/es2015/index.js"),i18n_service=__webpack_require__("./src/app/core/i18n/i18n.service.ts"),configuration_service=__webpack_require__("./src/app/core/config/configuration.service.ts"),forkJoin=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js");function isHttpResponse(event){return event.type===http.dt.Response}__webpack_require__("./src/app/features/hal/resources/hal-resource.ts");let ToastService=class ToastService{constructor(configurationService,I18n){this.configurationService=configurationService,this.I18n=I18n,this.stack=(0,es2015.qH)([]),jQuery(window).on("op:toasters:add",((event,toast)=>{this.add(toast)}))}get current(){return this.stack}add(toast,timeoutAfter=5e3){return function removeSuccessFlashMessages(){jQuery(".op-toast.-success").remove()}(),this.stack.doModify((current=>{const nextValue=[toast].concat(current);return _.remove(nextValue,((n,i)=>i>0&&this.removeOnAdd(n))),nextValue})),"success"===toast.type&&this.configurationService.autoHidePopups()&&setTimeout((()=>this.remove(toast)),timeoutAfter),toast}removeOnAdd(toast){return["success","error","loading"].includes(toast.type)}addError(obj,additionalErrors=[]){let message,errors;errors="string"==typeof additionalErrors?[additionalErrors]:[...additionalErrors],obj instanceof http.UA?(message=function isHalError(err){const hasOwn=key=>Object.prototype.hasOwnProperty.call(err,key);return!!err&&hasOwn("_type")&&hasOwn("message")&&hasOwn("errorIdentifier")}(obj.error)?obj.error.message:obj.message,obj.error?._embedded?.errors&&(errors=[...errors,...obj.error._embedded.errors.map((el=>el.message))])):message=obj;const toast=this.createToast(message,"error");return toast.data=errors,this.add(toast)}addWarning(message){return this.add(this.createToast(message,"warning"))}addSuccess(message){return this.add(this.createToast(message,"success"))}addNotice(message){return this.add(this.createToast(message,"info"))}addUpload(message,uploads){if(!uploads.length)throw new Error("Cannot create an upload toast without uploads!");const notification=this.add({data:uploads,type:"upload",message});return function waitForUploadsFinished(uploads){return(0,forkJoin.D)(uploads.map((o=>o.pipe((0,filter.h)(isHttpResponse)))))}(uploads.map((o=>o[1]))).pipe((0,take.q)(1)).subscribe((()=>{setTimeout((()=>this.remove(notification)),700)})),notification}addLoading(observable){return this.add(this.createLoadingToast(this.I18n.t("js.ajax.updating"),observable))}remove(toast){this.stack.doModify((current=>(_.remove(current,(n=>n===toast)),current)))}clear(){this.stack.putValue([])}createToast(toast,type){return"string"==typeof toast?{message:toast,type}:{message:toast.message,type,link:toast.link,data:toast.data}}createLoadingToast(message,observable){const toast=this.createToast(message,"loading");return toast.data=observable,toast}static{this.ctorParameters=()=>[{type:configuration_service.e},{type:i18n_service.D}]}};ToastService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.w6)("design:paramtypes",[configuration_service.e,i18n_service.D])],ToastService);var id_from_link=__webpack_require__("./src/app/features/hal/helpers/id-from-link.ts");let ResourceStoreService=class ResourceStoreService{constructor(injector,http,apiV3Service,toastService){this.injector=injector,this.http=http,this.apiV3Service=apiV3Service,this.toastService=toastService,this.store=this.createStore(),this.query=new src.Gv(this.store)}requireCollection(input){const href=this.buildResourceLink(input);return this.collectionExists(href)||this.resourceLoading(href)?this.loadedCollection(href):this.fetchCollection(href).pipe((0,switchMap.w)((()=>this.loadedCollection(href))))}requireEntity(href){const id=(0,id_from_link.Z)(href);return this.query.hasEntity(id)||this.resourceLoading(href)?this.lookup(id):this.fetchEntity(href)}collection(input){const href=this.buildResourceLink(input);return this.collectionState(href).pipe((0,switchMap.w)((collection=>this.query.selectMany(collection?.ids||[]))))}loadedCollection(input){const href=this.buildResourceLink(input);return this.collectionState(href).pipe((0,filter.h)(isDefinedEntity),(0,switchMap.w)((collection=>this.query.selectMany(collection.ids))))}collectionState(input){const href=this.buildResourceLink(input);return this.query.select().pipe((0,map.U)((state=>state.collections[href])))}lookup(id){return this.query.selectEntity(id).pipe((0,filter.h)(isDefinedEntity))}lookupMany(ids){return this.query.selectMany(ids)}exists(id){return this.query.hasEntity(id)}collectionExists(input){const href=this.buildResourceLink(input);return!!this.query.getValue().collections[href]}resourceLoading(input){const href=this.buildResourceLink(input);return!0===this.query.getValue().loadingResources[href]}clear(input){const href=this.buildResourceLink(input);this.store.update((({collections})=>({collections:(0,lodash.omit)(collections,href)})))}update(id,entity){this.store.update(id,entity)}fetchResults(params){return this.fetchCollection(params).pipe((0,map.U)((collection=>collection._embedded.elements)))}fetchCollection(params,options={handleErrors:!0}){const href=this.buildResourceLink(params);return(0,resource_store.Ok)(this.store,href),this.http.get(href).pipe((0,tap.b)((collection=>(0,resource_store.V7)(this.store,collection,href))),(0,finalize.x)((()=>(0,resource_store.TE)(this.store,href))),(0,catchError.K)((error=>{throw options.handleErrors&&this.handleResourceLoadingError(error,href),error})),(0,shareReplay.d)(1))}fetchEntity(href,options={handleErrors:!0}){return(0,resource_store.Ok)(this.store,href),this.http.get(href).pipe((0,tap.b)((entity=>this.store.add(entity))),(0,finalize.x)((()=>(0,resource_store.TE)(this.store,href))),(0,catchError.K)((error=>{throw options.handleErrors&&this.handleResourceLoadingError(error,href),error})),(0,shareReplay.d)(1))}buildResourceLink(input){return"string"==typeof input?input:this.basePath()+(0,apiv3_list_resource_interface.g)(input)}handleResourceLoadingError(error,_path){this.toastService.addError(error)}static{this.ctorParameters=()=>[{type:core.Injector},{type:http.eN},{type:api_v3_service.T},{type:ToastService}]}};ResourceStoreService=(0,tslib_es6.gn)([(0,core.Injectable)(),(0,tslib_es6.w6)("design:paramtypes",[core.Injector,http.eN,api_v3_service.T,ToastService])],ResourceStoreService)},"./src/app/core/state/resource-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ok:()=>setResourceLoading,P1:()=>createInitialResourceState,TE:()=>removeResourceLoading,V7:()=>insertCollectionIntoState,zv:()=>extendCollectionElementsWithId});var _datorama_akita__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@datorama/akita/src/index.js"),core_app_features_hal_helpers_id_from_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/features/hal/helpers/id-from-link.ts"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js");function createInitialResourceState(){return{collections:{},loadingResources:{}}}function setResourceLoading(store,url){store.update((({loadingResources})=>({loadingResources:{...loadingResources,[url]:!0}})))}function removeResourceLoading(store,url){store.update((({loadingResources})=>({loadingResources:(0,lodash__WEBPACK_IMPORTED_MODULE_1__.filter)(loadingResources,((_,key)=>key!==url))})))}function insertCollectionIntoState(store,collection,collectionUrl){const{elements}=collection._embedded,ids=elements?.map((el=>el.id))||[];(0,_datorama_akita__WEBPACK_IMPORTED_MODULE_0__.Y0)((()=>{elements&&elements.length>0&&store.upsertMany(elements),store.update((({collections})=>({collections:{...collections,[collectionUrl]:{ids}}})))}))}function extendCollectionElementsWithId(collection){const elements=collection._embedded.elements.map((element=>({...element,id:(0,core_app_features_hal_helpers_id_from_link__WEBPACK_IMPORTED_MODULE_2__.Z)(element._links.self.href)})));return{...collection,_embedded:{...collection._embedded,elements}}}},"./src/app/core/states/states.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>States});var _openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@openproject/reactivestates/dist/es2015/index.js"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js");class States extends _openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.Ui{constructor(){super(...arguments),this.name="MainStore",this.projects=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.workPackages=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.posts=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.schemas=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.types=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.statuses=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.timeEntries=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.versions=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.users=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.placeholderUsers=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.roles=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)(),this.changes={queries:new rxjs__WEBPACK_IMPORTED_MODULE_1__.x},this.additional={}}forType(stateName){let state=this[stateName]||this.additional[stateName];return state||(state=this.additional[stateName]=(0,_openproject_reactivestates__WEBPACK_IMPORTED_MODULE_0__.r9)()),state}forResource(resource){const stateName=`${_.camelCase(resource._type)}s`,state=this.forType(stateName);return state&&state.get(resource.id)}add(name,state){this.additional[name]=state}}},"./src/app/features/hal/helpers/id-from-link.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function idFromLink(href){const idPart=(href||"").split("/").pop().split("?")[0];return decodeURIComponent(idPart)}__webpack_require__.d(__webpack_exports__,{Z:()=>idFromLink})},"./src/app/features/hal/helpers/is-new-resource.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>isNewResource});const HAL_NEW_RESOURCE_ID="new";function isNewResource(resource){return!resource.id||resource.id===HAL_NEW_RESOURCE_ID}},"./src/app/features/hal/resources/hal-resource.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>HalResource});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core_app_core_states_states_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/app/core/states/states.service.ts"),core_app_core_i18n_i18n_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/core/i18n/i18n.service.ts"),core_app_shared_helpers_angular_inject_field_decorator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/app/shared/helpers/angular/inject-field.decorator.ts"),core_app_features_hal_helpers_id_from_link__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/app/features/hal/helpers/id-from-link.ts"),core_app_features_hal_helpers_is_new_resource__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/app/features/hal/helpers/is-new-resource.ts");class HalResource{constructor(injector,$source,$loaded,halInitializer,$halType){this.injector=injector,this.$source=$source,this.$loaded=$loaded,this.halInitializer=halInitializer,this.$links={},this.$embedded={},this.$halType=$halType,this.$initialize($source)}static getEmptyResource(self={href:null}){return{_links:{self}}}static matchFromLink(href,expectedResource){const match=new RegExp(`/api/v3/${expectedResource}/(\\d+)`).exec(href);return match&&match[1]}$initialize(source){this.$source=source.$source||source,this.halInitializer(this)}toString(){return this.href?`[HalResource href=${this.href}]`:`[HalResource id=${this.id}]`}get id(){if(this.$source.id)return this.$source.id.toString();const id=(0,core_app_features_hal_helpers_id_from_link__WEBPACK_IMPORTED_MODULE_3__.Z)(this.href);return/^\d+$/.exec(id)?id:null}set id(val){this.$source.id=val}retainFrom(other){this.__initialized_at=other.__initialized_at}$copy(source={}){return new(0,this.constructor)(this.injector,_.merge(this.$plain(),source),this.$loaded,this.halInitializer,this.$halType)}$plain(){return _.cloneDeep(this.$source)}get $isHal(){return!0}get $link(){return this.$links.self.$link}get name(){return this._name||this.$link.title||""}set name(name){this._name=name}get href(){return this.$link.href}get state(){return null}push(newValue){return this.state&&this.state.putValue(newValue),Promise.resolve()}previewPath(){if((0,core_app_features_hal_helpers_is_new_resource__WEBPACK_IMPORTED_MODULE_4__.Z)(this)&&this.project)return this.project.href}getEditorContext(fieldName){return{type:"constrained"}}$load(force=!1){if(!this.state)return this.$loadResource(force);const{state}=this;return force&&state.clear(),state.putFromPromiseIfPristine((()=>this.$loadResource(force))),state.valuesPromise().then((source=>(this.$initialize(source),this.$loaded=!0,this)))}$loadResource(force=!1){if(!force){if(this.$loaded)return Promise.resolve(this);if(!this.$loaded&&this.$self)return this.$self}return this.$loaded=!1,this.$self=this.$links.self({}).then((source=>(this.$loaded=!0,this.$initialize(source.$source),this))),this.$self}$update(){return this.$load(!0)}$embeddableKeys(){const properties=Object.keys(this.$source);return _.without(properties,"_links","_embedded","id")}$linkableKeys(){const properties=Object.keys(this.$links);return _.without(properties,"self")}}(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,core_app_shared_helpers_angular_inject_field_decorator__WEBPACK_IMPORTED_MODULE_2__.W)(),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:type",core_app_core_states_states_service__WEBPACK_IMPORTED_MODULE_0__.G)],HalResource.prototype,"states",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,core_app_shared_helpers_angular_inject_field_decorator__WEBPACK_IMPORTED_MODULE_2__.W)(),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:type",core_app_core_i18n_i18n_service__WEBPACK_IMPORTED_MODULE_1__.D)],HalResource.prototype,"I18n",void 0)},"./src/app/shared/components/dataset-inputs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>populateInputsFromDataset});__webpack_require__("./node_modules/reflect-metadata/Reflect.js");function populateInputsFromDataset(instance){const cstr=instance.constructor,declaredInputsParentKey=Object.keys(cstr).find((key=>"object"==typeof cstr[key].declaredInputs));if(!declaredInputsParentKey)return void console.warn("Could not find declared inputs for component");const inputs=cstr[declaredInputsParentKey].declaredInputs;Object.keys(inputs).forEach((outsideName=>{const insideName=inputs[outsideName],{dataset}=instance.elementRef.nativeElement;if(dataset[outsideName])try{instance[insideName]=JSON.parse(dataset[outsideName]||"")}catch(err){throw console.error("Couldn't parse input: ",outsideName,instance.elementRef.nativeElement.dataset),console.error("\nMake sure to make all data attributes you want to use as input JSON parseable.\nThis means that plain strings have to be wrapped in double quotes, and the attribute value is easiest to set with single quotes.\nAn example:\n\n<op-example example-input='\"myString\"'></op-example>\n"),err}}))}},"./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qB:()=>OpBasicRangeDatePickerComponent});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var OpBasicRangeDatePickerComponent_1,datepicker_modalngResource=__webpack_require__("./src/app/shared/components/datepicker/styles/datepicker.modal.sass?ngResource"),datepicker_modalngResource_default=__webpack_require__.n(datepicker_modalngResource),basic_range_date_picker_componentngResource=__webpack_require__("./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.sass?ngResource"),basic_range_date_picker_componentngResource_default=__webpack_require__.n(basic_range_date_picker_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),i18n_service=__webpack_require__("./src/app/core/i18n/i18n.service.ts"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),date_modal_helpers=__webpack_require__("./src/app/shared/components/datepicker/helpers/date-modal.helpers.ts"),timezone_service=__webpack_require__("./src/app/core/datetime/timezone.service.ts"),datepicker=__webpack_require__("./src/app/shared/components/datepicker/datepicker.ts"),dataset_inputs=__webpack_require__("./src/app/shared/components/dataset-inputs.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),device_service=__webpack_require__("./src/app/core/browser/device.service.ts");let OpBasicRangeDatePickerComponent=OpBasicRangeDatePickerComponent_1=class OpBasicRangeDatePickerComponent{set value(newValue){this._value=newValue,this.stringValue=this.resolveDateArrayToString(newValue)}get value(){return this._value}constructor(I18n,timezoneService,injector,cdRef,elementRef,deviceService){this.I18n=I18n,this.timezoneService=timezoneService,this.injector=injector,this.cdRef=cdRef,this.elementRef=elementRef,this.deviceService=deviceService,this.className=!0,this.mobile=!1,this.valueChange=new core.EventEmitter,this._value=[],this.id="flatpickr-input-"+ +new Date,this.name="",this.required=!1,this.disabled=!1,this.minimalDate=null,this.inputClassNames="",this.stringValue="",this.text={date:this.I18n.t("js.work_packages.properties.date"),placeholder:this.I18n.t("js.placeholders.default"),spacer:this.I18n.t("js.filter.value_spacer")},this.changeValueFromInputDebounced=(0,lodash.debounce)(this.changeValueFromInput.bind(this),16),this.onChange=_=>{},this.onTouched=_=>{},(0,dataset_inputs.E)(this)}ngOnInit(){this.mobile=this.deviceService.isMobile}ngAfterViewInit(){this.mobile||this.initializeDatePicker()}changeValueFromInput(value){const newDates="string"==typeof value?this.resolveDateStringToArray(value):value;this.onChange(newDates),this.onTouched(newDates),this.writeValue(newDates),this.cdRef.detectChanges(),newDates.find((el=>!(0,date_modal_helpers.yP)(el)))||this.valueChange.emit(newDates)}showDatePicker(){this.datePickerInstance?.show()}initializeDatePicker(){var _ref,_this=this;this.datePickerInstance=new datepicker.M(this.injector,this.id,this.value||"",{allowInput:!0,mode:"range",showMonths:2,onReady:(_date,_datestr,instance)=>{instance.calendarContainer.classList.add("op-datepicker-modal--flatpickr-instance")},onChange:(dates,dateStr)=>{if(2===dates.length){const value=this.resolveDateStringToArray(dateStr);this.writeValue(value),this.onChange(value),this.onTouched(value)}this.cdRef.detectChanges()},onDayCreate:(_ref=(0,asyncToGenerator.Z)((function*(dObj,dStr,fp,dayElem){(0,date_modal_helpers.au)(dayElem,!0,yield _this.datePickerInstance?.isNonWorkingDay(dayElem.dateObj),!!_this.minimalDate&&dayElem.dateObj<=_this.minimalDate)})),function onDayCreate(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)})},this.input.nativeElement)}writeValue(value){this.value=value}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}resolveDateStringToArray(dates){return dates.split(" - ").map((date=>date.trim()))}resolveDateArrayToString(dates){return dates.join(" - ")}static{this.ctorParameters=()=>[{type:i18n_service.D},{type:timezone_service.B},{type:core.Injector},{type:core.ChangeDetectorRef},{type:core.ElementRef},{type:device_service.U}]}static{this.propDecorators={className:[{type:core.HostBinding,args:["class.op-basic-range-datepicker"]}],mobile:[{type:core.HostBinding,args:["class.op-basic-range-datepicker_mobile"]}],valueChange:[{type:core.Output}],value:[{type:core.Input}],id:[{type:core.Input}],name:[{type:core.Input}],required:[{type:core.Input}],disabled:[{type:core.Input}],minimalDate:[{type:core.Input}],inputClassNames:[{type:core.Input}],input:[{type:core.ViewChild,args:["input"]}]}}};OpBasicRangeDatePickerComponent=OpBasicRangeDatePickerComponent_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"op-basic-range-date-picker",template:'<input\n  *ngIf="!mobile"\n  #input\n  type="text"\n  class="spot-input op-basic-range-datepicker--input"\n  data-qa-selector="op-basic-range-date-picker"\n  [ngClass]="inputClassNames"\n  [attr.data-value]="value"\n  [id]="id"\n  [name]="name"\n  [required]="required"\n  [disabled]="disabled"\n  [ngModel]="stringValue"\n  (ngModelChange)="changeValueFromInputDebounced($event)"\n  (focus)="showDatePicker()"\n/>\n<ng-container *ngIf="mobile">\n  <input\n    type="date"\n    class="spot-input"\n    data-qa-selector="op-basic-range-date-picker-start"\n    [ngClass]="inputClassNames"\n    id="{{ id }}-start"\n    name="{{ name }}-start"\n    [required]="required"\n    [disabled]="disabled"\n    [ngModel]="value[0] || \'\'"\n    (ngModelChange)="changeValueFromInputDebounced([$event, value[1] || \'\'])"\n  />\n  <span class="op-basic-range-datepicker--spacer" [textContent]="text.spacer"></span>\n  <input\n    type="date"\n    class="spot-input"\n    data-qa-selector="op-basic-range-date-picker-end"\n    [ngClass]="inputClassNames"\n    id="{{ id }}-end"\n    name="{{ name }}-end"\n    [required]="required"\n    [disabled]="disabled"\n    [ngModel]="value[1] || \'\'"\n    (ngModelChange)="changeValueFromInputDebounced([value[0] || \'\', $event])"\n  />\n  <input\n    type="hidden"\n    data-qa-selector="op-basic-range-date-picker--value"\n    [attr.data-value]="stringValue"\n    [id]="id"\n    [name]="name"\n    [ngModel]="stringValue"\n  />\n</ng-container>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,encapsulation:core.ViewEncapsulation.None,providers:[{provide:fesm2022_forms.JU,useExisting:(0,core.forwardRef)((()=>OpBasicRangeDatePickerComponent_1)),multi:!0}],styles:[datepicker_modalngResource_default(),basic_range_date_picker_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[i18n_service.D,timezone_service.B,core.Injector,core.ChangeDetectorRef,core.ElementRef,device_service.U])],OpBasicRangeDatePickerComponent)},"./src/app/shared/components/datepicker/basic-single-date-picker/basic-single-date-picker.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>OpBasicSingleDatePickerComponent});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var OpBasicSingleDatePickerComponent_1,datepicker_modalngResource=__webpack_require__("./src/app/shared/components/datepicker/styles/datepicker.modal.sass?ngResource"),datepicker_modalngResource_default=__webpack_require__.n(datepicker_modalngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),i18n_service=__webpack_require__("./src/app/core/i18n/i18n.service.ts"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),date_modal_helpers=__webpack_require__("./src/app/shared/components/datepicker/helpers/date-modal.helpers.ts"),timezone_service=__webpack_require__("./src/app/core/datetime/timezone.service.ts"),datepicker=__webpack_require__("./src/app/shared/components/datepicker/datepicker.ts"),dataset_inputs=__webpack_require__("./src/app/shared/components/dataset-inputs.ts"),device_service=__webpack_require__("./src/app/core/browser/device.service.ts");let OpBasicSingleDatePickerComponent=OpBasicSingleDatePickerComponent_1=class OpBasicSingleDatePickerComponent{set value(newValue){this._value=newValue}get value(){return this._value}constructor(I18n,timezoneService,injector,cdRef,elementRef,deviceService){this.I18n=I18n,this.timezoneService=timezoneService,this.injector=injector,this.cdRef=cdRef,this.elementRef=elementRef,this.deviceService=deviceService,this.valueChange=new core.EventEmitter,this.picked=new core.EventEmitter,this._value="",this.id="flatpickr-input-"+ +new Date,this.name="",this.required=!1,this.disabled=!1,this.minimalDate=null,this.inputClassNames="",this.remoteFieldKey=null,this.mobile=!1,this.text={date:this.I18n.t("js.work_packages.properties.date"),placeholder:this.I18n.t("js.placeholders.default")},this.onChange=_=>{},this.onTouched=_=>{},(0,dataset_inputs.E)(this)}ngOnInit(){this.mobile=this.deviceService.isMobile}ngAfterViewInit(){this.mobile||this.initializeDatePicker()}ngOnDestroy(){this.datePickerInstance?.destroy()}changeValueFromInput(value){(0,date_modal_helpers.yP)(value)&&(this.onTouched(value),this.onChange(value),this.writeValue(value),this.datePickerInstance?.setDates(value),this.valueChange.emit(value))}showDatePicker(){this.datePickerInstance?.show()}initializeDatePicker(){var _ref,_this=this;this.datePickerInstance=new datepicker.M(this.injector,this.id,this.value||"",{allowInput:!0,mode:"single",showMonths:1,onReady:(_date,_datestr,instance)=>{instance.calendarContainer.classList.add("op-datepicker-modal--flatpickr-instance")},onChange:(_,dateStr)=>{if(this.writeValue(dateStr),dateStr.length>0){const dateString=this.timezoneService.formattedISODate(dateStr);this.valueChange.emit(dateString),this.onTouched(dateString),this.onChange(dateString),this.writeValue(dateString),this.picked.emit()}this.cdRef.detectChanges()},onDayCreate:(_ref=(0,asyncToGenerator.Z)((function*(_dObj,_dStr,_fp,dayElem){(0,date_modal_helpers.au)(dayElem,!0,yield _this.datePickerInstance?.isNonWorkingDay(dayElem.dateObj),!!_this.minimalDate&&dayElem.dateObj<=_this.minimalDate)})),function onDayCreate(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)})},this.input.nativeElement)}writeValue(value){this.value=value,this.datePickerInstance?.setDates(this.value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}static{this.ctorParameters=()=>[{type:i18n_service.D},{type:timezone_service.B},{type:core.Injector},{type:core.ChangeDetectorRef},{type:core.ElementRef},{type:device_service.U}]}static{this.propDecorators={valueChange:[{type:core.Output}],picked:[{type:core.Output}],value:[{type:core.Input}],id:[{type:core.Input}],name:[{type:core.Input}],required:[{type:core.Input}],disabled:[{type:core.Input}],minimalDate:[{type:core.Input}],inputClassNames:[{type:core.Input}],remoteFieldKey:[{type:core.Input}],input:[{type:core.ViewChild,args:["input"]}]}}};OpBasicSingleDatePickerComponent=OpBasicSingleDatePickerComponent_1=(0,tslib_es6.gn)([(0,core.Component)({selector:"op-basic-single-date-picker",template:'<input\n  *ngIf="!mobile"\n  #input\n  type="text"\n  class="spot-input"\n  data-project-target="singleDay"\n  [ngClass]="inputClassNames"\n  [attr.data-value]="value"\n  [id]="id"\n  [name]="name"\n  [attr.name]="name"\n  [required]="required"\n  [disabled]="disabled"\n  (input)="changeValueFromInput($event.target.value)"\n  (focus)="showDatePicker()"\n  [attr.data-remote-field-key]="remoteFieldKey"\n/>\n\n<ng-container *ngIf="mobile">\n  <input\n    type="date"\n    class="spot-input"\n    data-project-target="singleDay"\n    [ngClass]="inputClassNames"\n    [attr.data-value]="value"\n    [id]="id"\n    [name]="name"\n    [required]="required"\n    [disabled]="disabled"\n    [ngModel]="value"\n    (ngModelChange)="changeValueFromInput($event)"\n  />\n</ng-container>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,encapsulation:core.ViewEncapsulation.None,providers:[{provide:fesm2022_forms.JU,useExisting:(0,core.forwardRef)((()=>OpBasicSingleDatePickerComponent_1)),multi:!0}],styles:[datepicker_modalngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[i18n_service.D,timezone_service.B,core.Injector,core.ChangeDetectorRef,core.ElementRef,device_service.U])],OpBasicSingleDatePickerComponent)},"./src/app/shared/components/datepicker/datepicker.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>DatePicker});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),moment=__webpack_require__("./node_modules/moment/moment.js"),esm=__webpack_require__("./node_modules/flatpickr/dist/esm/index.js"),configuration_service=__webpack_require__("./src/app/core/config/configuration.service.ts"),i18n_service=__webpack_require__("./src/app/core/i18n/i18n.service.ts"),inject_field_decorator=__webpack_require__("./src/app/shared/helpers/angular/inject-field.decorator.ts"),weekday_service=__webpack_require__("./src/app/core/days/weekday.service.ts");var day_service=__webpack_require__("./src/app/core/state/days/day.service.ts");class DatePicker{constructor(injector,datepickerElemIdentifier,date,options,datepickerTarget){this.injector=injector,this.datepickerElemIdentifier=datepickerElemIdentifier,this.date=date,this.options=options,this.datepickerTarget=datepickerTarget,this.datepickerFormat="Y-m-d",this.initialize(options)}initialize(options){this.weekdaysPromise=this.weekdaysService.loadWeekdays().toPromise().then((()=>{this.datepickerInstance&&this.datepickerInstance.redraw()}));const mergedOptions=_.extend({},this.defaultOptions,options);let datePickerInstances;datePickerInstances=this.datepickerTarget?(0,esm.Z)(this.datepickerTarget,mergedOptions):(0,esm.Z)(this.datepickerElemIdentifier,mergedOptions),this.datepickerInstance=Array.isArray(datePickerInstances)?datePickerInstances[0]:datePickerInstances}isNonWorkingDay(day){var _this=this;return(0,asyncToGenerator.Z)((function*(){return _this.weekdaysService.isNonWorkingDay(day)||(yield _this.daysService.isNonWorkingDay$(day))}))()}clear(){this.datepickerInstance.clear()}destroy(){this.hide(),this.datepickerInstance?.destroy()}hide(){this.isOpen&&this.datepickerInstance.close()}show(){this.datepickerInstance.open()}setDates(dates){this.datepickerInstance.setDate(dates)}setOption(option,value){this.datepickerInstance.set(option,value)}get isOpen(){return this.datepickerInstance.isOpen}get defaultOptions(){const firstDayOfWeek=this.configurationService.startOfWeek();return{weekNumbers:!0,getWeek:dateObj=>moment(dateObj).format("W"),dateFormat:this.datepickerFormat,defaultDate:this.date,locale:{weekdays:{shorthand:this.I18n.t("date.abbr_day_names"),longhand:this.I18n.t("date.day_names")},months:{shorthand:this.I18n.t("date.abbr_month_names").slice(1),longhand:this.I18n.t("date.month_names").slice(1)},firstDayOfWeek,weekAbbreviation:this.I18n.t("date.abbr_week"),rangeSeparator:" - "}}}}(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",configuration_service.e)],DatePicker.prototype,"configurationService",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",weekday_service.u)],DatePicker.prototype,"weekdaysService",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",day_service.u)],DatePicker.prototype,"daysService",void 0),(0,tslib_es6.gn)([(0,inject_field_decorator.W)(),(0,tslib_es6.w6)("design:type",i18n_service.D)],DatePicker.prototype,"I18n",void 0)},"./src/app/shared/components/datepicker/helpers/date-modal.helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{au:()=>onDayCreate,yP:()=>validDate});__webpack_require__("./node_modules/moment-timezone/index.js");function validDate(date){return date instanceof Date||""===date||!!/^\d{4}-\d{2}-\d{2}$/.exec(date)}function onDayCreate(dayElem,ignoreNonWorkingDays,isNonWorkingDay,isDayDisabled){dayElem.setAttribute("data-iso-date",dayElem.dateObj.toISOString()),isDayDisabled?dayElem.classList.add("flatpickr-disabled"):ignoreNonWorkingDays&&isNonWorkingDay?dayElem.classList.add("flatpickr-non-working-day_enabled"):!ignoreNonWorkingDays&&isNonWorkingDay&&dayElem.classList.add("flatpickr-non-working-day")}},"./src/app/shared/helpers/angular/inject-field.decorator.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>InjectField});__webpack_require__("./node_modules/reflect-metadata/Reflect.js");var core_app_shared_helpers_debug_output__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/shared/helpers/debug_output.ts");function InjectField(token,defaultValue=null,flags){return(target,property)=>{delete target[property]&&Object.defineProperty(target,property,{get(){if(token)return this.injector.get(token,defaultValue,flags);const type=Reflect.getMetadata("design:type",target,property);return this.injector.get(type,defaultValue,flags)},set(){(0,core_app_shared_helpers_debug_output__WEBPACK_IMPORTED_MODULE_1__.qu)(`Trying to set InjectField property ${property}`)}})}}},"./src/app/shared/helpers/api-v3/api-v3-filter-builder.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{PQ:()=>ApiV3Filter,qM:()=>ApiV3FilterBuilder});const FalseValue=["f"],TrueValue=["t"];class ApiV3FilterBuilder{constructor(){this.filterMap={}}add(name,operator,filterValues){const values=!0===filterValues?TrueValue:!1===filterValues?FalseValue:filterValues;return this.filterMap[name]={operator,values},this}remove(name){delete this.filterMap[name]}static toFilterObject(filters){const map={};return filters.forEach((item=>{_.each(item,((val,filter)=>{map[filter]=val}))})),map}merge(filters,...only){const toAdd=_.pickBy(ApiV3FilterBuilder.toFilterObject(filters),((_,filter)=>only.includes(filter)));this.filterMap={...this.filterMap,...toAdd}}get filters(){const filters=[];return _.each(this.filterMap,((val,filter)=>{filters.push({[filter]:val})})),filters}toJson(){return JSON.stringify(this.filters)}toParams(mergeParams={}){const params={filters:this.toJson(),...mergeParams};return new URLSearchParams(params).toString()}clone(){const newFilters=new ApiV3FilterBuilder;return this.filters.forEach((filter=>{Object.keys(filter).forEach((name=>{newFilters.add(name,filter[name].operator,filter[name].values)}))})),newFilters}}function ApiV3Filter(name,operator,values){return(new ApiV3FilterBuilder).add(name,operator,values)}},"./src/app/shared/helpers/debug_output.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qu:()=>debugLog,SC:()=>whenDebugging});const environment_environment={production:!1};function whenDebugging(cb){environment_environment.production||cb()}function debugLog(message,...args){whenDebugging((()=>console.log(`[DEBUG] ${message}`,...args)))}},"./src/stories/i18n.service.stub.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>I18nServiceStub});const I18nServiceStub={t:name=>({"date.abbr_day_names":["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],"date.day_names":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],"date.abbr_month_names":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"date.month_names":["January","February","March","April","May","June","July","August","September","October","November","December"]}[name]||name)}},"./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.sass?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".op-basic-range-datepicker_mobile {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.op-basic-range-datepicker--input {\n  min-width: 12rem;\n}\n.op-basic-range-datepicker--spacer {\n  padding: 0 0.5rem;\n}","",{version:3,sources:["webpack://./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.sass"],names:[],mappings:"AACE;EACE,aAAA;EACA,sBAAA;EACA,mBAAA;AAAJ;AACE;EACE,gBAAA;AACJ;AAAE;EACE,iBAAA;AAEJ",sourcesContent:[".op-basic-range-datepicker\n  &_mobile\n    display: flex\n    flex-direction: column\n    align-items: center\n  &--input\n    min-width: 12rem\n  &--spacer\n    padding: 0 0.5rem\n"],sourceRoot:""}]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/shared/components/datepicker/styles/datepicker.modal.sass?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".op-datepicker-modal {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n@media (min-width: 1000px) and (min-height: 500px) {\n  .op-datepicker-modal {\n    height: unset;\n    min-height: 486px;\n    width: 100vw;\n    max-width: 320px;\n  }\n  .op-datepicker-modal_wide {\n    max-width: 600px;\n  }\n}\n.op-datepicker-modal--banner {\n  margin-bottom: 1rem;\n}\n.op-datepicker-modal--banner:empty {\n  visibility: hidden;\n}\n.op-datepicker-modal--toggle-actions-container {\n  display: grid;\n  grid-template-columns: auto auto 1fr;\n  grid-column-gap: 2rem;\n  margin: 0 1rem 0;\n}\n.op-datepicker-modal--dates-container {\n  display: grid;\n  grid-template-columns: 1fr 1fr 150px;\n  grid-gap: 1rem;\n  margin: 1rem 1rem 0;\n}\n.op-datepicker-modal--date-field_current, .op-datepicker-modal--date-field_current:hover {\n  border: 2px solid var(--primary-color);\n  margin: -1px;\n}\n.op-datepicker-modal--date-container {\n  display: inline-grid;\n}\n.op-datepicker-modal--hidden-link {\n  visibility: hidden;\n}\n.op-datepicker-modal--flatpickr-instance.inline {\n  margin: 1rem auto !important;\n}\n.op-datepicker-modal--stretch-content {\n  flex-grow: 1;\n  flex-shrink: 1;\n  overflow-y: auto;\n}\n.op-datepicker-modal--stretch-content.spot-container {\n  margin-top: 0.5rem;\n}\n\n@media screen and (max-width: 543px) {\n  .op-datepicker-modal {\n    width: calc(100vw - 2rem);\n    margin-bottom: 0;\n  }\n  .op-datepicker-modal--flatpickr-instance {\n    align-self: center;\n  }\n  .op-datepicker-modal--dates-container {\n    grid-template-columns: 1fr 1fr;\n  }\n  .op-datepicker-modal--toggle-actions-container {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-row-gap: 1rem;\n  }\n  .op-datepicker-modal--date-form:only-child {\n    grid-column: 1/3;\n  }\n}","",{version:3,sources:["webpack://./src/app/shared/components/datepicker/styles/datepicker.modal.sass","webpack://./src/app/spot/styles/tokens/dist/tokens.sass"],names:[],mappings:"AAGA;EACE,aAAA;EACA,sBAAA;EACA,YAAA;AAFF;AAIE;EALF;IAMI,aAAA;IACA,iBAAA;IACA,YAAA;IAGA,gBAAA;EAHF;EAKE;IACE,gBAAA;EAHJ;AACF;AAIE;EACE,mBC0Ba;AD5BjB;AAII;EACE,kBAAA;AAFN;AAIE;EACE,aAAA;EACA,oCAAA;EACA,qBCmBa;EDlBb,gBAAA;AAFJ;AAIE;EACE,aAAA;EACA,oCAAA;EACA,cCYa;EDXb,mBAAA;AAFJ;AAKI;EAME,sCAAA;EACA,YAAA;AARN;AAUE;EACE,oBAAA;AARJ;AAUE;EACE,kBAAA;AARJ;AAUE;EACE,4BAAA;AARJ;AAUE;EACE,YAAA;EACA,cAAA;EACA,gBAAA;AARJ;AAaI;EACE,kBC1Ba;ADenB;;AAaA;EACE;IAEE,yBAAA;IACA,gBAAA;EAXF;EAaE;IACE,kBAAA;EAXJ;EAaE;IACE,8BAAA;EAXJ;EAaE;IACE,aAAA;IACA,0BAAA;IACA,kBCpCW;EDyBf;EAcI;IACE,gBAAA;EAZN;AACF",sourcesContent:["@import '../../app/spot/styles/sass/variables'\n@import '../../global_styles/openproject/variables'\n\n.op-datepicker-modal\n  display: flex\n  flex-direction: column\n  height: 100%\n\n  @media #{$spot-mq-drop-modal-in-context}\n    height: unset\n    min-height: 486px\n    width: 100vw\n    // Basically the width of the two calendars next to each other + spacings\n    // will be overwritten on mobile\n    max-width: 320px\n\n    &_wide\n      max-width: 600px\n\n  &--banner\n    margin-bottom: $spot-spacing-1\n\n    &:empty\n      visibility: hidden\n\n  &--toggle-actions-container\n    display: grid\n    grid-template-columns: auto auto 1fr\n    grid-column-gap: $spot-spacing-2\n    margin: 0 $spot-spacing-1 0\n\n  &--dates-container\n    display: grid\n    grid-template-columns: 1fr 1fr 150px\n    grid-gap: $spot-spacing-1\n    margin: $spot-spacing-1 $spot-spacing-1 0\n\n  &--date-field\n    &_current,\n    &_current:hover\n      // We want this to feel like the focus outline, but we cannot make it an actual outline\n      // because that would overwrite the focus outline when the input field is focused.\n      // So we make a border 2px wide like the outline, and then reduce margins by 1px so the\n      // size of the element does not change.\n      border: 2px solid var(--primary-color)\n      margin: -1px\n\n  &--date-container\n    display: inline-grid\n\n  &--hidden-link\n    visibility: hidden\n\n  &--flatpickr-instance.inline\n    margin: 1rem auto !important\n\n  &--stretch-content\n    flex-grow: 1\n    flex-shrink: 1\n    overflow-y: auto\n\n    // Unfortunately, we need an extra class\n    // Of specificity here to overwrite the\n    // nested spot-container styles\n    &.spot-container\n      margin-top: $spot-spacing-0_5\n\n@media screen and (max-width: $breakpoint-sm)\n  .op-datepicker-modal\n    // Use same width as spot-modal mobile\n    width: calc(100vw - 2rem)\n    margin-bottom: 0\n\n    &--flatpickr-instance\n      align-self: center\n\n    &--dates-container\n      grid-template-columns: 1fr 1fr\n\n    &--toggle-actions-container\n      display: grid\n      grid-template-columns: 1fr\n      grid-row-gap: $spot-spacing-1\n\n    &--date-form\n      &:only-child\n        grid-column: 1 / 3\n","\n$spot-color-basic-black: rgb(0, 0, 0)\n$spot-color-basic-gray-1: rgb(51, 51, 51)\n$spot-color-basic-gray-2: rgb(85, 85, 85)\n$spot-color-basic-gray-3: rgb(135, 135, 135)\n$spot-color-basic-gray-4: rgb(204, 204, 204)\n$spot-color-basic-gray-5: rgb(224, 224, 224)\n$spot-color-basic-gray-6: rgb(243, 243, 243)\n$spot-color-basic-white: rgb(255, 255, 255)\n$spot-color-main: rgb(26, 103, 163)\n$spot-color-main-dark: rgb(3, 69, 121)\n$spot-color-main-light: rgb(209, 229, 245)\n$spot-color-accent: rgb(48, 135, 32)\n$spot-color-accent-dark: rgb(0, 117, 40)\n$spot-color-accent-light: rgb(191, 238, 182)\n$spot-color-danger: rgb(208, 17, 0)\n$spot-color-danger-dark: rgb(125, 0, 13)\n$spot-color-danger-light: rgb(244, 171, 169)\n$spot-color-indication-attention: rgb(0, 163, 255)\n$spot-color-indication-flagged: rgb(28, 182, 192)\n$spot-color-indication-current-date: rgb(255, 255, 225)\n$spot-color-feedback-error-dark: rgb(202, 63, 63)\n$spot-color-feedback-error-light: rgb(254, 218, 218)\n$spot-color-feedback-warning-dark: rgb(239, 158, 86)\n$spot-color-feedback-warning-light: rgb(255, 230, 198)\n$spot-color-feedback-success-dark: rgb(53, 197, 63)\n$spot-color-feedback-success-light: rgb(216, 253, 209)\n$spot-color-feedback-info-dark: rgb(143, 192, 219)\n$spot-color-feedback-info-light: rgb(227, 245, 255)\n$spot-spacing-5: 5rem\n$spot-spacing-6: 6rem\n$spot-spacing-1-75: 1.75rem\n$spot-spacing-7: 7rem\n$spot-spacing-0-75: 0.75rem\n$spot-spacing-8: 8rem\n$spot-spacing-9: 9rem\n$spot-spacing-2-25: 2.25rem\n$spot-spacing-1-25: 1.25rem\n$spot-spacing-0-25: 0.25rem\n$spot-spacing-0-5: 0.5rem\n$spot-spacing-1-5: 1.5rem\n$spot-spacing-2-5: 2.5rem\n$spot-spacing-10: 10rem\n$spot-spacing-3-5: 3.5rem\n$spot-spacing-4-5: 4.5rem\n$spot-spacing-5-5: 5.5rem\n$spot-spacing-1: 1rem\n$spot-spacing-2: 2rem\n$spot-spacing-3: 3rem\n$spot-spacing-4: 4rem\n$spot-shadow-light-low: 1px 1px 5px rgba(0, 0, 0, 0.15)\n$spot-shadow-light-mid: 3px 3px 10px rgba(0, 0, 0, 0.15)\n$spot-shadow-light-high: 5px 5px 20px rgba(0, 0, 0, 0.15)\n$spot-shadow-hard-low: 1px 1px 5px rgba(0, 0, 0, 0.25)\n$spot-shadow-hard-mid: 3px 3px 10px rgba(0, 0, 0, 0.25)\n$spot-shadow-hard-high: 5px 5px 20px rgba(0, 0, 0, 0.25)\n$spot-mq-landscape: '(orientation: landscape)'\n$spot-mq-drop-modal-full-screen: '(max-width: 999px), (max-height: 499px)'\n$spot-mq-drop-modal-in-context: '(min-width: 1000px) and (min-height: 500px)'\n$spot-mq-action-bar-change: '(min-width: 768px)'\n$spot-mq-mobile: '(max-width: 679px)'\n$spot-mq-desktop: '(min-width: 680px)'\n"],sourceRoot:""}]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"}}]);
//# sourceMappingURL=stories-DatePicker-stories.26c9df8d.iframe.bundle.js.map