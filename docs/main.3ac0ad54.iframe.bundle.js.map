{"version":3,"file":"main.3ac0ad54.iframe.bundle.js","mappings":"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","sources":["./src/app/core/i18n/i18n.service.ts","./src/app/shared/components/dataset-inputs.ts","./src/app/spot/components/checkbox/checkbox.component.ts","./src/app/spot/components/drop-modal/drop-modal-teleportation.service.ts","./src/app/shared/helpers/keyCodes.enum.ts","./src/app/shared/helpers/focus-helpers.ts","./src/app/spot/components/drop-modal/drop-modal.component.ts","./src/app/spot/components/form-field/form-field.component.ts","./src/app/spot/components/selector-field/selector-field.component.ts","./src/app/spot/components/switch/switch.component.ts","./src/app/spot/components/text-field/text-field.component.ts","./src/app/spot/components/toggle/toggle.component.ts","./src/app/spot/components/tooltip/tooltip.component.ts","./src/app/spot/drop-alignment-options.ts","./src/app/spot/components/filter-chip/filter-chip.component.ts","./src/app/spot/components/form-field/form-binding.directive.ts","./src/app/spot/components/breadcrumbs/breadcrumbs.component.ts","./src/app/shared/helpers/angular/until-destroyed.mixin.ts","./src/app/spot/components/drop-modal/drop-modal-portal.component.ts","./src/app/spot/spot.module.ts","./src/polyfills.ts","./.storybook/preview.js","./.storybook/preview.js-generated-config-entry.js","./src/app/spot/components/checkbox/stories/Checkbox.stories.mdx","./src/test/i18n-shim.ts","./src/app/spot/components/drop-modal/stories/DropModalList.component.ts","./src/app/spot/components/drop-modal/stories/DropModal.stories.mdx","./src/app/spot/components/form-field/stories/FormFieldInputSlot.example.ts","./src/app/spot/components/form-field/stories/FormFieldDescriptionSlot.example.ts","./src/app/spot/components/form-field/stories/FormFieldErrorSlot.example.ts","./src/app/spot/components/form-field/stories/FormFieldActionSlot.example.ts","./src/app/spot/components/form-field/stories/FormField.stories.mdx","./src/app/spot/components/selector-field/stories/SelectorField.example.ts","./src/app/spot/components/selector-field/stories/SelectorFieldFontWeight.example.ts","./src/app/spot/components/selector-field/stories/SelectorField.stories.mdx","./src/app/spot/components/switch/stories/Switch.stories.mdx","./src/app/spot/components/text-field/stories/TextField.stories.mdx","./src/app/spot/components/toggle/stories/Toggle.stories.mdx","./src/app/spot/components/tooltip/stories/Tooltip.component.ts","./src/app/spot/components/tooltip/stories/Tooltip.stories.mdx","./src/stories/ActionBar.example.ts","./src/stories/ActionBarInModal.example.ts","./src/stories/ActionBarLeftButtons.example.ts","./src/stories/ActionBarTransparent.example.ts","./src/stories/ActionBarNoSideOption.example.ts","./src/stories/ActionBarMoreButtons.example.ts","./src/stories/ActionBar.stories.mdx","./src/app/spot/components/breadcrumbs/breadcrumbs-content.ts","./src/stories/Breadcrumbs.example.ts","./src/stories/BreadcrumbsFourLevels.example.ts","./src/stories/BreadcrumbsFiveLevels.example.ts","./src/stories/Breadcrumbs.stories.mdx","./src/stories/Buttons.stories.mdx","./src/stories/Colors.stories.mdx","./src/stories/i18n.service.stub.ts","./src/environments/environment.ts","./src/app/shared/helpers/debug_output.ts","./src/app/shared/helpers/angular/inject-field.decorator.ts","./src/app/features/hal/helpers/id-from-link.ts","./src/app/core/state/resource-store.ts","./src/app/core/state/days/weekday.store.ts","./src/app/core/state/is-defined-entity.ts","./src/app/shared/helpers/api-v3/api-v3-filter-builder.ts","./src/app/core/apiv3/paths/apiv3-list-resource.interface.ts","./src/app/core/apiv3/paths/path-resources.ts","./src/app/features/hal/hal-link/hal-link.ts","./src/app/features/hal/services/url-params-encoder.ts","./src/app/core/states/states.service.ts","./src/app/features/hal/helpers/is-new-resource.ts","./src/app/features/hal/resources/hal-resource.ts","./src/app/features/hal/helpers/lazy-accessor.ts","./src/app/features/hal/helpers/hal-resource-builder.ts","./src/app/features/hal/services/hal-error.ts","./src/app/core/apiv3/helpers/get-paginated-results.ts","./src/app/features/hal/services/hal-resource.service.ts","./src/app/core/apiv3/helpers/add-filters-to-path.ts","./src/app/core/apiv3/paths/apiv3-resource.ts","./src/app/core/path-helper/apiv3-paths.ts","./src/app/core/path-helper/path-helper.service.ts","./src/app/features/hal/schemas/hal-payload.helper.ts","./src/app/core/apiv3/forms/apiv3-form-resource.ts","./src/app/core/apiv3/endpoints/grids/apiv3-grid-form.ts","./src/app/core/apiv3/endpoints/grids/apiv3-grid-paths.ts","./src/app/core/apiv3/endpoints/grids/apiv3-grids-paths.ts","./src/app/core/apiv3/cache/state-cache.service.ts","./src/app/features/hal/schemas/schema-proxy.ts","./src/app/features/hal/schemas/work-package-schema-proxy.ts","./src/app/core/schemas/schema-cache.service.ts","./src/app/core/apiv3/cache/cachable-apiv3-resource.ts","./src/app/core/apiv3/endpoints/time-entries/apiv3-time-entry-paths.ts","./src/app/features/hal/resources/collection-resource.ts","./src/app/core/apiv3/cache/cachable-apiv3-collection.ts","./src/app/core/apiv3/endpoints/time-entries/time-entry-cache.service.ts","./src/app/core/apiv3/endpoints/time-entries/apiv3-time-entries-paths.ts","./src/app/core/apiv3/endpoints/capabilities/apiv3-capability-paths.ts","./src/app/core/apiv3/endpoints/capabilities/apiv3-capabilities-paths.ts","./src/app/core/apiv3/endpoints/projects/apiv3-available-projects-paths.ts","./src/app/core/apiv3/endpoints/memberships/apiv3-memberships-form.ts","./src/app/core/apiv3/endpoints/memberships/apiv3-memberships-paths.ts","./src/app/core/apiv3/endpoints/users/apiv3-user-preferences-paths.ts","./src/app/core/apiv3/endpoints/users/apiv3-user-paths.ts","./src/app/core/apiv3/endpoints/users/apiv3-users-paths.ts","./src/app/core/apiv3/endpoints/types/apiv3-type-paths.ts","./src/app/core/apiv3/endpoints/types/apiv3-types-paths.ts","./src/app/features/hal/resources/query-filter-instance-resource.ts","./src/app/features/hal/resources/query-resource.ts","./src/app/core/apiv3/endpoints/queries/apiv3-query-order.ts","./src/app/features/work-packages/components/wp-query/query-filters.service.ts","./src/app/core/apiv3/endpoints/queries/apiv3-query-form.ts","./src/app/core/apiv3/endpoints/queries/apiv3-query-paths.ts","./src/app/core/apiv3/endpoints/queries/apiv3-queries-paths.ts","./src/app/core/apiv3/endpoints/relations/apiv3-relations-paths.ts","./src/app/core/apiv3/endpoints/work_packages/apiv3-work-package-form.ts","./src/app/core/apiv3/endpoints/work_packages/api-v3-work-package-paths.ts","./src/app/core/apiv3/endpoints/work_packages/work-package.cache.ts","./src/app/core/apiv3/endpoints/work_packages/api-v3-work-package-cached-subresource.ts","./src/app/core/apiv3/endpoints/work_packages/api-v3-work-packages-paths.ts","./src/app/core/apiv3/endpoints/versions/apiv3-version-paths.ts","./src/app/core/apiv3/endpoints/versions/apiv3-versions-paths.ts","./src/app/core/apiv3/endpoints/projects/apiv3-project-copy-paths.ts","./src/app/core/apiv3/endpoints/projects/apiv3-project-paths.ts","./src/app/core/apiv3/endpoints/projects/project.cache.ts","./src/app/core/apiv3/endpoints/projects/apiv3-projects-paths.ts","./src/app/core/apiv3/endpoints/statuses/apiv3-status-paths.ts","./src/app/core/apiv3/endpoints/statuses/apiv3-statuses-paths.ts","./src/app/core/apiv3/endpoints/roles/apiv3-role-paths.ts","./src/app/core/apiv3/endpoints/roles/apiv3-roles-paths.ts","./src/app/core/apiv3/endpoints/news/apiv3-news-paths.ts","./src/app/core/apiv3/endpoints/help_texts/apiv3-help-texts-paths.ts","./src/app/core/apiv3/endpoints/configuration/apiv3-configuration-path.ts","./src/app/features/boards/board/board.ts","./src/app/core/model-auth/model-auth.service.ts","./src/app/core/apiv3/virtual/apiv3-board-path.ts","./src/app/core/apiv3/virtual/apiv3-boards-paths.ts","./src/app/core/apiv3/endpoints/placeholder-users/apiv3-placeholder-user-paths.ts","./src/app/core/apiv3/endpoints/placeholder-users/apiv3-placeholder-users-paths.ts","./src/app/core/apiv3/endpoints/groups/apiv3-group-paths.ts","./src/app/core/apiv3/endpoints/groups/apiv3-groups-paths.ts","./src/app/core/apiv3/endpoints/notifications/apiv3-notification-paths.ts","./src/app/core/apiv3/endpoints/notifications/apiv3-notifications-paths.ts","./src/app/core/apiv3/endpoints/views/apiv3-views-paths.ts","./src/app/core/apiv3/endpoints/backups/apiv3-backups-path.ts","./src/app/core/apiv3/endpoints/days/api-v3-day-paths.ts","./src/app/core/apiv3/endpoints/days/api-v3-days-paths.ts","./src/app/core/apiv3/endpoints/storages/apiv3-storages-paths.ts","./src/app/core/apiv3/api-v3.service.ts","./src/app/core/config/configuration.service.ts","./src/app/core/upload/is-http-response.ts","./src/app/shared/components/toaster/toast.service.ts","./src/app/features/hal/resources/error-resource.ts","./src/app/core/upload/wait-for-uploads-finished.ts","./src/app/core/state/resource-store.service.ts","./src/app/core/state/days/weekday.service.ts","./src/app/core/days/weekday.service.ts","./src/stories/weekday.service.stub.ts","./src/app/core/state/days/day.store.ts","./src/app/core/state/days/day.service.ts","./src/stories/day.service.stub.ts","./src/app/shared/components/datepicker/helpers/date-modal.helpers.ts","./src/app/core/datetime/timezone.service.ts","./src/app/shared/components/datepicker/datepicker.ts","./src/app/core/browser/device.service.ts","./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.ts","./src/app/shared/components/datepicker/basic-single-date-picker/basic-single-date-picker.component.ts","./src/app/shared/components/datepicker/basic-datepicker.module.ts","./src/stories/DatePickerBasic.example.ts","./src/stories/DatePickerBasicPrefilled.example.ts","./src/stories/DatePickerRangePrefilled.example.ts","./src/stories/Datepicker-Basic.stories.mdx","./src/stories/DividerSoft.example.ts","./src/stories/DividerStrong.example.ts","./src/stories/Divider.stories.mdx","./src/stories/DropdownButton.stories.mdx","./src/stories/DropdownMenu.stories.mdx","./src/stories/Focus.stories.mdx","./src/stories/HowToUse.stories.mdx","./src/stories/Introduction.stories.mdx","./src/stories/Link.example.ts","./src/stories/Link.stories.mdx","./src/stories/Empty.component.ts","./src/stories/ListWithLinks.example.ts","./src/stories/ListWithCheckboxes.example.ts","./src/stories/ListCompact.example.ts","./src/stories/List.stories.mdx","./src/stories/Mobile-Accessibility-Localisation.stories.mdx","./src/stories/ModalDialogue.stories.mdx","./src/stories/SectionHeaders.stories.mdx","./src/stories/shadows-data.jsx","./src/stories/Shadows.stories.mdx","./src/stories/Spacings.stories.mdx","./src/stories/Toast.stories.mdx","./src/stories/Typography.stories.mdx","./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.sass","./src/app/shared/components/datepicker/styles/datepicker.modal.sass","./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack:///./src/ sync ^\\.(?5743","./src/ sync ^\\.(","./generated-stories-entry.cjs"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n/**\n * General components\n */\nexport interface GlobalI18n {\n  t<T=string>(translateId:string, parameters?:unknown):T;\n\n  lookup(translateId:string):boolean|undefined;\n\n  toNumber(num:number, options?:ToNumberOptions):string;\n\n  toPercentage(num:number, options?:ToPercentageOptions):string;\n\n  toCurrency(num:number, options?:ToCurrencyOptions):string;\n\n  strftime(date:Date, format:string):string;\n\n  toHumanSize(num:number, options?:ToHumanSizeOptions):string;\n\n  toTime(format:string, date:Date):string;\n\n  locale:string;\n  firstDayOfWeek:number;\n  pluralization:any;\n}\n\ninterface ToNumberOptions {\n  precision?:number;\n  separator?:string;\n  delimiter?:string;\n  strip_insignificant_zeros?:boolean;\n}\n\ntype ToPercentageOptions = ToNumberOptions;\n\ninterface ToCurrencyOptions extends ToNumberOptions {\n  format?:string;\n  unit?:string;\n  sign_first?:boolean;\n}\n\ninterface ToHumanSizeOptions extends ToNumberOptions {\n  format?:string;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class I18nService {\n  private i18n:GlobalI18n = window.I18n;\n\n  public get locale():string {\n    return this.i18n.locale;\n  }\n\n  public t = this.i18n.t.bind(this.i18n) as GlobalI18n['t'];\n\n  public lookup = this.i18n.lookup.bind(this.i18n) as GlobalI18n['lookup'];\n\n  public toTime = this.i18n.toTime.bind(this.i18n) as GlobalI18n['toTime'];\n\n  public toNumber = this.i18n.toNumber.bind(this.i18n) as GlobalI18n['toNumber'];\n\n  public toPercentage = this.i18n.toPercentage.bind(this.i18n) as GlobalI18n['toPercentage'];\n\n  public toCurrency = this.i18n.toCurrency.bind(this.i18n) as GlobalI18n['toCurrency'];\n\n  public strftime = this.i18n.strftime.bind(this.i18n) as GlobalI18n['strftime'];\n\n  public toHumanSize = this.i18n.toHumanSize.bind(this.i18n) as GlobalI18n['toHumanSize'];\n}\n","import 'reflect-metadata';\nimport {\n  Component,\n  ElementRef,\n  DirectiveDef,\n} from '@angular/core';\n\n/** We expect an ElementRef to be present on the target class */\nexport interface DatasetInputsDecorated extends Component {\n  elementRef:ElementRef<HTMLElement>;\n}\n\nexport interface DatasetInputsComponent extends DatasetInputsDecorated {\n  elementRef:ElementRef<HTMLElement>;\n  [key:string]:unknown;\n}\n\n/**\n * The populateInputsFromDataset function automatically sets input values from `data` attributes set on a component tag.\n * This is useful if you're rendering the tag in the backend but want to provide data to the component via its inputs.\n *\n * Usage:\n *\n * ```\n * @Component({ selector: 'my-component' })\n * export class MyComponent {\n *   @Input() someInput:string[] = [];\n *\n *   constructor(\n *    elementRef:ElementRef,\n *   ) {\n *     populateInputsFromDataset(this);\n *   }\n * }\n * ```\n *\n * Now you can send data from the backend to the component by JSON:\n *\n * <%= content_tag 'my-component',\n *                 '',\n *                 data: {\n *                   'some-input': ['a', 'b'].to_json\n *                 }\n * %>\n * Warning: this is only checked during the constructor phase once. Changes to the dataset\n * will not be reflected in the inputs. If you need inputs that update, use normal Angular bindings.\n */\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nexport function populateInputsFromDataset(instance:DatasetInputsDecorated):any {\n  // TypeScript won't allow us to do the necessary metaprogramming here since it does not\n  // know about these keys (probably because we should not touch them)\n  const cstr = instance.constructor as unknown as DatasetInputsComponent;\n\n  // Here we find the declared input names of the component.\n  // With them way we can make sure we don't overwrite any non-input values.\n  // This seems to always be cmp, but we don't want to depend on that knowledge.\n  // FIXME: Is there a better way to get to this information? It does not seem to be part of Reflect metadata\n  const declaredInputsParentKey = Object.keys(cstr)\n    .find((key:string) => typeof (cstr[key] as DirectiveDef<unknown>).declaredInputs === 'object');\n\n  if (!declaredInputsParentKey) {\n    console.warn('Could not find declared inputs for component');\n    return;\n  }\n\n  const input = cstr[declaredInputsParentKey] as DirectiveDef<unknown>;\n  const inputs = input.declaredInputs as { [key:string]:string };\n\n  Object.keys(inputs)\n    .forEach((outsideName) => {\n      const insideName = inputs[outsideName];\n\n      const { dataset } = (instance as unknown as DatasetInputsComponent).elementRef.nativeElement;\n\n      if (!dataset[outsideName]) {\n        return;\n      }\n\n      try {\n        (instance as unknown as DatasetInputsComponent)[insideName] = JSON.parse(dataset[outsideName] || '');\n      } catch (err) {\n        console.error(\"Couldn't parse input: \", outsideName, instance.elementRef.nativeElement.dataset);\n        console.error(`\nMake sure to make all data attributes you want to use as input JSON parseable.\nThis means that plain strings have to be wrapped in double quotes, and the attribute value is easiest to set with single quotes.\nAn example:\n\n<op-example example-input='\"myString\"'></op-example>\n`);\n\n        // Rethrow since an error at this point is basically a syntax error and should be fixed\n        throw err;\n      }\n    });\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  Output,\n  ViewChild,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n} from '@angular/forms';\n\nexport type SpotCheckboxState = true|false|null;\n\n@Component({\n  selector: 'spot-checkbox',\n  templateUrl: './checkbox.component.html',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => SpotCheckboxComponent),\n    multi: true,\n  }],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SpotCheckboxComponent implements ControlValueAccessor {\n  @HostBinding('class.spot-checkbox') public className = true;\n\n  @ViewChild('input') public input:ElementRef;\n\n  /**\n   * The tabindex for the underlying HTML input\n   */\n  @Input() tabindex = 0;\n\n  /**\n   * Whether the input should be disabled\n   */\n  @Input() disabled = false;\n\n  /**\n   * The name of the input. Will be autogenerated if not given,\n   * but especially useful to provide in a hybrid Rails <-> Angular context\n   * where a submit of a form is handled without JS.\n   */\n  @Input() name = `spot-checkbox-${+(new Date())}`;\n\n  /**\n   * If you're not using Angular Reactive Forms (Which you should be using!)\n   * then you can manually set the checked state via this input.\n   */\n  @Input() public checked = false;\n\n  /**\n   * Emits when the checked state changes.\n   */\n  @Output() checkedChange = new EventEmitter<boolean>();\n\n  constructor(\n    readonly cdRef:ChangeDetectorRef,\n  ) {}\n\n  onStateChange():void {\n    const value = (this.input.nativeElement as HTMLInputElement).checked;\n    this.checkedChange.emit(value);\n    this.onChange(value);\n    this.onTouched(value);\n  }\n\n  writeValue(value:SpotCheckboxState):void {\n    // This is set in a timeout because the initial value is set before the template is ready,\n    // which causes the input nativeElement to not be available yet.\n    setTimeout(() => {\n      const input = this.input.nativeElement as HTMLInputElement;\n      input.indeterminate = value === null;\n\n      this.checked = !!value;\n      this.cdRef.detectChanges();\n    });\n  }\n\n  onChange = (_:SpotCheckboxState):void => {};\n\n  onTouched = (_:SpotCheckboxState):void => {};\n\n  registerOnChange(fn:(_:SpotCheckboxState) => void):void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn:(_:SpotCheckboxState) => void):void {\n    this.onTouched = fn;\n  }\n}\n","import {\n  Injectable,\n  TemplateRef,\n} from '@angular/core';\nimport {\n  BehaviorSubject,\n  Subject,\n} from 'rxjs';\nimport { distinctUntilChanged, filter, take } from 'rxjs/operators';\n\nexport type TeleportInstance = TemplateRef<any>;\n\n@Injectable({ providedIn: 'root' })\nexport class SpotDropModalTeleportationService {\n\n  public templateRef$ = new BehaviorSubject<TeleportInstance|null>(null);\n\n  public hasRendered$ = new Subject<boolean>();\n\n  public hasRenderedFiltered$ = this.hasRendered$.pipe(distinctUntilChanged());\n\n  public afterRenderOnce$(appearOrDissapear:boolean = true) {\n    return this.hasRenderedFiltered$\n      .pipe(\n        filter(f => f === appearOrDissapear),\n        take(1),\n      );\n  }\n\n  public activate(instance: TeleportInstance) {\n    this.templateRef$.next(instance);\n  }\n\n  public clear() { \n    this.templateRef$.next(null);\n  }\n}\n","export enum KeyCodes {\n  BACKSPACE = 8,\n  TAB = 9,\n  ENTER = 13,\n  SHIFT = 16,\n  CTRL = 17,\n  ALT = 18,\n  PAUSE = 19,\n  CAPS_LOCK = 20,\n  ESCAPE = 27,\n  SPACE = 32,\n  PAGE_UP = 33,\n  PAGE_DOWN = 34,\n  END = 35,\n  HOME = 36,\n  LEFT_ARROW = 37,\n  UP_ARROW = 38,\n  RIGHT_ARROW = 39,\n  DOWN_ARROW = 40,\n  INSERT = 45,\n  DELETE = 46,\n  KEY_0 = 48,\n  KEY_1 = 49,\n  KEY_2 = 50,\n  KEY_3 = 51,\n  KEY_4 = 52,\n  KEY_5 = 53,\n  KEY_6 = 54,\n  KEY_7 = 55,\n  KEY_8 = 56,\n  KEY_9 = 57,\n  KEY_A = 65,\n  KEY_B = 66,\n  KEY_C = 67,\n  KEY_D = 68,\n  KEY_E = 69,\n  KEY_F = 70,\n  KEY_G = 71,\n  KEY_H = 72,\n  KEY_I = 73,\n  KEY_J = 74,\n  KEY_K = 75,\n  KEY_L = 76,\n  KEY_M = 77,\n  KEY_N = 78,\n  KEY_O = 79,\n  KEY_P = 80,\n  KEY_Q = 81,\n  KEY_R = 82,\n  KEY_S = 83,\n  KEY_T = 84,\n  KEY_U = 85,\n  KEY_V = 86,\n  KEY_W = 87,\n  KEY_X = 88,\n  KEY_Y = 89,\n  KEY_Z = 90,\n  LEFT_META = 91,\n  RIGHT_META = 92,\n  SELECT = 93,\n  NUMPAD_0 = 96,\n  NUMPAD_1 = 97,\n  NUMPAD_2 = 98,\n  NUMPAD_3 = 99,\n  NUMPAD_4 = 100,\n  NUMPAD_5 = 101,\n  NUMPAD_6 = 102,\n  NUMPAD_7 = 103,\n  NUMPAD_8 = 104,\n  NUMPAD_9 = 105,\n  MULTIPLY = 106,\n  ADD = 107,\n  SUBTRACT = 109,\n  DECIMAL = 110,\n  DIVIDE = 111,\n  F1 = 112,\n  F2 = 113,\n  F3 = 114,\n  F4 = 115,\n  F5 = 116,\n  F6 = 117,\n  F7 = 118,\n  F8 = 119,\n  F9 = 120,\n  F10 = 121,\n  F11 = 122,\n  F12 = 123,\n  NUM_LOCK = 144,\n  SCROLL_LOCK = 145,\n  SEMICOLON = 186,\n  EQUALS = 187,\n  COMMA = 188,\n  DASH = 189,\n  PERIOD = 190,\n  FORWARD_SLASH = 191,\n  GRAVE_ACCENT = 192,\n  OPEN_BRACKET = 219,\n  BACK_SLASH = 220,\n  CLOSE_BRACKET = 221,\n  SINGLE_QUOTE = 222,\n}\n","/**\n * Elements that can receive focus\n */\nexport const FOCUSABLE_ELEMENT_SELECTORS = [\n  'a[href]:not([tabindex^=\"-\"])',\n  'area[href]:not([tabindex^=\"-\"])',\n  'input:not([type=\"hidden\"]):not([type=\"radio\"]):not([disabled]):not([tabindex^=\"-\"])',\n  'input[type=\"radio\"]:not([disabled]):not([tabindex^=\"-\"])',\n  'select:not([disabled]):not([tabindex^=\"-\"])',\n  'textarea:not([disabled]):not([tabindex^=\"-\"])',\n  'button:not([disabled]):not([tabindex^=\"-\"])',\n  'iframe:not([tabindex^=\"-\"])',\n  'audio[controls]:not([tabindex^=\"-\"])',\n  'video[controls]:not([tabindex^=\"-\"])',\n  '[contenteditable]:not([tabindex^=\"-\"])',\n  '[tabindex]:not([tabindex^=\"-\"]):not(.cdk-focus-trap-anchor)',\n];\n\n/**\n * Find all focusable element within a given container\n */\nexport function findAllFocusableElementsWithin(container:HTMLElement):NodeListOf<HTMLElement> {\n  return container.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS.toString());\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { KeyCodes } from 'core-app/shared/helpers/keyCodes.enum';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport { findAllFocusableElementsWithin } from 'core-app/shared/helpers/focus-helpers';\nimport { SpotDropModalTeleportationService } from './drop-modal-teleportation.service';\nimport { filter, take } from 'rxjs/operators';\nimport { debounce } from 'lodash';\nimport {\n  autoUpdate,\n  computePosition,\n  flip,\n  limitShift,\n  Placement,\n  shift,\n} from '@floating-ui/dom';\n\n@Component({\n  selector: 'spot-drop-modal',\n  templateUrl: './drop-modal.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SpotDropModalComponent implements OnDestroy {\n  @HostBinding('class.spot-drop-modal') public className = true;\n\n  /**\n   * Whether to allow automatic changing the alignment based on the available space.\n   */\n  @Input() public allowRepositioning = true;\n\n  /**\n   * The default alignment of the drop modal. There are twelve alignments in total. You can check which ones they are\n   * from the `SpotDropAlignmentOption` Enum that is available in 'core-app/spot/drop-alignment-options'.\n   */\n  @Input() public alignment:Placement = 'bottom-end';\n\n  public _opened = false;\n\n  /**\n   * Boolean indicating whether the modal should be opened\n   */\n  /* eslint-disable-next-line @angular-eslint/no-input-rename */\n  @Input('opened')\n  @HostBinding('class.spot-drop-modal_opened')\n  set opened(value:boolean) {\n    if (this._opened === value) {\n      return;\n    }\n\n    if (value) {\n      this.open();\n    } else {\n      this.close();\n    }\n  }\n\n  get opened():boolean {\n    return this._opened;\n  }\n\n  /**\n   * Emits when the drop modal closes. This is needed because you are usually controlling the opened\n   * state of the modal manually because you have to define the trigger that opens the modal, but can\n   * will close itself automatically if the user interacts outside of it or presses Escape.\n   *\n   * ```\n   * <spot-drop-modal\n   *   [open]=\"isDropModalOpen\"\n   *   (closed)=\"isDropModalOpen = false\"\n   * >\n   *   <button\n   *     slot=\"trigger\"\n   *     type=\"button\"\n   *     (click)=\"isDropModalOpen = true\"\n   *   >Open drop modal</button>\n   * </spot-drop-modal>\n   * ```\n   */\n  @Output() closed = new EventEmitter<void>();\n\n  public id = `drop-modal-${Math.round(Math.random() * 10000)}`;\n\n  public text = {\n    close: this.i18n.t('js.spot.drop_modal.close'),\n    focus_grab: this.i18n.t('js.spot.drop_modal.focus_grab'),\n  };\n\n  private cleanupFloatingUI:() => void|undefined;\n\n  @ViewChild('anchor') anchor:ElementRef;\n\n  @ViewChild('body') body:TemplateRef<any>;\n\n  @ViewChild('focusGrabber') focusGrabber:ElementRef;\n\n  constructor(\n    readonly i18n:I18nService,\n    readonly elementRef:ElementRef,\n    readonly cdRef:ChangeDetectorRef,\n    private teleportationService:SpotDropModalTeleportationService,\n  ) {}\n\n  open() {\n    this._opened = true;\n    this.updateAppHeight();\n    this.cdRef.detectChanges();\n\n    /*\n     * If we don't activate the body after one tick, angular will complain because\n     * it already rendered a `null` template, but then gets an update to that\n     * template in the same tick.\n     * To make it happy, we update afterwards\n     */\n    this.teleportationService.activate(this.body);\n\n    this.teleportationService\n      .hasRenderedFiltered$\n      .pipe(\n        filter((hasRendered) => !!hasRendered),\n        take(1),\n      )\n      .subscribe(() => {\n        const referenceEl = this.elementRef.nativeElement as HTMLElement;\n        const floatingEl = this.anchor.nativeElement as HTMLElement;\n        this.cleanupFloatingUI = autoUpdate(\n          referenceEl,\n          floatingEl,\n          /* eslint-disable-next-line @typescript-eslint/no-misused-promises */\n          async () => {\n            const { x, y } = await computePosition(\n              referenceEl,\n              floatingEl,\n              {\n                placement: this.alignment,\n                middleware: this.allowRepositioning ? [\n                  flip({\n                    mainAxis: true,\n                    crossAxis: true,\n                    fallbackAxisSideDirection: 'start',\n                  }),\n                  shift({ limiter: limitShift() }),\n                ] : [],\n              },\n            );\n\n            Object.assign(floatingEl.style, {\n              left: `${x}px`,\n              top: `${y}px`,\n            });\n          },\n        );\n        /*\n         * We have to set these listeners next tick, because they're so far up the tree.\n         * If the open value was set because of a click listener in the trigger slot,\n         * that event would reach the event listener added here and close the modal right away.\n         */\n        setTimeout(() => {\n          document.body.addEventListener('click', this.onGlobalClick);\n          document.body.addEventListener('keydown', this.onEscape);\n          window.addEventListener('resize', this.onResize);\n          window.addEventListener('orientationchange', this.onResize);\n\n          const focusCatcherContainer = document.querySelectorAll(\"[data-modal-focus-catcher-container='true']\")[0];\n          if (focusCatcherContainer) {\n            (findAllFocusableElementsWithin(focusCatcherContainer as HTMLElement)[0])?.focus();\n          } else {\n            // Index 1 because the element at index 0 is the trigger button to open the modal\n            (findAllFocusableElementsWithin(document.querySelector('.spot-drop-modal-portal')!)[1])?.focus();\n          }\n        });\n      });\n  }\n\n  close():void {\n    this._opened = false;\n    this.closed.emit();\n\n    /*\n     * The same as with opening; if we don't deactivate the body after\n     * one tick, angular will complain because it already rendered the\n     * template, but then gets an update to render `null` in the same tick.\n     *\n     * To make it happy, we update afterwards\n     */\n    document.body.removeEventListener('click', this.onGlobalClick);\n    document.body.removeEventListener('keydown', this.onEscape);\n    window.removeEventListener('resize', this.onResize);\n    window.removeEventListener('orientationchange', this.onResize);\n\n    this.teleportationService.clear();\n    this.cdRef.detectChanges();\n    (this.focusGrabber.nativeElement as HTMLElement).focus();\n  }\n\n  private onGlobalClick = this.close.bind(this) as () => void;\n\n  ngOnDestroy():void {\n    this.teleportationService.clear();\n    document.body.removeEventListener('click', this.onGlobalClick);\n    document.body.removeEventListener('keydown', this.onEscape);\n    window.removeEventListener('resize', this.onResize);\n    window.removeEventListener('orientationchange', this.onResize);\n    this.cleanupFloatingUI?.();\n  }\n\n  onBodyClick(e:MouseEvent):void {\n    // We stop propagation here so that clicks inside the body do not\n    // close the modal when the event reaches the document body\n    e.stopPropagation();\n  }\n\n  private escapeCallback = (evt:KeyboardEvent) => {\n    if (evt.keyCode === KeyCodes.ESCAPE) {\n      this.close();\n    }\n  };\n\n  private onEscape = debounce(this.escapeCallback.bind(this), 10);\n\n  private resizeCallback():void {\n    this.updateAppHeight();\n  }\n\n  private onResize = debounce(this.resizeCallback.bind(this), 10);\n\n  private updateAppHeight = () => {\n    const doc = document.documentElement;\n    doc.style.setProperty('--app-height', `${window.innerHeight}px`);\n  };\n}\n","import {\n  Component, ContentChild, HostBinding, Input, Optional,\n} from '@angular/core';\nimport { AbstractControl, FormGroupDirective, NgControl } from '@angular/forms';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\n\n/* eslint-disable-next-line change-detection-strategy/on-push */\n@Component({\n  selector: 'spot-form-field',\n  templateUrl: './form-field.component.html',\n})\nexport class SpotFormFieldComponent {\n  @HostBinding('class.spot-form-field') className = true;\n\n  @HostBinding('class.spot-form-field_invalid') get errorClassName():boolean {\n    return this.showErrorMessage;\n  }\n\n  /**\n   * The text label of the input\n   */\n  @Input() label = '';\n\n  /**\n   * By default, the label wraps the input. For some input types this\n   * leads to unwanted behavior because clicking in the input might focus\n   * unrelated elements.\n   *\n   * One example of an input like is the CKEditor rich text editor.\n   *\n   * Setting noWrapLabel to `true` causes the label not to wrap the input.\n   * This might slightly reduce the label functionality (e.g. clicking the label\n   * does not focus the input) but is still preferred over more broken behavior.\n   */\n  @Input() noWrapLabel = false;\n\n  /**\n   * Whether this input is required\n   */\n  @Input() required = false;\n\n  /**\n   * When to show validation errors. To remain consistent, you will almost never need to change this.\n   * However, for some inputs or usecases it might be useful to show the validation error anyway.\n   */\n  @Input() showValidationErrorOn:'change' | 'blur' | 'submit' | 'never' = 'submit';\n\n  /**\n   * The control of the input. This can be any interface that is compatible with `AbstractControl`,\n   * but will almost always be a `FormControl`.\n   *\n   * The control is used to show disabled and invalid states.\n   */\n  @Input() control?:AbstractControl;\n\n  /**\n   * Hides the input. This is a utility input for usage of `spot-form-field` in dynamic forms.\n   * Outside of dynamic forms, you should be hiding inputs via `*ngIf` or other methods.\n   */\n  @Input() hidden = false;\n\n  @ContentChild(NgControl) ngControl:NgControl;\n\n  internalID = `spot-form-field-${+new Date()}`;\n\n  text = {\n    invalid: this.I18n.t('js.label_invalid'),\n  };\n\n  get errorsID():string {\n    return `${this.internalID}-errors`;\n  }\n\n  get descriptionID():string {\n    return `${this.internalID}-description`;\n  }\n\n  get describedByID():string {\n    return this.showErrorMessage ? this.errorsID : this.descriptionID;\n  }\n\n  get formControl():AbstractControl|undefined|null {\n    return this.ngControl?.control || this.control;\n  }\n\n  get showErrorMessage():boolean {\n    if (!this.formControl) {\n      return false;\n    }\n\n    if (this.showValidationErrorOn === 'submit') {\n      return this.formControl.invalid && this._formGroupDirective?.submitted;\n    } if (this.showValidationErrorOn === 'blur') {\n      return this.formControl.invalid && this.formControl.touched;\n    } if (this.showValidationErrorOn === 'change') {\n      return this.formControl.invalid && this.formControl.dirty;\n    }\n\n    return false;\n  }\n\n  constructor(\n    @Optional() private _formGroupDirective:FormGroupDirective,\n    readonly I18n:I18nService,\n  ) {}\n}\n","import {\n  Component,\n  ContentChild,\n  HostBinding,\n  Input,\n  Optional,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  FormGroupDirective,\n  NgControl,\n} from '@angular/forms';\n\n@Component({\n  selector: 'spot-selector-field',\n  templateUrl: './selector-field.component.html',\n})\nexport class SpotSelectorFieldComponent {\n  @HostBinding('class.spot-form-field') className = true;\n\n  @HostBinding('class.spot-selector-field') classNameCheckbox = true;\n\n  @HostBinding('class.spot-form-field_invalid') get errorClassName():boolean {\n    return this.showErrorMessage;\n  }\n\n  /**\n   * The text label of the input\n   */\n  @Input() label = '';\n\n  /**\n   * Whether the label should be in front of the input instead of after it\n   */\n  @Input() reverseLabel = false;\n\n  /**\n   * Whether the label should be in bold or regular font weight\n   */\n  @Input() labelWeight:'bold'|'regular' = 'regular';\n\n  /**\n   * Whether this input is required\n   */\n  @Input() required = false;\n\n  /**\n   * When to show validation errors. To remain consistent, you will almost never need to change this.\n   * However, for some inputs or usecases it might be useful to show the validation error anyway.\n   */\n  @Input() showValidationErrorOn:'change'|'blur'|'submit'|'never' = 'submit';\n\n  /**\n   * The control of the input. This can be any interface that is compatible with `AbstractControl`,\n   * but will almost always be a `FormControl`.\n   *\n   * The control is used to show disabled and invalid states.\n   */\n  @Input() control?:AbstractControl;\n\n  /**\n   * Hides the input. This is a utility input for usage of `spot-form-field` in dynamic forms.\n   * Outside of dynamic forms, you should be hiding inputs via `*ngIf` or other methods.\n   */\n  @Input() hidden = false;\n\n  @ContentChild(NgControl) ngControl:NgControl;\n\n  internalID = `spot-selector-field-${+new Date()}`;\n\n  get errorsID():string {\n    return `${this.internalID}-errors`;\n  }\n\n  get descriptionID():string {\n    return `${this.internalID}-description`;\n  }\n\n  get describedByID():string {\n    return this.showErrorMessage ? this.errorsID : this.descriptionID;\n  }\n\n  get formControl():AbstractControl|undefined|null {\n    return this.ngControl?.control || this.control;\n  }\n\n  get showErrorMessage():boolean {\n    if (!this.formControl) {\n      return false;\n    }\n\n    if (this.showValidationErrorOn === 'submit') {\n      return this.formControl.invalid && this.formGroupDirective?.submitted;\n    }\n    if (this.showValidationErrorOn === 'blur') {\n      return this.formControl.invalid && this.formControl.touched;\n    }\n    if (this.showValidationErrorOn === 'change') {\n      return this.formControl.invalid && this.formControl.dirty;\n    }\n\n    return false;\n  }\n\n  constructor(\n    @Optional() private formGroupDirective:FormGroupDirective,\n  ) {}\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n} from '@angular/forms';\nimport { populateInputsFromDataset } from 'core-app/shared/components/dataset-inputs';\n\nexport type SpotSwitchState = boolean;\n\nexport const spotSwitchSelector = 'spot-switch';\n\n@Component({\n  selector: spotSwitchSelector,\n  templateUrl: './switch.component.html',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => SpotSwitchComponent),\n    multi: true,\n  }],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SpotSwitchComponent implements ControlValueAccessor {\n  @HostBinding('class.spot-switch') public className = true;\n\n  @ViewChild('input') public input:ElementRef;\n\n  /**\n   * The tabindex for the underlying HTML input\n   */\n  @Input() tabindex = 0;\n\n  /**\n   * Whether the input should be disabled\n   */\n  @Input() disabled = false;\n\n  /**\n   * The name of the input. Will be autogenerated if not given,\n   * but especially useful to provide in a hybrid Rails <-> Angular context\n   * where a submit of a form is handled without JS.\n   */\n  @Input() name = `spot-switch-${+(new Date())}`;\n\n  /**\n   * If you're not using Angular Reactive Forms (Which you should be using!)\n   * then you can manually set the checked state via this input.\n   */\n  @Input() public checked = false;\n\n  /**\n   * Emits when the checked state changes.\n   */\n  @Output() checkedChange = new EventEmitter<boolean>();\n\n  constructor(\n    public elementRef:ElementRef,\n    public cdRef:ChangeDetectorRef,\n  ) {\n    populateInputsFromDataset(this);\n  }\n\n  onStateChange():void {\n    const value = (this.input.nativeElement as HTMLInputElement).checked;\n    this.checkedChange.emit(value);\n    this.onChange(value);\n    this.onTouched(value);\n  }\n\n  writeValue(value:SpotSwitchState):void {\n    this.checked = !!value;\n    this.cdRef.markForCheck();\n  }\n\n  onToggle(value:SpotSwitchState):void {\n    this.writeValue(value);\n    this.onChange(value);\n    this.onTouched(value);\n  }\n\n  onChange = (_:SpotSwitchState):void => {};\n\n  onTouched = (_:SpotSwitchState):void => {};\n\n  registerOnChange(fn:(_:SpotSwitchState) => void):void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn:(_:SpotSwitchState) => void):void {\n    this.onTouched = fn;\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  ViewChild,\n  forwardRef,\n  HostBinding,\n  HostListener,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n} from '@angular/forms';\n\n@Component({\n  selector: 'spot-text-field',\n  templateUrl: './text-field.component.html',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => SpotTextFieldComponent),\n    multi: true,\n  }],\n})\nexport class SpotTextFieldComponent implements ControlValueAccessor {\n  @HostBinding('class.spot-text-field') public className = true;\n\n  @HostBinding('class.spot-text-field_focused') public focused = false;\n\n  @HostListener('click')\n  public onParentClick():void {\n    this.input.nativeElement.focus();\n  }\n\n  @ViewChild('input') public input:ElementRef;\n\n  /**\n   * The name of the input. Will be autogenerated if not given,\n   * but especially useful to provide in a hybrid Rails <-> Angular context\n   * where a submit of a form is handled without JS.\n   */\n  @Input() name = `spot-text-field-${+(new Date())}`;\n\n  /**\n   * Whether the input should be disabled\n   */\n  @Input() @HostBinding('class.spot-text-field_disabled') public disabled = false;\n\n  /**\n   * By default, we show a small \"x\" inside the input on the right hand side if\n   * some value has been set. This is a button that clears the input. Setting this option\n   * to false will not show this clear button.\n   */\n  @Input() showClearButton = true;\n\n  /**\n   * The placeholder text.\n   * This should never be a label replacement, since placeholders are not properly accessible.\n   */\n  @Input() public placeholder = '';\n\n  /**\n   * If you're not using Angular Reactive Forms (Which you should be using!)\n   * then you can manually set the value via this input.\n   */\n  @Input() public value = '';\n\n  /**\n   * Whether the field should be receive a [required] property.\n   */\n  @Input() public required:boolean = false;\n\n  /**\n   * The html input (Regexp) pattern to provide hints to keyboards what layout to use\n   * and to aid in validation.\n   */\n  @Input() public pattern:string|undefined;\n\n  /**\n   * The html inputmode to hint virtual keyboard layouts.\n   */\n  @Input() public inputmode:'text'|'decimal'|'numeric'|'tel'|'search'|'email'|'url' = 'text';\n\n  valueChanged(value:string):void {\n    this.writeValue(value);\n    this.onChange(value);\n    this.onTouched(value);\n  }\n\n  @Output() public inputFocus = new EventEmitter<FocusEvent>();\n\n  @Output() public inputBlur = new EventEmitter<FocusEvent>();\n\n  constructor(\n    private cdRef:ChangeDetectorRef,\n  ) {}\n\n  onInputFocus(event:FocusEvent):void {\n    this.focused = true;\n    this.inputFocus.next(event);\n  }\n\n  onInputBlur(event:FocusEvent):void {\n    this.focused = false;\n    this.inputBlur.next(event);\n  }\n\n  writeValue(value:string) {\n    this.value = value || '';\n    this.cdRef.markForCheck();\n  }\n\n  onChange = (_:string):void => {};\n\n  onTouched = (_:string):void => {};\n\n  registerOnChange(fn:(_:string) => void):void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn:(_:string) => void):void {\n    this.onTouched = fn;\n  }\n}\n","import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  Output,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nexport interface SpotToggleOption<T> {\n  value:T;\n  title:string;\n};\n\n@Component({\n  selector: 'spot-toggle',\n  templateUrl: './toggle.component.html',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => SpotToggleComponent),\n    multi: true,\n  }],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SpotToggleComponent<T> implements ControlValueAccessor {\n  // TODO: These old styles will need to be replaced\n  @HostBinding('class.form--field-inline-buttons-container') public classNameOld = true;\n\n  @HostBinding('class.spot-toggle') public className = true;\n\n  /**\n   * The array of options that should be shown. Options have a simple structure:\n   *\n   * ```\n   * {\n   *   title:string;\n   *   value:T;\n   * }\n   * ```\n   *\n   * `title` will be shown in the toggle for the user to read, while `value` will be the\n   * value that is set as the ngModel if the option is selected.\n   */\n  @Input() options:SpotToggleOption<T>[] = [];\n\n  /**\n   * Whether the input should be disabled\n   */\n  @Input() disabled = false;\n\n  /**\n   * The name of the input. Will be autogenerated if not given,\n   * but especially useful to provide in a hybrid Rails <-> Angular context\n   * where a submit of a form is handled without JS.\n   */\n  @Input() name = `spot-toggle-${+(new Date())}`;\n\n  /**\n   * If you're not using Angular Reactive Forms (Which you should be using!)\n   * then you can manually set the value via this input.\n   */\n  @Input() public value:T;\n\n  /**\n   * Emits when the selected value changes.\n   */\n  @Output() valueChange = new EventEmitter<T>();\n\n  constructor(\n    private cdRef:ChangeDetectorRef,\n  ) {}\n\n  writeValue(value:T):void {\n    this.value = value;\n    this.cdRef.markForCheck();\n  }\n\n  onToggle(value:T):void {\n    this.writeValue(value);\n    this.onChange(value);\n    this.onTouched(value);\n  }\n\n  onChange = (_:T):void => {};\n\n  onTouched: (t:T) => void = (_:T):void => {};\n\n  registerOnChange(fn:(_:T) => void):void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn:(_:T) => void):void {\n    this.onTouched = fn;\n  }\n}\n","import {\n  Component,\n  HostBinding,\n  Input,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport SpotDropAlignmentOption from '../../drop-alignment-options';\n\n@Component({\n  selector: 'spot-tooltip',\n  templateUrl: './tooltip.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SpotTooltipComponent {\n  @HostBinding('class.spot-tooltip') public className = true;\n\n  @Input() @HostBinding('class.spot-tooltip_light') public light = false;\n\n  /**\n   * Whether the tooltip should be disabled.\n   * In that case, hovering the trigger element will not do anything.\n   */\n  @Input() public disabled = false;\n\n  /**\n   * The alignment of the tooltip. There are twelve alignments in total. You can check which ones they are\n   * from the `SpotDropAlignmentOption` Enum that is available in 'core-app/spot/drop-alignment-options'.\n   */\n  @Input() public alignment:SpotDropAlignmentOption = SpotDropAlignmentOption.BottomCenter;\n\n  get alignmentClass():string {\n    return `spot-tooltip--body_${this.alignment}`;\n  }\n}\n","enum SpotDropAlignmentOption {\n  TopLeft = 'top-left',\n  TopCenter = 'top-center',\n  TopRight = 'top-right',\n\n  RightTop = 'right-top',\n  RightCenter = 'right-center',\n  RightBottom = 'right-bottom',\n\n  BottomLeft = 'bottom-left',\n  BottomCenter = 'bottom-center',\n  BottomRight = 'bottom-right',\n\n  LeftTop = 'left-top',\n  LeftCenter = 'left-center',\n  LeftBottom = 'left-bottom',\n}\n\nexport default SpotDropAlignmentOption;\n","import {\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n} from '@angular/core';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\n\n@Component({\n  selector: 'spot-filter-chip',\n  templateUrl: './filter-chip.component.html',\n})\nexport class SpotFilterChipComponent {\n  @HostBinding('class.spot-filter-chip') public className = true;\n\n  @Input() @HostBinding('class.spot-filter-chip_disabled') public disabled = false;\n\n  @Input() removable = true;\n\n  @Input() title = '';\n\n  @Input() icon = '';\n\n  @Output() remove = new EventEmitter<void>();\n\n  public text = {\n    remove: this.i18n.t('js.spot.filter_chip.remove'),\n  };\n\n  public get iconClasses():string[] {\n    return [\n      'spot-icon',\n      `spot-icon_${this.icon}`,\n    ];\n  }\n\n  constructor(readonly i18n:I18nService) {}\n}\n","import { Directive, forwardRef, Input } from '@angular/core';\nimport {\n  UntypedFormArray, UntypedFormControl, UntypedFormGroup, NgControl,\n} from '@angular/forms';\n\nexport const formControlBinding = {\n  provide: NgControl,\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  useExisting: forwardRef(() => SpotFormBindingDirective),\n};\n\n@Directive({\n  selector: '[spotFormBinding]',\n  providers: [formControlBinding],\n  exportAs: 'ngForm',\n})\nexport class SpotFormBindingDirective extends NgControl {\n  @Input('spotFormBinding') form!:UntypedFormControl|UntypedFormGroup|UntypedFormArray;\n\n  get control():UntypedFormControl|UntypedFormGroup|UntypedFormArray {\n    return this.form;\n  }\n\n  viewToModelUpdate():void {}\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  HostBinding,\n  Input,\n} from '@angular/core';\n\nimport { BreadcrumbsContent } from 'core-app/spot/components/breadcrumbs/breadcrumbs-content';\n\n@Component({\n  selector: 'spot-breadcrumbs',\n  templateUrl: './breadcrumbs.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SpotBreadcrumbsComponent {\n  @HostBinding('class.spot-breadcrumbs') className = true;\n\n  @Input() content:BreadcrumbsContent;\n}\n","import { OnDestroyMixin, untilComponentDestroyed } from '@w11k/ngx-componentdestroyed';\nimport { Directive, OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n/**\n * Mixin function to provide access to observable and flags\n * whether this component has been destroyed.\n *\n * Use for rxjs with .pipe(this.untilDestroyed)\n */\n@Directive()\nexport class UntilDestroyedMixin extends OnDestroyMixin implements OnDestroy {\n  public componentDestroyed = false;\n\n  ngOnDestroy():void {\n    this.componentDestroyed = true;\n    super.ngOnDestroy();\n  }\n\n  /**\n   * Helper function to access `untilComponentDestroyed`\n   */\n  protected untilDestroyed<T>():(source:Observable<T>) => Observable<T> {\n    return untilComponentDestroyed(this);\n  }\n}\n","import {\n  OnInit,\n  AfterViewChecked,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  HostBinding,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport {\n  SpotDropModalTeleportationService,\n  TeleportInstance,\n} from './drop-modal-teleportation.service';\nimport { UntilDestroyedMixin } from 'core-app/shared/helpers/angular/until-destroyed.mixin';\n\nexport const spotDropModalPortalComponentSelector = 'spot-drop-modal-portal';\n\n@Component({\n  selector: spotDropModalPortalComponentSelector,\n  template: '<ng-container *ngTemplateOutlet=\"template\"></ng-container>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SpotDropModalPortalComponent extends UntilDestroyedMixin implements OnInit, AfterViewChecked {\n  @HostBinding('class.spot-drop-modal-portal') className = true;\n\n  template:TeleportInstance|null = null;\n\n  constructor(\n    readonly cdRef:ChangeDetectorRef,\n    readonly template$:SpotDropModalTeleportationService,\n    readonly elementRef:ElementRef<HTMLElement>,\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this\n      .template$\n      .templateRef$\n      .pipe(\n        this.untilDestroyed(),\n      )\n      .subscribe((templ) => {\n        this.template = templ;\n        this.cdRef.detectChanges();\n      });\n  }\n\n  ngAfterViewChecked():void {\n    this.template$.hasRendered$.next(!!this.elementRef.nativeElement.children.length);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport {\n  FormsModule,\n  ReactiveFormsModule,\n} from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { A11yModule } from '@angular/cdk/a11y';\n\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport { SpotCheckboxComponent } from './components/checkbox/checkbox.component';\nimport { SpotSwitchComponent } from './components/switch/switch.component';\nimport { SpotToggleComponent } from './components/toggle/toggle.component';\nimport { SpotTextFieldComponent } from './components/text-field/text-field.component';\nimport { SpotFilterChipComponent } from './components/filter-chip/filter-chip.component';\nimport { SpotDropModalComponent } from './components/drop-modal/drop-modal.component';\nimport { SpotTooltipComponent } from './components/tooltip/tooltip.component';\nimport { SpotFormFieldComponent } from './components/form-field/form-field.component';\nimport { SpotFormBindingDirective } from './components/form-field/form-binding.directive';\nimport { SpotBreadcrumbsComponent } from './components/breadcrumbs/breadcrumbs.component';\nimport { SpotSelectorFieldComponent } from './components/selector-field/selector-field.component';\nimport { SpotDropModalPortalComponent } from './components/drop-modal/drop-modal-portal.component';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    CommonModule,\n    A11yModule,\n  ],\n\n  providers: [\n    I18nService,\n  ],\n\n  declarations: [\n    SpotBreadcrumbsComponent,\n    SpotCheckboxComponent,\n    SpotSwitchComponent,\n    SpotToggleComponent,\n    SpotTextFieldComponent,\n    SpotFilterChipComponent,\n    SpotDropModalComponent,\n    SpotDropModalPortalComponent,\n    SpotDropModalPortalComponent,\n    SpotFormFieldComponent,\n    SpotFormBindingDirective,\n    SpotTooltipComponent,\n    SpotSelectorFieldComponent,\n  ],\n\n  exports: [\n    SpotBreadcrumbsComponent,\n    SpotCheckboxComponent,\n    SpotSwitchComponent,\n    SpotToggleComponent,\n    SpotTextFieldComponent,\n    SpotFilterChipComponent,\n    SpotDropModalComponent,\n    SpotDropModalPortalComponent,\n    SpotDropModalPortalComponent,\n    SpotFormFieldComponent,\n    SpotFormBindingDirective,\n    SpotTooltipComponent,\n    SpotSelectorFieldComponent,\n  ],\n})\nexport class OpSpotModule { }\n","/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/guide/browser-support\n */\n\n/** *************************************************************************************************\n* BROWSER POLYFILLS\n*/\n\n// Ensure global is set for ng2-dragula and others\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access no-explicit-any\n(window as any).global = window;\n\n/*\n * in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js\n * with the following flag, it will bypass `zone.js` patch for IE/Edge\n */\n// (window as any).__Zone_enable_cross_context_check = true;\n\n/** *************************************************************************************************\n * Zone JS is required by default for Angular itself.\n */\nimport 'zone.js';\n\n/** IE10 and IE11 requires the following for the Reflect API. */\n// import 'core-js/es6/reflect';\n\n/** Evergreen browsers require these. * */\n// Used for reflect-metadata in JIT. If you use AOT (and only Angular decorators), you can remove.\n// import 'core-js/es7/reflect';\n\n/**\n * By default, zone.js will patch all possible macroTask and DomEvents\n * user can disable parts of macroTask/DomEvents patch by setting following flags\n */\n\n// (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame\n// (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick\n(window as any).__zone_symbol__BLACK_LISTED_EVENTS = ['scroll', 'mousemove', 'mouseover', 'mouseout', 'mousewheel']; // Included with Angular CLI.\n\n/** *************************************************************************************************\n * APPLICATION IMPORTS\n */\n","import { setCompodocJson } from \"@storybook/addon-docs/angular\";\nimport { themes } from '@storybook/theming';\nimport docJson from \"../documentation.json\";\n\nsetCompodocJson(docJson);\n\nexport const parameters = {\n  parameters: {\n    viewMode: 'docs',\n  },\n  actions: { argTypesRegex: \"^on[A-Z].*\" },\n  controls: {\n    matchers: {\n      color: /(background|color)$/i,\n      date: /Date$/,\n    },\n  },\n  docs: {\n    inlineStories: true,\n    theme: themes.light,\n  },\n  options: {\n    storySort: {\n      method: 'alphabetical',\n      order: [\n        'Design System',\n        'Devices and Accessibility',\n        'Styles',\n        [\n          'Typography',\n          'Colors',\n          'Spacings',\n          'Shadows',\n        ],\n        'Blocks',\n        // TODO: Add manual sort order for components and patterns \n      ],\n    },\n  },\n}\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable import/no-unresolved */\nimport { addDecorator, addParameters, addLoader, addArgs, addArgTypes, addArgsEnhancer, addArgTypesEnhancer, setGlobalRender } from '/home/runner/work/design-system/design-system/core/frontend/node_modules/@storybook/builder-webpack5/node_modules/@storybook/client-api';\nimport * as config from '/home/runner/work/design-system/design-system/core/frontend/.storybook/preview.js';\nObject.keys(config).forEach(function (key) {\n  var value = config[key];\n\n  switch (key) {\n    case 'args':\n      {\n        return addArgs(value);\n      }\n\n    case 'argTypes':\n      {\n        return addArgTypes(value);\n      }\n\n    case 'decorators':\n      {\n        return value.forEach(function (decorator) {\n          return addDecorator(decorator, false);\n        });\n      }\n\n    case 'loaders':\n      {\n        return value.forEach(function (loader) {\n          return addLoader(loader, false);\n        });\n      }\n\n    case 'parameters':\n      {\n        return addParameters(_objectSpread({}, value), false);\n      }\n\n    case 'argTypesEnhancers':\n      {\n        return value.forEach(function (enhancer) {\n          return addArgTypesEnhancer(enhancer);\n        });\n      }\n\n    case 'argsEnhancers':\n      {\n        return value.forEach(function (enhancer) {\n          return addArgsEnhancer(enhancer);\n        });\n      }\n\n    case 'render':\n      {\n        return setGlobalRender(value);\n      }\n\n    case 'globals':\n    case 'globalTypes':\n      {\n        var v = {};\n        v[key] = value;\n        return addParameters(v, false);\n      }\n\n    case '__namedExportsOrder':\n    case 'decorateStory':\n    case 'renderToDOM':\n      {\n        return null; // This key is not handled directly in v6 mode.\n      }\n\n    default:\n      {\n        // eslint-disable-next-line prefer-template\n        return console.log(key + ' was not supported :( !');\n      }\n  }\n});","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotCheckboxComponent} from '../checkbox.component';\nexport const Angular = ({checked, disabled}) => ({\n  props: {\n    checked,\n    disabled\n  }\n});\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Checkbox\",\n      component: SpotCheckboxComponent,\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1785%3A6910'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Checkboxes\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This component describes only the actual checkbox, without the label. For the full component, please refer to Selector field component, which provides a label.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"States\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The selector field itself only has two states, \", _jsx(_components.em, {\n        children: \"enabled\"\n      }), \" and \", _jsx(_components.em, {\n        children: \"disabled\"\n      }), \".\"]\n    }), \"\\n\", \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Angular component\",\n        children: Angular.bind({\n          checked: true,\n          disabled: false\n        })\n      })\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: SpotCheckboxComponent\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const angularComponent = () => (\n          Angular.bind({\n  checked: true,\n  disabled: false\n})\n        );\nangularComponent.storyName = 'Angular component';\nangularComponent.parameters = { storySource: { source: 'Angular.bind({\\n  checked: true,\\n  disabled: false\\n})' } };\n\nconst componentMeta = { title: 'Components/Checkbox', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1785%3A6910\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], component: SpotCheckboxComponent, includeStories: [\"angularComponent\"],  };\n\nconst mdxStoryNameToKey = {\"Angular component\":\"angularComponent\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { GlobalI18n } from 'core-app/core/i18n/i18n.service';\nimport * as _ from 'lodash';\n\nexport class I18nShim implements GlobalI18n {\n  public defaultLocale = 'en';\n\n  public firstDayOfWeek = 1;\n\n  public locale = 'en';\n\n  public translations = {\n    en: {},\n  };\n\n  public pluralization = {};\n\n  t<T=string>(key:string):T {\n    return `[missing \"${key}\" translation]` as unknown as T;\n  }\n\n  lookup():boolean {\n    return false;\n  }\n\n  // Return the input for these helpers\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-assignment\n  public toNumber = _.identity;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-assignment\n  public toPercentage = _.identity;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-assignment\n  public toCurrency = _.identity;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-assignment\n  public strftime = _.identity;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-assignment\n  public toHumanSize = _.identity;\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-assignment\n  public toTime = _.identity;\n}\n","import {\n  Component,\n    EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n} from '@angular/core';\nimport SpotDropAlignmentOption from '../../../drop-alignment-options';\n\n@Component({\n  selector: 'sb-drop-modal-list',\n  templateUrl: './DropModalList.component.html',\n})\nexport class SbDropModalListComponent {\n  @Input() public alignment:SpotDropAlignmentOption = SpotDropAlignmentOption.BottomLeft;\n\n  @Input('open') public dropModalOpen = false;\n\n  @Output('closed') public closed = new EventEmitter();\n\n  constructor() {}\n\n  public toggleDropModal() {\n    this.dropModalOpen = !this.dropModalOpen;\n  }\n\n  close():void {\n    this.dropModalOpen = false;\n    this.closed.emit();\n  }\n}\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';\nimport {I18nShim} from 'test/i18n-shim';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotDropModalComponent} from '../drop-modal.component';\nimport {SbDropModalListComponent} from './DropModalList.component';\nexport const dummy = (() => window.I18n = new I18nShim())();\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/DropModal\",\n      component: SpotDropModalComponent,\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=917%3A7920'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Drop Modal\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Drop modals are in-between dropdowns and modals. In fact, on mobile they're indistinguishable from a normal spot-modal.\\nThe key difference however, is that they're tied to a specific context. On desktop views, the modal will open\\nin-context, meaning that it will attach to the button or input field that opened the modal.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Usage\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To use drop-modals, make sure to also add the drop-modal portal to the base of your application HTML:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \"<spot-drop-modal-portal></spot-drop-modal-portal>\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Even though drop-modals look like they are attached to an element, they're actually rendered in this portal to make sure\\nthey're not cut off my scrolling context or \", _jsx(_components.code, {\n        children: \"overflow: visible\"\n      }), \" rules on parent elements.\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Angular component\",\n        parameters: {\n          layout: 'centered'\n        },\n        children: {\n          component: SbDropModalListComponent\n        }\n      })\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: SpotDropModalComponent\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const angularComponent = () => (\n          {\n  component: SbDropModalListComponent\n}\n        );\nangularComponent.storyName = 'Angular component';\nangularComponent.parameters = { storySource: { source: '{\\n  component: SbDropModalListComponent\\n}' }, ...{\n  layout: \"centered\"\n} };\n\nconst componentMeta = { title: 'Patterns/DropModal', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=917%3A7920\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], component: SpotDropModalComponent, includeStories: [\"angularComponent\"],  };\n\nconst mdxStoryNameToKey = {\"Angular component\":\"angularComponent\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './FormFieldInputSlot.example.html',\n})\nexport class SbFormFieldInputSlotExample { }\n","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './FormFieldDescriptionSlot.example.html',\n})\nexport class SbFormFieldDescriptionSlotExample { }\n","import { Component } from '@angular/core';\nimport {\n  UntypedFormControl,\n  UntypedFormGroup,\n  Validators,\n} from '@angular/forms';\n\n@Component({\n  templateUrl: './FormFieldErrorSlot.example.html',\n})\nexport class SbFormFieldErrorSlotExample {\n  public myForm = new UntypedFormGroup({\n    myInput: new UntypedFormControl(null, [Validators.required, Validators.minLength(8)]),\n  });\n\n  get myInputControl() {\n    return this.myForm.get('myInput')!;\n  }\n\n  onSubmit(event:Event) {\n    event.preventDefault();\n    console.log('submitted!');\n    console.log(this.myInputControl);\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './FormFieldActionSlot.example.html',\n})\nexport class SbFormFieldActionSlotExample {\n  alert(s:string){\n    alert(s);\n  }\n}\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotFormFieldComponent} from '../form-field.component';\nimport {SbFormFieldInputSlotExample} from './FormFieldInputSlot.example';\nimport {SbFormFieldDescriptionSlotExample} from './FormFieldDescriptionSlot.example';\nimport {SbFormFieldErrorSlotExample} from './FormFieldErrorSlot.example';\nimport {SbFormFieldActionSlotExample} from './FormFieldActionSlot.example';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    code: \"code\",\n    ol: \"ol\",\n    li: \"li\",\n    pre: \"pre\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/Form Field\",\n      component: SpotFormFieldComponent,\n      decorators: [moduleMetadata({\n        imports: [ReactiveFormsModule, OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1805%3A6650'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Form Field\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Form fields are a smart wrapper around input fields. Form fields handle labels, validation messages, help texts, and\\nextra actions around an input field.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Basic usage\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Form fields work with \", _jsx(_components.code, {\n        children: \"ng-content\"\n      }), \" a lot, which we call \", _jsx(_components.code, {\n        children: \"slot\"\n      }), \" in SPOT. There are four slots in which content can be\\nfitted:\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"input\"\n        }), \" holds the input. It can be a text input or select dropdown, or anything else that is not a\\nselection toggle.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"help-text\"\n        }), \" holds the attribute help text. To achieve separation of concerns, if you want to show an attribute help\\ntext this is where the \", _jsx(_components.code, {\n          children: \"attribute-help-text\"\n        }), \" component goes.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"errors\"\n        }), \" holds validation errors.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"description\"\n        }), \" holds a short description of the input field. Oftentimes these are short, helpful guidelines about how\\nor what to input into the field.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"action\"\n        }), \" holds extra input actions. Most often, these are \", _jsx(_components.code, {\n          children: \"button\"\n        }), \" elements styled as a \", _jsx(_components.code, {\n          children: \"spot-link\"\n        }), \" that allow the user to\\nperform an action related to the input.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Some of these require adding an extra class on that element, so watch the examples carefully!\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Adding an input\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use \", _jsx(_components.code, {\n        children: \"slot=\\\"input\\\"\"\n      }), \" to select the input element:\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Input slot\",\n        children: {\n          component: SbFormFieldInputSlotExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Adding a description\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use \", _jsx(_components.code, {\n        children: \"slot=\\\"description\\\"\"\n      }), \" to select the input element:\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Description slot\",\n        children: {\n          component: SbFormFieldDescriptionSlotExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Adding a help text\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use \", _jsx(_components.code, {\n        children: \"slot=\\\"help-text\\\"\"\n      }), \" to select the \", _jsx(_components.code, {\n        children: \"attribute-help-text\"\n      }), \" component:\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-html\",\n        children: \"<spot-form-field label=\\\"Form field with help text\\\">\\n  <spot-text-field slot=\\\"input\\\"></spot-text-field>\\n  <attribute-help-text\\n    slot=\\\"help-text\\\"\\n    class=\\\"spot-form-field--help-text\\\"\\n  ></attribute-help-text>\\n</spot-form-field>\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The example above cannot currently be rendered in Storybook, because the \", _jsx(_components.code, {\n        children: \"attribute-help-text\"\n      }), \" component requires the\\nAPI to be available. They are in use in the project and work package dynamic form. So if you add an attribute help text,\\nthey will show up there.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Handling validation\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"SPOT works best with reactive forms. If you have a \", _jsx(_components.code, {\n        children: \"FormControl\"\n      }), \" for your input, \", _jsx(_components.code, {\n        children: \"spot-form-field\"\n      }), \" will be able to\\nfigure out the validation state automagically.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Use \", _jsx(_components.code, {\n        children: \"slot=\\\"errors\\\"\"\n      }), \" to set validation errors. You can set multiple errors independently by all giving them the \", _jsx(_components.code, {\n        children: \"slot\"\n      }), \"\\nattribute.\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Basic validation\",\n        children: {\n          component: SbFormFieldErrorSlotExample\n        }\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"As you can see, by default validation messages will only be shown on submit. You can change this behavior by changing\\nthe \", _jsx(_components.code, {\n        children: \"showValidationErrorOn\"\n      }), \" input to the \", _jsx(_components.code, {\n        children: \"spot-form-field\"\n      }), \" component.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"required\"\n      }), \" input only makes sure the asterisk at the end of the label is shown, it does not add any validation to\\nthe form or input.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Adding extra input actions\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Form field actions allow you to add extra action buttons to the context of an input field.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Actions\",\n        children: {\n          component: SbFormFieldActionSlotExample\n        }\n      })\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: SpotFormFieldComponent\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const inputSlot = () => (\n          {\n  component: SbFormFieldInputSlotExample\n}\n        );\ninputSlot.storyName = 'Input slot';\ninputSlot.parameters = { storySource: { source: '{\\n  component: SbFormFieldInputSlotExample\\n}' } };\n\nexport const descriptionSlot = () => (\n          {\n  component: SbFormFieldDescriptionSlotExample\n}\n        );\ndescriptionSlot.storyName = 'Description slot';\ndescriptionSlot.parameters = { storySource: { source: '{\\n  component: SbFormFieldDescriptionSlotExample\\n}' } };\n\nexport const basicValidation = () => (\n          {\n  component: SbFormFieldErrorSlotExample\n}\n        );\nbasicValidation.storyName = 'Basic validation';\nbasicValidation.parameters = { storySource: { source: '{\\n  component: SbFormFieldErrorSlotExample\\n}' } };\n\nexport const actions = () => (\n          {\n  component: SbFormFieldActionSlotExample\n}\n        );\nactions.storyName = 'Actions';\nactions.parameters = { storySource: { source: '{\\n  component: SbFormFieldActionSlotExample\\n}' } };\n\nconst componentMeta = { title: 'Patterns/Form Field', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1805%3A6650\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [ReactiveFormsModule, OpSpotModule]\n})], component: SpotFormFieldComponent, includeStories: [\"inputSlot\",\"descriptionSlot\",\"basicValidation\",\"actions\"],  };\n\nconst mdxStoryNameToKey = {\"Input slot\":\"inputSlot\",\"Description slot\":\"descriptionSlot\",\"Basic validation\":\"basicValidation\",\"Actions\":\"actions\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { SpotCheckboxState } from 'core-app/spot/components/checkbox/checkbox.component';\n\n@Component({\n  templateUrl: './SelectorField.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbSelectorFieldExample {\n  public mixed:SpotCheckboxState = null;\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { SpotCheckboxState } from 'core-app/spot/components/checkbox/checkbox.component';\n\n@Component({\n  templateUrl: './SelectorFieldFontWeight.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbSelectorFieldFontWeightExample {\n  public mixed:SpotCheckboxState = null;\n}\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {FormsModule} from '@angular/forms';\nimport {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotSelectorFieldComponent} from '../selector-field.component';\nimport {SbSelectorFieldExample} from './SelectorField.example';\nimport {SbSelectorFieldFontWeightExample} from './SelectorFieldFontWeight.example';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    strong: \"strong\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/Selector Field\",\n      component: SpotSelectorFieldComponent,\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule, FormsModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=2316%3A8391'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Selector Field\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"SelectorField example\",\n        children: {\n          component: SbSelectorFieldExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Selector fields are used to offer the user a number of different options.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The selector field consists of either a checkbox or a radio button along with a label.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Checkboxes offer the possibility to make multiple selections.\\nRadio buttons require the user to choose only one from a list of options.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The selector field extends the clickable zone of the checkbox or radio button to the entire label. Clicking on the label is then the same as clicking on the control element itself.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If the label text is particular long, it should wrap within the container, but be top-aligned, like so:\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: A checkbox wrapping around when the item label is very long\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Selector labels can be \", _jsx(_components.strong, {\n        children: \"bold\"\n      }), \" or regular. However, these two styles should not be mixed in a single set of selector fields.\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"SelectorField label font weight example\",\n        children: {\n          component: SbSelectorFieldFontWeightExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"States\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The selector field itself only has two states, \", _jsx(_components.em, {\n        children: \"enabled\"\n      }), \" and \", _jsx(_components.em, {\n        children: \"disabled\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Checkboxes and radio buttons in both enabled and disabled states\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Positioning and Margins\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Because the selector field itself is often placed in containers that have their own margins (like the action bar), it does not inherently have any margins of its own.\"\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: SpotSelectorFieldComponent\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const selectorFieldExample = () => (\n          {\n  component: SbSelectorFieldExample\n}\n        );\nselectorFieldExample.storyName = 'SelectorField example';\nselectorFieldExample.parameters = { storySource: { source: '{\\n  component: SbSelectorFieldExample\\n}' } };\n\nexport const selectorFieldLabelFontWeightExample = () => (\n          {\n  component: SbSelectorFieldFontWeightExample\n}\n        );\nselectorFieldLabelFontWeightExample.storyName = 'SelectorField label font weight example';\nselectorFieldLabelFontWeightExample.parameters = { storySource: { source: '{\\n  component: SbSelectorFieldFontWeightExample\\n}' } };\n\nconst componentMeta = { title: 'Patterns/Selector Field', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=2316%3A8391\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule, FormsModule]\n})], component: SpotSelectorFieldComponent, includeStories: [\"selectorFieldExample\",\"selectorFieldLabelFontWeightExample\"],  };\n\nconst mdxStoryNameToKey = {\"SelectorField example\":\"selectorFieldExample\",\"SelectorField label font weight example\":\"selectorFieldLabelFontWeightExample\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotSwitchComponent} from '../switch.component';\nexport const Template = ({checked, disabled}) => {\n  return {\n    props: {\n      checked,\n      disabled\n    },\n    parameters: {\n      layout: 'centered'\n    }\n  };\n};\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Switch\",\n      component: SpotSwitchComponent,\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=2478%3A8593'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Switches\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This component describes only the actual switch, without the label. For the full component, please refer to Selector field component, which provides a label.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"States\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The selector field itself only has two states, \", _jsx(_components.em, {\n        children: \"enabled\"\n      }), \" and \", _jsx(_components.em, {\n        children: \"disabled\"\n      }), \".\"]\n    }), \"\\n\", \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Checked\",\n        args: {\n          checked: true,\n          disabled: false\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: SpotSwitchComponent\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Unchecked\",\n        args: {\n          checked: false,\n          disabled: false\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Disabled\",\n        args: {\n          checked: false,\n          disabled: true\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Disabled checked\",\n        args: {\n          checked: true,\n          disabled: true\n        },\n        children: Template.bind({})\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const checked = Template.bind({});\nchecked.storyName = 'Checked';\nchecked.args = {\n  checked: true,\n  disabled: false\n};\nchecked.parameters = { storySource: { source: '({\\n  checked,\\n  disabled\\n}) => {\\n  return {\\n    props: {\\n      checked,\\n      disabled\\n    },\\n    parameters: {\\n      layout: \\\"centered\\\"\\n    }\\n  };\\n}' } };\n\nexport const unchecked = Template.bind({});\nunchecked.storyName = 'Unchecked';\nunchecked.args = {\n  checked: false,\n  disabled: false\n};\nunchecked.parameters = { storySource: { source: '({\\n  checked,\\n  disabled\\n}) => {\\n  return {\\n    props: {\\n      checked,\\n      disabled\\n    },\\n    parameters: {\\n      layout: \\\"centered\\\"\\n    }\\n  };\\n}' } };\n\nexport const disabled = Template.bind({});\ndisabled.storyName = 'Disabled';\ndisabled.args = {\n  checked: false,\n  disabled: true\n};\ndisabled.parameters = { storySource: { source: '({\\n  checked,\\n  disabled\\n}) => {\\n  return {\\n    props: {\\n      checked,\\n      disabled\\n    },\\n    parameters: {\\n      layout: \\\"centered\\\"\\n    }\\n  };\\n}' } };\n\nexport const disabledChecked = Template.bind({});\ndisabledChecked.storyName = 'Disabled checked';\ndisabledChecked.args = {\n  checked: true,\n  disabled: true\n};\ndisabledChecked.parameters = { storySource: { source: '({\\n  checked,\\n  disabled\\n}) => {\\n  return {\\n    props: {\\n      checked,\\n      disabled\\n    },\\n    parameters: {\\n      layout: \\\"centered\\\"\\n    }\\n  };\\n}' } };\n\nconst componentMeta = { title: 'Components/Switch', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=2478%3A8593\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], component: SpotSwitchComponent, includeStories: [\"checked\",\"unchecked\",\"disabled\",\"disabledChecked\"],  };\n\nconst mdxStoryNameToKey = {\"Checked\":\"checked\",\"Unchecked\":\"unchecked\",\"Disabled\":\"disabled\",\"Disabled checked\":\"disabledChecked\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotTextFieldComponent} from '../text-field.component';\nexport const Template = args => ({\n  parameters: {\n    component: SpotTextFieldComponent\n  },\n  props: {\n    value: args.value,\n    disabled: args.disabled,\n    name: args.name,\n    placeholder: args.placeholder\n  }\n});\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    strong: \"strong\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Text Field\",\n      component: SpotTextFieldComponent,\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=2066%3A8130'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Text Field\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The text field is one of the most common input elements used in a wide range of scenarios: fill a form, enter work package details, search for something, pick a date.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Structure and Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The most basic text field is simply an input field where the user can type in text.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Default\",\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: SpotTextFieldComponent\n    }), \"\\n\", \"\\n\", _jsx(_components.p, {\n      children: \"The text field component affords a few optional elements:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"An optional icon can be added to the left edge to provide additional context when this is necessary (in a search field, for example):\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example:  A search bar with a icon to the left\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"An icon can also optionally be placed on the right edge. This arrow can provide additional hints on how the text input field will behave; for example, a right arrow might suggest that the value will be immediately submitted, or a dropdown arrow might indicate that the text field will open a drop modal underneath it (a list of assignees, for example).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The right icon can also be converted to an icon-only link that allows the user to clear the field.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: A text field with a search icon, preset text and a clear icon on the right\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Clicking on a text field will move it to the focused state.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A text field can have placeholder text to provide additionanl context or information; this text is replaced by actual text that the user inputs, and is shown again only if the field is cleared.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Placeholder\",\n        args: {\n          placeholder: 'Placeholders get cut off if they\\'re too long'\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The clear icon-only link on the right only appears on some text fields.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The width of a text field is fixed and defined either manually, or by the width of the containing element. When text exceeds the available width, it scrolls with the cursor within the text field (and clips on the other end).\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"States\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Default\"\n      }), \" state indicates that a text field is ready to accept text input.\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Preset value\",\n        args: {\n          value: 'I have a value set'\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Focus\"\n      }), \" state has a coloured outline, the same as any focused element in OpenProject.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Hover\"\n      }), \" element has a darker border (Basic/Gray 1).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Disabled\"\n      }), \" state shows all elements (including icons and any placeholder or input text) in grey, and makes any interaction impossible.\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Disabled\",\n        args: {\n          disabled: true\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Error\"\n      }), \" state puts a red outline around the text input. (\", _jsx(_components.em, {\n        children: \"Note\"\n      }), \": This state is only used when the text input is part of a \", _jsx(_components.em, {\n        children: \"Form element\"\n      }), \", which supplements this red outline with an message error message). The error state is usually temporary; fixing the cause of the error (via asyncronous form validation) usually allows it to revert back to the focus state.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Error state\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The text field has 0.5 rem left and right margins, and a 0.25 rem top and bottom margins.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There is also a 0.25 rem spacing between items (icon and text).\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const defaultStory = Template.bind({});\ndefaultStory.storyName = 'Default';\ndefaultStory.parameters = { storySource: { source: 'args => ({\\n  parameters: {\\n    component: SpotTextFieldComponent\\n  },\\n  props: {\\n    value: args.value,\\n    disabled: args.disabled,\\n    name: args.name,\\n    placeholder: args.placeholder\\n  }\\n})' } };\n\nexport const placeholder = Template.bind({});\nplaceholder.storyName = 'Placeholder';\nplaceholder.args = {\n  placeholder: \"Placeholders get cut off if they're too long\"\n};\nplaceholder.parameters = { storySource: { source: 'args => ({\\n  parameters: {\\n    component: SpotTextFieldComponent\\n  },\\n  props: {\\n    value: args.value,\\n    disabled: args.disabled,\\n    name: args.name,\\n    placeholder: args.placeholder\\n  }\\n})' } };\n\nexport const presetValue = Template.bind({});\npresetValue.storyName = 'Preset value';\npresetValue.args = {\n  value: \"I have a value set\"\n};\npresetValue.parameters = { storySource: { source: 'args => ({\\n  parameters: {\\n    component: SpotTextFieldComponent\\n  },\\n  props: {\\n    value: args.value,\\n    disabled: args.disabled,\\n    name: args.name,\\n    placeholder: args.placeholder\\n  }\\n})' } };\n\nexport const disabled = Template.bind({});\ndisabled.storyName = 'Disabled';\ndisabled.args = {\n  disabled: true\n};\ndisabled.parameters = { storySource: { source: 'args => ({\\n  parameters: {\\n    component: SpotTextFieldComponent\\n  },\\n  props: {\\n    value: args.value,\\n    disabled: args.disabled,\\n    name: args.name,\\n    placeholder: args.placeholder\\n  }\\n})' } };\n\nconst componentMeta = { title: 'Components/Text Field', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=2066%3A8130\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], component: SpotTextFieldComponent, includeStories: [\"defaultStory\",\"placeholder\",\"presetValue\",\"disabled\"],  };\n\nconst mdxStoryNameToKey = {\"Default\":\"defaultStory\",\"Placeholder\":\"placeholder\",\"Preset value\":\"presetValue\",\"Disabled\":\"disabled\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotToggleComponent} from '../toggle.component';\nexport const Template = ({name, value, options}) => {\n  return {\n    props: {\n      name,\n      value,\n      options\n    },\n    parameters: {\n      layout: 'centered'\n    }\n  };\n};\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Toggle\",\n      component: SpotToggleComponent,\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=384%3A3399'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Toggles\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Some text here.\"\n    }), \"\\n\", \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Preset value\",\n        args: {\n          options: [{\n            value: 'first',\n            title: 'Unread'\n          }, {\n            value: 'second',\n            title: 'All'\n          }],\n          value: 'second'\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: SpotToggleComponent\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Preset value 2\",\n        args: {\n          options: [{\n            value: 'first',\n            title: 'First option'\n          }, {\n            value: 'second',\n            title: 'Second option'\n          }],\n          value: 'second'\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"More than two options\",\n        args: {\n          options: [{\n            value: 'first',\n            title: 'First option'\n          }, {\n            value: 'second',\n            title: 'Second option'\n          }, {\n            value: 'third',\n            title: 'Third option'\n          }, {\n            value: 'best',\n            title: 'Best option'\n          }]\n        },\n        children: Template.bind({})\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const presetValue = Template.bind({});\npresetValue.storyName = 'Preset value';\npresetValue.args = {\n  options: [{\n    value: \"first\",\n    title: \"Unread\"\n  }, {\n    value: \"second\",\n    title: \"All\"\n  }],\n  value: \"second\"\n};\npresetValue.parameters = { storySource: { source: '({\\n  name,\\n  value,\\n  options\\n}) => {\\n  return {\\n    props: {\\n      name,\\n      value,\\n      options\\n    },\\n    parameters: {\\n      layout: \\\"centered\\\"\\n    }\\n  };\\n}' } };\n\nexport const presetValue2 = Template.bind({});\npresetValue2.storyName = 'Preset value 2';\npresetValue2.args = {\n  options: [{\n    value: \"first\",\n    title: \"First option\"\n  }, {\n    value: \"second\",\n    title: \"Second option\"\n  }],\n  value: \"second\"\n};\npresetValue2.parameters = { storySource: { source: '({\\n  name,\\n  value,\\n  options\\n}) => {\\n  return {\\n    props: {\\n      name,\\n      value,\\n      options\\n    },\\n    parameters: {\\n      layout: \\\"centered\\\"\\n    }\\n  };\\n}' } };\n\nexport const moreThanTwoOptions = Template.bind({});\nmoreThanTwoOptions.storyName = 'More than two options';\nmoreThanTwoOptions.args = {\n  options: [{\n    value: \"first\",\n    title: \"First option\"\n  }, {\n    value: \"second\",\n    title: \"Second option\"\n  }, {\n    value: \"third\",\n    title: \"Third option\"\n  }, {\n    value: \"best\",\n    title: \"Best option\"\n  }]\n};\nmoreThanTwoOptions.parameters = { storySource: { source: '({\\n  name,\\n  value,\\n  options\\n}) => {\\n  return {\\n    props: {\\n      name,\\n      value,\\n      options\\n    },\\n    parameters: {\\n      layout: \\\"centered\\\"\\n    }\\n  };\\n}' } };\n\nconst componentMeta = { title: 'Components/Toggle', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=384%3A3399\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], component: SpotToggleComponent, includeStories: [\"presetValue\",\"presetValue2\",\"moreThanTwoOptions\"],  };\n\nconst mdxStoryNameToKey = {\"Preset value\":\"presetValue\",\"Preset value 2\":\"presetValue2\",\"More than two options\":\"moreThanTwoOptions\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import {\n  Component,\n  Input,\n  OnInit,\n} from '@angular/core';\nimport SpotDropAlignmentOption from '../../../drop-alignment-options';\n\n@Component({\n  selector: 'sb-tooltip',\n  templateUrl: './Tooltip.component.html',\n})\nexport class SbTooltipComponent implements OnInit {\n  @Input() public dark = false;\n\n  @Input() public disabled = false;\n\n  @Input() public alignment:SpotDropAlignmentOption = SpotDropAlignmentOption.BottomCenter;\n\n  @Input() public body:string = '';\n\n  get alignmentClass():string {\n    return `spot-tooltip--body_${this.alignment}`;\n  }\n\n  ngOnInit() {\n    console.log(this.dark, this.disabled, this.body, this.alignment);\n  }\n}\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../../../spot.module';\nimport {SpotTooltipComponent} from '../tooltip.component';\nimport {SbTooltipComponent} from './Tooltip.component';\nexport const Template = args => ({\n  parameters: {\n    component: SbTooltipComponent\n  },\n  props: {\n    disabled: args.disabled,\n    dark: args.dark,\n    alignment: args.alignment,\n    body: args.body\n  }\n});\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\",\n    em: \"em\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Tooltip\",\n      component: SpotTooltipComponent,\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1202%3A6802'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Tooltip\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example of a tooltip, configurable  (info tooltip, text: \\\"This is the current project you are in.\\\")\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The tooltip provides additional textual context on hover over interactive elements.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This context can be used to provide additional information (hover over a \\\"help\\\" icon) or to signal state information (for example, if a certain item is disabled).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"By default, the tooltip takes 80% of the width of the container. This can be overridden if needed.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Eg. Tooltip on a file list, on a file that is not available due to permissions issues\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Structure and Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Tooltips have a sky blue background in the default theme (\", _jsx(_components.em, {\n        children: \"Feedback/Info/Light\"\n      }), \"). A darker version is available is but currently not used.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example of the darker one\"\n      }), \"\\n\"]\n    }), \"\\n\", \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Default\",\n        args: {\n          body: 'This is a tooltip',\n          dark: false,\n          disabled: false\n        },\n        children: Template.bind({})\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The tooltip should appear either above or below the item being hovered. By default, it will be displayed above, left-aligned. This can be manually changed to these alternative positions:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Above, left-aligned\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Above, center-aligned\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Above, right-aligned\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Below, left-aligned\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Below, center-aligned\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Below, right- aligned\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The item over which the user is hovering itself must never be covered. A tooltip' does not follow the cursor; its position is fixed as long as the user is hovering over the item. Hovering out of the element will cause the tooltip to disappear.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The tooltip will appear 200 ms after the user starts hovering and disappear 200 ms after the user has moved the cursor away, to avoid jittery behaviour.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The tooltip will automatically become multi-line if necessary (i.e, if the container does not have sufficient space).\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: multi-line tooltip (so a very long one). Text: \\\"\\\"\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Dos and Don'ts\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A tooltip is, in its basic form, a line of text. However, it can also contain icons.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It must never contain interactive elements (a mouse pointer will not always be able to reach it).\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A tooltip will never hug either side of the container; it will respect the internal padding of the that container.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Position, in-tree or out-of-tree to be decided\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Due to technical limitations, the minimum width of a tooltip is defined by its container (i.e, 80% of it).  Tooltips with content shorter this width will have additional space on the right.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const defaultStory = Template.bind({});\ndefaultStory.storyName = 'Default';\ndefaultStory.args = {\n  body: \"This is a tooltip\",\n  dark: false,\n  disabled: false\n};\ndefaultStory.parameters = { storySource: { source: 'args => ({\\n  parameters: {\\n    component: SbTooltipComponent\\n  },\\n  props: {\\n    disabled: args.disabled,\\n    dark: args.dark,\\n    alignment: args.alignment,\\n    body: args.body\\n  }\\n})' } };\n\nconst componentMeta = { title: 'Components/Tooltip', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1202%3A6802\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], component: SpotTooltipComponent, includeStories: [\"defaultStory\"],  };\n\nconst mdxStoryNameToKey = {\"Default\":\"defaultStory\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ActionBar.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbActionBarExample {}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ActionBarInModal.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbActionBarInModalExample {}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ActionBarLeftButtons.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbActionBarLeftButtonsExample { }\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ActionBarTransparent.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbActionBarTransparentExample { }\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ActionBarNoSIdeOption.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbActionBarNoSideOptionExample { }\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ActionBarMoreButtons.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbActionBarMoreButtonsExample { }\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../app/spot/spot.module';\nimport {SbActionBarExample} from './ActionBar.example';\nimport {SbActionBarInModalExample} from './ActionBarInModal.example';\nimport {SbActionBarLeftButtonsExample} from './ActionBarLeftButtons.example';\nimport {SbActionBarTransparentExample} from './ActionBarTransparent.example';\nimport {SbActionBarNoSideOptionExample} from './ActionBarNoSideOption.example';\nimport {SbActionBarMoreButtonsExample} from './ActionBarMoreButtons.example';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    strong: \"strong\",\n    a: \"a\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/Action Bar\",\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1788%3A6829'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Action Bar\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Example in Modal\",\n        children: {\n          component: SbActionBarInModalExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The action bar is generally used at the bottom of modals to present the user with a set of actions. These actions are often relative to choices or selections made in the containing modal.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The most common choices are \\\"Save/apply\\\" and \\\"Cancel\\\". At least one button (Cancel) is the absolute minimum.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Above, you see an action bar embedded inside a modal dialogue.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Composition\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The action bar is composed of:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Button set\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"These are a set of buttons that form the main action choices presented to the user. Although a two-button set is most common, there can be a maximum of three buttons (see \", _jsx(_components.a, {\n        href: \"#\",\n        children: \"Options\"\n      }), \" below).\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Side option (optional)\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The side option allows for a third action (usually a checkbox, but can also be a button, a toggle or any other control). Ideally, the text should be clear and concise.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Variants\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Default\",\n        children: {\n          component: SbActionBarExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"By default:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"the primary button set is on the right side of the action bar\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"the side option on the left\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"the bar has a grey background\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are however alternative variants:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Left buttons\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The button set can be moved to the left, placing the side action on the right. This should be used sparingly and only if absolutely necessary.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Left Buttons\",\n        children: {\n          component: SbActionBarLeftButtonsExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Transparent background\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The transparent background is useful for when having the action bar in grey (default) does not work visually. The transparent version will simply take the background colour of the element in which it is contained, usually white.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Transparent\",\n        children: {\n          component: SbActionBarTransparentExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Side options\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The side option is, as the name suggests, optional. An action bar can simply be empty on one side, like so:\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"No side option\",\n        children: {\n          component: SbActionBarNoSideOptionExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"More buttons\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The action bar can also be composed of up to three action buttons. Should there be more than three actions to be made available to the user, the third button will be a More button opens a drop-down with additional options.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"More buttons\",\n        children: {\n          component: SbActionBarMoreButtonsExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"At the very minimum there should be one action, ideally two: a primary action like Save or Delete and a secondary action like Cancel.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When the action bar is use as a toolbar with more three buttons (or with a More button), all actions can be secondary.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Line breaks and wrapping\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When the text is too long, the button set will remain in one line, and the side option (if present) will move to a new line.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If the text in the side option is too long, that will itself also wrap in multiple lines.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins, Padding and Styling\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The action bar normally no external margin and usually spans the full length of the parent element.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It has 16px left/right padding and 12 px top/bottom padding, with 16 px spacing between the two buttons in the button set.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const exampleInModal = () => (\n          {\n  component: SbActionBarInModalExample\n}\n        );\nexampleInModal.storyName = 'Example in Modal';\nexampleInModal.parameters = { storySource: { source: '{\\n  component: SbActionBarInModalExample\\n}' } };\n\nexport const defaultStory = () => (\n          {\n  component: SbActionBarExample\n}\n        );\ndefaultStory.storyName = 'Default';\ndefaultStory.parameters = { storySource: { source: '{\\n  component: SbActionBarExample\\n}' } };\n\nexport const leftButtons = () => (\n          {\n  component: SbActionBarLeftButtonsExample\n}\n        );\nleftButtons.storyName = 'Left Buttons';\nleftButtons.parameters = { storySource: { source: '{\\n  component: SbActionBarLeftButtonsExample\\n}' } };\n\nexport const transparent = () => (\n          {\n  component: SbActionBarTransparentExample\n}\n        );\ntransparent.storyName = 'Transparent';\ntransparent.parameters = { storySource: { source: '{\\n  component: SbActionBarTransparentExample\\n}' } };\n\nexport const noSideOption = () => (\n          {\n  component: SbActionBarNoSideOptionExample\n}\n        );\nnoSideOption.storyName = 'No side option';\nnoSideOption.parameters = { storySource: { source: '{\\n  component: SbActionBarNoSideOptionExample\\n}' } };\n\nexport const moreButtons = () => (\n          {\n  component: SbActionBarMoreButtonsExample\n}\n        );\nmoreButtons.storyName = 'More buttons';\nmoreButtons.parameters = { storySource: { source: '{\\n  component: SbActionBarMoreButtonsExample\\n}' } };\n\nconst componentMeta = { title: 'Patterns/Action Bar', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=1788%3A6829\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], includeStories: [\"exampleInModal\",\"defaultStory\",\"leftButtons\",\"transparent\",\"noSideOption\",\"moreButtons\"],  };\n\nconst mdxStoryNameToKey = {\"Example in Modal\":\"exampleInModal\",\"Default\":\"defaultStory\",\"Left Buttons\":\"leftButtons\",\"Transparent\":\"transparent\",\"No side option\":\"noSideOption\",\"More buttons\":\"moreButtons\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nexport interface Breadcrumb {\n  text:string;\n  icon?:string;\n  navigate?:() => void;\n}\n\nexport class BreadcrumbsContent {\n  constructor(\n    public readonly crumbs:Breadcrumb[],\n  ) { }\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BreadcrumbsContent } from 'core-app/spot/components/breadcrumbs/breadcrumbs-content';\n\n@Component({\n  templateUrl: './Breadcrumbs.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbBreadcrumbsExample {\n  content = new BreadcrumbsContent([\n    { icon: 'folder', text: 'OpenProject storage' },\n    { text: 'Public' },\n    { text: 'Shared' },\n  ]);\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BreadcrumbsContent } from 'core-app/spot/components/breadcrumbs/breadcrumbs-content';\n\n@Component({\n  templateUrl: './BreadcrumbsFourLevels.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbBreadcrumbsFourLevelsExample {\n  content = new BreadcrumbsContent([\n    { icon: 'folder', text: 'Root' },\n    { text: 'Second level' },\n    { text: 'Third level' },\n    { text: 'Current level' },\n  ]);\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BreadcrumbsContent } from 'core-app/spot/components/breadcrumbs/breadcrumbs-content';\n\n@Component({\n  templateUrl: './BreadcrumbsFiveLevels.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbBreadcrumbsFiveLevelsExample {\n  content = new BreadcrumbsContent([\n    { icon: 'folder', text: 'Root folder with a long name' },\n    { text: 'Second level' },\n    { text: 'Third level with an even longer name' },\n    { text: 'Fourth level with the longest name from all' },\n    { text: 'Current level and even this one has a long name' },\n  ]);\n}\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport {moduleMetadata} from '@storybook/angular';\nimport {OpSpotModule} from \"../app/spot/spot.module\";\nimport {SbBreadcrumbsExample} from './Breadcrumbs.example';\nimport {SbBreadcrumbsFourLevelsExample} from './BreadcrumbsFourLevels.example';\nimport {SbBreadcrumbsFiveLevelsExample} from './BreadcrumbsFiveLevels.example';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/Breadcrumbs\",\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })]\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Breadcrumbs\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Default example\",\n        children: {\n          component: SbBreadcrumbsExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Breadcrumbs provide important semantic context to information being presented on the screen by allowing users to identify where they are in a hierarchical structure.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Breadcrumbs allow users to:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"identify their current location (in a folder structure or hierarchy of work packages)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"navigate up to the parent(s)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Structure and Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Breadcrumbs consist of a series of \\\"levels\\\" presented horizontally, separated by a right arrow (). Each level is a child of the level preceding it, except the first level, which is the root.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Four levels\",\n        children: {\n          component: SbBreadcrumbsFourLevelsExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The last level is always the current level; this is never clickable. All other levels (the parents) are links, and clicking on them will take users to that level.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Because the length of the breadcrumb can vary significantly (depending on the title of each level and the available space), it can condense to fit the available space:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"The breadcrumb can show four (4) levels in full, space permitting, before going to \\\"collapsed\\\" mode.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"If the available space in the parent container not does afford sufficient width to display the four levels in full, the middle levels are truncated with ellipses (\\\"Root  Second le...  Third le...  Fourth level\\\").\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Five levels\",\n        children: {\n          component: SbBreadcrumbsFiveLevelsExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are special rules on mobile:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"The root level shows only an icon and ellipses (\\\"...\\\", fully truncated).\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"The direct parent (...) is displayed as non-shrinkable ellipses that are clickable\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Further parents (between the direct parent and the root) are not displayed\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"The current level maybe be truncated with ellipses (\\\"[Icon] ...  ...  Current le...) if needed.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"To view the mobile style, reduce the viewport width of your browser below 680px.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Each level can consist of:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"an icon\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"a text\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The icon is almost always only used for the first item, although the component does allow it to be present at any level.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The text for each level is always a link, except for:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"current level\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"collapsed levels between the direct parent and root in collapsed mode\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The breadcrumb component does not inherently have margins or padding. There is a 0.25 rem spacing between each level and a right arrow (that is, 0.25 to the left and right of every right arrow).\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const defaultExample = () => (\n          {\n  component: SbBreadcrumbsExample\n}\n        );\ndefaultExample.storyName = 'Default example';\ndefaultExample.parameters = { storySource: { source: '{\\n  component: SbBreadcrumbsExample\\n}' } };\n\nexport const fourLevels = () => (\n          {\n  component: SbBreadcrumbsFourLevelsExample\n}\n        );\nfourLevels.storyName = 'Four levels';\nfourLevels.parameters = { storySource: { source: '{\\n  component: SbBreadcrumbsFourLevelsExample\\n}' } };\n\nexport const fiveLevels = () => (\n          {\n  component: SbBreadcrumbsFiveLevelsExample\n}\n        );\nfiveLevels.storyName = 'Five levels';\nfiveLevels.parameters = { storySource: { source: '{\\n  component: SbBreadcrumbsFiveLevelsExample\\n}' } };\n\nconst componentMeta = { title: 'Patterns/Breadcrumbs', decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], includeStories: [\"defaultExample\",\"fourLevels\",\"fiveLevels\"],  };\n\nconst mdxStoryNameToKey = {\"Default example\":\"defaultExample\",\"Four levels\":\"fourLevels\",\"Five levels\":\"fiveLevels\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport tokens from '../app/spot/styles/tokens/dist/tokens.json';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\",\n    strong: \"strong\",\n    em: \"em\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Buttons\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Buttons\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: White more button with right icon, Main Save button, Accent Create button with left icon, danger Delete button with icon, Disabled Save button with left icon\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Buttons allow users to perform a specific action related to the present context. Compared to links, these actions tend to carry some weight: confirm an action, save settings, delete something, cancel an action.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Buttons have a number of different options (presence of icons/text), styles (white, main, accent, danger, disabled) and states (regular, hover, clicked) that are described below.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Buttons can be used in toolbars, in action bars, in button sets on pages, at the end of a settings page and in modals. They can also be used in combination with links to give certain actions more prominence than others.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Buttons react immediately on click. They may submit a form, open a link, save or change state, launch a dropdown or a modal.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Styles\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are four button styles and a disabled one.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Basic\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The basic style is grey by default. Use it for secondary actions or in a group of buttons where there are no primary actions (for example, in a toolbar).\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Open in Nextcloud with right icon, Settings with left icon, More with right icon\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Main\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The main style is used to represent the primary action, like Save or Confirm.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Save with left icon, More with right icon\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Accent\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The accent style allows an action to stand out (considerably) from the normal colour set. It should be used sparingly to draw special attention to an action that the user might otherwise not notice.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Create button with left and right icon, Icon-only create button\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Danger\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The danger style should also be used sparingly to draw attention to actions that might be destructive, like delete.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Delete button left icon\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Disabled\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"A button can be \", _jsx(_components.em, {\n        children: \"enabled\"\n      }), \" or \", _jsx(_components.em, {\n        children: \"disabled\"\n      }), \". The disabled style is the same for all of the above-described styles.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Disabled Open in Nextcloud button with right icon, disabled Settings button with left icon, disabled More icon with right button\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A button can optionally have:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"A left-icon\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"A right-icon\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Text\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"These can be combined. The most common combinations are:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text-only\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A button does not require any icons if the text is sufficient context.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text with left icon\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The left icon provides additional context when necessary.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text with right icon\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The right icon is not used as much but is available. The most common use case is to have a down-pointing arrow to signal the presence of drop-down menu, a right-pointing arrow to signal forward movement (in a multi-step process) or an external icon to indicate that the link opens in a separate tab.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text with both icons\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Using both left and right icons is less common, but can be useful in certain contexts, like when you need a left icon for context and a right icon to indicate a drop-down list.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Icon-only\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Some buttons are so common in OpenProject that they do not necessarily need a text label. However, these icons need an alt-text for accessibility.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"Note: We discourage using icon-only buttons if the icon unfamiliar to the user, or the action is one that the user would not have previously encountered. The only exception is when space is very tight and there is immediate feedback (eg. configure button on a search bar).\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"States\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Regular\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Basic More with left icon, Main Save, Accent Create with left icon, Danger Delete with left icon\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Hover\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Basic More with left icon, Main Save, Accent Create with left icon, Danger Delete with left icon\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Clicked\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Basic More with left icon, Main Save, Accent Create with left icon, Danger Delete with left icon\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Truncation/Variable width\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The labels on buttons should ideally be as short as possible.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Nevertheless, there will be time when the width of a label will be longer than the available space. This can happen for a number of reasons:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"The label being longer in another language (Add assignee vs Abtretungsempfnger hinzufgen)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Changes to the layout due to window resizing or a new pane that compresses previously wider space\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are two possible solutions, depending on the context:\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Truncate label within a fixed-width button\"\n      }), \"\\nIf the button has to be fixed-width, and the text is too long, the button should wrap around to fit the entire label.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Resize the button to fit the label\"\n      }), \"\\nIf space allows, the button can have a max-width setting, so that it can first stretch vertically to allow the entire label to fit in one line, failing which, it should wrap to the next line.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margin and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The width of the button is generally set by the contents (notably by the length of the text and the presence of icons). In certain situations, the button might have a fixed length.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Components/Buttons', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport tokens from '../app/spot/styles/tokens/dist/tokens.json';\nexport const ColorsPreview = ({tokens}) => {\n  const _components = Object.assign({\n    div: \"div\"\n  }, _provideComponents());\n  return _jsx(_components.div, {\n    className: \"colors\",\n    children: Object.keys(tokens).filter(key => key.startsWith('spot-color-')).map(name => _jsxs(_components.div, {\n      className: \"colors--color\",\n      children: [_jsx(_components.div, {\n        className: \"colors--preview\",\n        style: {\n          'backgroundColor': tokens[name]\n        }\n      }), _jsxs(_components.div, {\n        className: \"colors--name\",\n        children: [\"$\", name]\n      }), _jsx(_components.div, {\n        className: \"colors--value\",\n        children: tokens[name]\n      })]\n    }, name))\n  });\n};\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    strong: \"strong\",\n    em: \"em\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\",\n    blockquote: \"blockquote\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Styles/Colors\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Colors (WIP)\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Note\"\n      }), \": This section is a work-in-progress. If you are unsure about which colour to use, please get in touch with the UX team.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Because OpenProject can be customised with custom colour schemes, our foundation library only describe the colour palette of the default OpenProject theme.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Colours are organised in this format: \", _jsxs(_components.strong, {\n        children: [\"Category/\", _jsx(_components.em, {\n          children: \"name\"\n        })]\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There there are six categories:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.strong, {\n          children: \"Basic\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.strong, {\n          children: \"Main\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.strong, {\n          children: \"Accent\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.strong, {\n          children: \"Danger\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.strong, {\n          children: \"Indication\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.strong, {\n          children: \"Feedback\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Basic\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The basic colour set include eight shades of gray used mostly for basic text and backgrounds. The shades do not have additional semantic significance are are simply a continuum between \", _jsxs(_components.strong, {\n        children: [\"Basic/\", _jsx(_components.em, {\n          children: \"Black\"\n        })]\n      }), \" and \", _jsxs(_components.strong, {\n        children: [\"Basic/\", _jsx(_components.em, {\n          children: \"White\"\n        })]\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The choice of which gray to use depends on the colourspace.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Note: \", _jsxs(_components.strong, {\n        children: [\"Basic/\", _jsx(_components.em, {\n          children: \"Gray-1\"\n        })]\n      }), \" is the default colour for \\\"black\\\" text. Pure black (\", _jsx(_components.em, {\n        children: \"Basic/Black\"\n      }), \") is generally not used in OpenProject.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here (Black, Gray-1, Gray-2, Gray-3, Gray-4, Gray-5, Gray-6, White)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Main\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Main/\"\n      }), \" colourset is a set of three shades of the OpenProject blue.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Main/\", _jsx(_components.em, {\n          children: \"Main\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is the primary blue used for all main interactions and action buttons, including text links.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It is also used in the background of the header.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Main/\", _jsx(_components.em, {\n          children: \"Main Dark\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This darker version of the main blue is mainly used:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"to communicate state information (a hover or a pressed state of a button, for example)\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"when the use of \", _jsxs(_components.strong, {\n          children: [\"Main/\", _jsx(_components.em, {\n            children: \"Main\"\n          })]\n        }), \" does not provide enough contrast (for a border colour, for example)\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Main/\", _jsx(_components.em, {\n          children: \"Main Light\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This lighter version of the main blue is used:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"to communicate state information (hover on dop-down list or indicating selected toggle element, for example)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"as a background colour of interactive elements (tooltip, toast or information banners)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Accent\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Accent/\"\n      }), \" colourset is a set of three shades of green that is used to accent certain special functions. This colour should be used sparingly, so that when it is used, it draws the users eye.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Accent/\", _jsx(_components.em, {\n          children: \"Accent\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is the primary accent green, used for example in the default state of an accent button.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Accent/\", _jsx(_components.em, {\n          children: \"Accent Dark\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This darker version is mainly used:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"to communicate state information (a hover or a pressed state of a button, for example)\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"when the use of \", _jsx(_components.strong, {\n          children: \"Accent/Main\"\n        }), \" does not provide enough contrast (for a border colour, for example)\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Accent/\", _jsx(_components.em, {\n          children: \"Accent Light\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This lighter version of the main green is used:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"to communicate state information (hover on dop-down list or indicating selected toggle element, for example)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"as a background colour of interactive elements (tooltip, toast or information banners)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Danger\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Danger/\"\n      }), \" colourset is a set of three shades of red used to communicate potential danger to the user, or to warn them of a problem.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It should also be used to indicate potential destructive actions (actions like delete account or delete user) and exceptionally also used to indicate information (like in a notification badge) when the Indication/ colours cannot be used.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Danger/\", _jsx(_components.em, {\n          children: \"Danger\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is the primary danger red, used for example in the default state of an accent button.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Danger/\", _jsx(_components.em, {\n          children: \"Danger Dark\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This darker version is mainly used:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"to communicate state information (a hover or a pressed state of a button, for example)\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"when the use of \", _jsx(_components.strong, {\n          children: \"Danger/Danger\"\n        }), \" does not provide enough contrast (for a border colour, for example)\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Danger/\", _jsx(_components.em, {\n          children: \"Danger Light\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This darker version of the main danger red is used:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"to communicate state information (hover on dop-down list or indicating selected toggle element, for example)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"as a background colour of interactive elements (tooltip, toast or information banners)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Indication\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Indication colours are used to indicate certain special states.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Indication/\", _jsx(_components.em, {\n          children: \"Flagged\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This colour is used when flagging work packages. It is a teal colour meant to be distinct from \", _jsxs(_components.strong, {\n        children: [\"Indication/\", _jsx(_components.em, {\n          children: \"Attention\"\n        })]\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Indication/\", _jsx(_components.em, {\n          children: \"Current date\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This colour is used to indicate the current date (today) in a calendar.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Indication/\", _jsx(_components.em, {\n          children: \"Enterprise\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This colour is used to indicate that a certain feature or module requires the Enterprise plan to use.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Indication/Focus\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is the colour used to indicate which element has keyboard focus.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Feedback\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.strong, {\n        children: \"Feedback/\"\n      }), \"-  colors are used to communicate for user feedback:\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Error\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Warning\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Info\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Success\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Each of these has two versions (Dark and Light), the dark one usually used for the foreground text and icons and the light one for the background.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"These are typically used in toast messages.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Feedback/\", _jsx(_components.em, {\n          children: \"Error\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example, Error Light and Dark\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This colour indicates that a response that is different from what the user would have expected. The user flow is usually interrupted when they see an error of this type.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Feedback/\", _jsx(_components.em, {\n          children: \"Warning\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example, Warning Light and Dark\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The warning is information that suggests something requires attention (and that could cause a problem), but that no error has been caused, and that the expected user flow can continue.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Feedback/\", _jsx(_components.em, {\n          children: \"Info\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example, Info Light and Dark\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This colour is used to indicate additional information that could be of interest to the user. (Like a toast that says Loading..., indicating something is happening in the background)\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Feedback/\", _jsx(_components.em, {\n          children: \"Success\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example, Success Light and Dark\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This colour indicates that the requested user action was successful. It should be used sparingly and only when such a feedback is absolutely required.\"\n    }), \"\\n\", _jsx(ColorsPreview, {\n      tokens: tokens\n    }), \"\\n\", _jsx(\"style\", {\n      children: `\n.colors {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -1rem;\n}\n\n.colors--color {\n  border-radius: 2px;\n  border: 1px solid #eeeeee;\n  margin-bottom: 1rem;\n  margin-right: 1rem;\n  display: flex;\n  flex-direction: column;\n  flex-basis: 200px;\n  flex-grow: 1;\n  flex-shrink: 1;\n  min-width: 150px;\n  max-width: 400px;\n  text-align: center;\n}\n\n.colors--preview {\n  flex-basis: 200px;\n}\n\n.colors--name {\n  font-weight: bold;\n  padding: 0.3rem;\n}\n\n.colors--value {\n  padding: 0.3rem;\n  padding-top: 0rem;\n}\n`\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Styles/Colors', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","export const I18nServiceStub = {\n  t<T=string>(name:string):any {\n    return {\n      'date.abbr_day_names': [\n        'Mon',\n        'Tue',\n        'Wed',\n        'Thu',\n        'Fri',\n        'Sat',\n        'Sun',\n      ],\n      'date.day_names': [\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday',\n        'Saturday',\n        'Sunday',\n      ],\n      'date.abbr_month_names': [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec',\n      ],\n      'date.month_names': [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n      ],\n    }[name] || name as T;\n  },\n};\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n};\n","import { environment } from '../../../environments/environment';\n\n/**\n * Execute the callback when DEBUG is defined\n * through webpack.\n */\nexport function whenDebugging(cb:() => void) {\n  if (!environment.production) {\n    cb();\n  }\n}\n\n/**\n * Log with console.log when DEBUG is defined\n * through webpack.\n */\nexport function debugLog(message:string, ...args:unknown[]):void {\n  // eslint-disable-next-line no-console\n  whenDebugging(() => console.log(`[DEBUG] ${message}`, ...args));\n}\n\nexport function timeOutput(msg:string, cb:() => void):any {\n  if (!environment.production) {\n    const t0 = performance.now();\n\n    const results = cb();\n\n    const t1 = performance.now();\n    // eslint-disable-next-line no-console\n    console.log(`%c${msg} completed in ${(t1 - t0)} milliseconds.`, 'color:#00A093;');\n\n    return results;\n  }\n  return cb();\n}\n\nexport function asyncTimeOutput(msg:string, promise:Promise<any>):any {\n  if (!environment.production) {\n    const t0 = performance.now();\n\n    return promise.then(() => {\n      const t1 = performance.now();\n      // eslint-disable-next-line no-console\n      console.log(`%c${msg} completed in ${(t1 - t0)} milliseconds.`, 'color:#00A093;');\n    });\n  }\n  return promise;\n}\n","import 'reflect-metadata';\nimport { InjectFlags, Injector } from '@angular/core';\nimport { debugLog } from 'core-app/shared/helpers/debug_output';\n\nexport interface InjectableClass {\n  injector:Injector;\n}\n\nexport function InjectField(token?:any, defaultValue:any = null, flags?:InjectFlags) {\n  return (target:InjectableClass, property:string) => {\n    // eslint-ignore-next-line no-param-reassign\n    if (delete (target as any)[property]) {\n      Object.defineProperty(target, property, {\n        get(this:InjectableClass) {\n          if (token) {\n            return this.injector.get<any>(token, defaultValue, flags);\n          }\n          const type = Reflect.getMetadata('design:type', target, property);\n          return this.injector.get<any>(type, defaultValue, flags);\n        },\n        set(this:InjectableClass) {\n          debugLog(`Trying to set InjectField property ${property}`);\n        },\n      });\n    }\n  };\n}\n","export default function idFromLink(href:string|null):string {\n  const idPart = (href || '').split('/').pop()!.split('?')[0];\n  return decodeURIComponent(idPart);\n}\n","import {\n  applyTransaction,\n  EntityState,\n  EntityStore,\n  ID,\n} from '@datorama/akita';\nimport { IHALCollection } from 'core-app/core/apiv3/types/hal-collection.type';\nimport {\n  ApiV3ListParameters,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { IHalResourceLinks } from 'core-app/core/state/hal-resource';\nimport idFromLink from 'core-app/features/hal/helpers/id-from-link';\nimport { filter } from 'lodash';\n\nexport interface CollectionResponse {\n  ids:ID[];\n}\n\nexport interface ResourceState<T> extends EntityState<T> {\n  /** Loaded notification collections */\n  collections:Record<string, CollectionResponse>;\n\n  /** Loading resources, collections or singular entities */\n  loadingResources:Record<string, boolean>;\n}\n\nexport interface CollectionItem {\n  id:ID;\n}\n\nexport function mapHALCollectionToIDCollection<T extends CollectionItem>(collection:IHALCollection<T>):CollectionResponse {\n  return {\n    ids: collection._embedded.elements.map((el) => el.id),\n  };\n}\n\n/**\n * Initialize the resource part of the entity store\n */\nexport function createInitialResourceState<T>():ResourceState<T> {\n  return {\n    collections: {},\n    loadingResources: {},\n  };\n}\n\n/**\n * Mark a resource path as being loaded\n *\n * @param store An entity store for the collection\n * @param url The resource path to mark as loading\n */\nexport function setResourceLoading<T extends { id:ID }>(\n  store:EntityStore<ResourceState<T>>,\n  url:string,\n):void {\n  store.update(({ loadingResources }) => (\n    {\n      loadingResources: {\n        ...loadingResources,\n        [url]: true,\n      },\n    }\n  ));\n}\n\n/**\n * Mark a resource path as no longer loading\n *\n * @param store An entity store for the collection\n * @param url The resource path to unmark as loading\n */\nexport function removeResourceLoading<T extends { id:ID }>(\n  store:EntityStore<ResourceState<T>>,\n  url:string,\n):void {\n  store.update(({ loadingResources }) => (\n    {\n      loadingResources: filter(loadingResources, (_, key) => key !== url),\n    }\n  ));\n}\n\n/**\n * Insert a collection into the given entity store\n *\n * @param store An entity store for the collection\n * @param collection A loaded collection\n * @param collectionUrl The key to insert the collection at\n */\nexport function insertCollectionIntoState<T extends { id:ID }>(\n  store:EntityStore<ResourceState<T>>,\n  collection:IHALCollection<T>,\n  collectionUrl:string,\n):void {\n  const { elements } = collection._embedded as { elements:undefined|T[] };\n\n  // Some JSON endpoints return no elements result if there are no elements\n  const ids = elements?.map((el) => el.id) || [];\n\n  applyTransaction(() => {\n    // Avoid inserting when elements is not defined\n    if (elements && elements.length > 0) {\n      store.upsertMany(elements);\n    }\n\n    store.update(({ collections }) => (\n      {\n        collections: {\n          ...collections,\n          [collectionUrl]: {\n            ids,\n          },\n        },\n      }\n    ));\n  });\n}\n\nexport function removeEntityFromCollectionAndState<T extends { id:ID }>(\n  store:EntityStore<ResourceState<T>>,\n  entityId:ID,\n  collectionUrl:string,\n):void {\n  applyTransaction(() => {\n    store.remove(entityId);\n    store.update(({ collections }) => (\n      {\n        collections: {\n          ...collections,\n          [collectionUrl]: {\n            ...collections[collectionUrl],\n            ids: (collections[collectionUrl]?.ids || []).filter((id) => id !== entityId),\n          },\n        },\n      }\n    ));\n  });\n}\n\nexport function collectionFrom<T>(elements:T[]):IHALCollection<T> {\n  const count = elements.length;\n\n  return {\n    _type: 'Collection',\n    count,\n    total: count,\n    pageSize: count,\n    offset: 1,\n    _embedded: {\n      elements,\n    },\n  };\n}\n\n/**\n * Takes a collection of elements that do not have an ID, and extract the ID from self link.\n * @param collection a IHALCollection with elements that have a self link\n * @returns the same collection with elements extended with an ID derived from the self link.\n */\nexport function extendCollectionElementsWithId<T extends { _links:IHalResourceLinks }>(\n  collection:IHALCollection<T>,\n):IHALCollection<T&{ id:ID }> {\n  const elements = collection._embedded.elements.map((element) => ({\n    ...element,\n    id: idFromLink(element._links.self.href),\n  }));\n\n  return {\n    ...collection,\n    _embedded: {\n      ...collection._embedded,\n      elements,\n    },\n  };\n}\n","import {\n  EntityStore,\n  StoreConfig,\n} from '@datorama/akita';\nimport {\n  ResourceState,\n  createInitialResourceState,\n} from 'core-app/core/state/resource-store';\nimport { IWeekday } from 'core-app/core/state/days/weekday.model';\n\nexport interface WeekdayState extends ResourceState<IWeekday> {\n}\n\n@StoreConfig({ name: 'weekdays' })\nexport class WeekdayStore extends EntityStore<WeekdayState> {\n  constructor() {\n    super(createInitialResourceState());\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nexport default function isDefinedEntity<T>(entity:T|undefined):entity is T {\n  return entity !== undefined;\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nexport type FilterOperator = '='|'!*'|'!'|'~'|'o'|'>t-'|'<>d'|'**'|'ow';\nexport const FalseValue = ['f'];\nexport const TrueValue = ['t'];\n\nexport type ApiV3FilterValueType = string|number|boolean;\n\nexport interface ApiV3FilterValue {\n  operator:FilterOperator;\n  values:ApiV3FilterValueType[];\n}\n\nexport interface ApiV3Filter {\n  [filter:string]:ApiV3FilterValue;\n}\n\nexport type ApiV3FilterObject = { [filter:string]:ApiV3FilterValue };\n\nexport class ApiV3FilterBuilder {\n  private filterMap:ApiV3FilterObject = {};\n\n  public add(name:string, operator:FilterOperator, filterValues:ApiV3FilterValueType[]|boolean):this {\n    const values = (() => {\n      if (filterValues === true) {\n        return TrueValue;\n      }\n\n      if (filterValues === false) {\n        return FalseValue;\n      }\n\n      return filterValues;\n    })();\n\n    this.filterMap[name] = {\n      operator,\n      values,\n    };\n\n    return this;\n  }\n\n  /**\n   * Remove from the filter set\n   * @param name\n   */\n  public remove(name:string):void {\n    delete this.filterMap[name];\n  }\n\n  /**\n   * Turns the array-map style of query filters to an actual object\n   *\n   * @param filters APIv3 filter array [ {foo: { operator: '=', val: ['bar'] } }, ...]\n   * @return A map { foo: { operator: '=', val: ['bar'] } , ... }\n   */\n  public static toFilterObject(filters:ApiV3Filter[]):ApiV3FilterObject {\n    const map:ApiV3FilterObject = {};\n\n    filters.forEach((item:ApiV3Filter) => {\n      _.each(item, (val:ApiV3FilterValue, filter:string) => {\n        map[filter] = val;\n      });\n    });\n\n    return map;\n  }\n\n  /**\n   * Merges the other filters into the current set,\n   * replacing them if the are duplicated.\n   *\n   * @param filters\n   * @param only Only apply the given filters\n   */\n  public merge(filters:ApiV3Filter[], ...only:string[]):void {\n    const toAdd:ApiV3FilterObject = _.pickBy(\n      ApiV3FilterBuilder.toFilterObject(filters),\n      (_, filter:string) => only.includes(filter),\n    );\n\n    this.filterMap = {\n      ...this.filterMap,\n      ...toAdd,\n    };\n  }\n\n  public get filters():ApiV3Filter[] {\n    const filters:ApiV3Filter[] = [];\n    _.each(this.filterMap, (val:ApiV3FilterValue, filter:string) => {\n      filters.push({ [filter]: val });\n    });\n\n    return filters;\n  }\n\n  public toJson():string {\n    return JSON.stringify(this.filters);\n  }\n\n  public toParams(mergeParams:{ [key:string]:string } = {}):string {\n    const params = { filters: this.toJson(), ...mergeParams };\n    return new URLSearchParams(params).toString();\n  }\n\n  public clone():ApiV3FilterBuilder {\n    const newFilters = new ApiV3FilterBuilder();\n\n    this.filters.forEach((filter) => {\n      Object.keys(filter).forEach((name) => {\n        newFilters.add(name, filter[name].operator, filter[name].values);\n      });\n    });\n\n    return newFilters;\n  }\n}\n\nexport function ApiV3Filter(name:string, operator:FilterOperator, values:ApiV3FilterValueType[]):ApiV3FilterBuilder {\n  return new ApiV3FilterBuilder().add(name, operator, values);\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { Observable } from 'rxjs';\nimport { ApiV3FilterBuilder, FilterOperator } from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\n\nexport type ApiV3ListFilter = [string, FilterOperator, boolean|string[]];\n\nexport interface ApiV3PaginationParameters {\n  pageSize:number;\n  offset:number;\n}\n\nexport interface ApiV3ListParameters extends Partial<ApiV3PaginationParameters> {\n  filters?:ApiV3ListFilter[];\n  sortBy?:[string, string][];\n  groupBy?:string;\n  select?:string[];\n}\n\nexport interface ApiV3ListResourceInterface<T> {\n  list(params:ApiV3ListParameters):Observable<CollectionResource<T>>;\n}\n\nexport function listParamsString(params?:ApiV3ListParameters):string {\n  const queryProps = [];\n\n  if (params && params.sortBy) {\n    queryProps.push(`sortBy=${JSON.stringify(params.sortBy)}`);\n  }\n\n  if (params && params.groupBy) {\n    queryProps.push(`groupBy=${params.groupBy}`);\n  }\n\n  // 0 should not be treated as false\n  if (params && params.pageSize !== undefined) {\n    queryProps.push(`pageSize=${params.pageSize}`);\n  }\n\n  // 0 should not be treated as false\n  if (params && params.offset !== undefined) {\n    queryProps.push(`offset=${params.offset}`);\n  }\n\n  if (params && params.select !== undefined) {\n    queryProps.push(`select=${params.select.join(',')}`);\n  }\n\n  if (params && params.filters) {\n    const filters = new ApiV3FilterBuilder();\n\n    params.filters.forEach((filterParam) => {\n      filters.add(...filterParam);\n    });\n\n    queryProps.push(filters.toParams());\n  }\n\n  let queryPropsString = '';\n\n  if (queryProps.length) {\n    queryPropsString = `?${queryProps.join('&')}`;\n  }\n\n  return queryPropsString;\n}\n","import { Constructor } from '@angular/cdk/table';\n\n/**\n * Simple resource collection to construct paths for RESTful resources.\n * Base class for APIV3 and BCF API helpers\n */\nexport class SimpleResourceCollection<T = SimpleResource> {\n  // Base path\n  public readonly path:string;\n\n  constructor(protected basePath:string, readonly segment:string, protected resource?:Constructor<T>) {\n    this.path = `${this.basePath}/${segment}`;\n  }\n\n  public id(id:string|number):T {\n    return new (this.resource || SimpleResource)(this.path, id) as T;\n  }\n\n  /**\n   * Returns either the collection itself, or the resource\n   * located by the ID when present.\n   *\n   * TypeScript will reduce available endpoints to anything available\n   * in this collection AND the resource.\n   *\n   * @param id\n   */\n  public withOptionalId(id?:string|number):this|T {\n    if (_.isNil(id)) {\n      return this;\n    }\n    return this.id(id);\n  }\n\n  public toString():string {\n    return this.path;\n  }\n\n  public toPath():string {\n    return this.path;\n  }\n}\n\n/**\n * Singular RESTful resource object identified by a base path and ID\n */\nexport class SimpleResource {\n  public readonly path:string;\n\n  constructor(readonly basePath:string, readonly segment:string|number) {\n    const separator = segment.toString().startsWith('?') ? '' : '/';\n    this.path = `${this.basePath}${separator}${segment}`;\n  }\n\n  public toString() {\n    return this.path;\n  }\n\n  public toPath():string {\n    return this.path;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport {\n  HTTPClientHeaders,\n  HTTPSupportedMethods,\n} from 'core-app/features/hal/http/http.interfaces';\nimport { HalResourceService } from 'core-app/features/hal/services/hal-resource.service';\nimport { firstValueFrom } from 'rxjs';\n\nexport interface HalLinkInterface {\n  href:string|null;\n  method:HTTPSupportedMethods;\n  title?:string;\n  templated?:boolean;\n  payload?:any;\n  type?:string;\n  identifier?:string;\n}\n\nexport interface HalLinkSource {\n  href:string|null;\n  title:string;\n}\n\nexport interface CallableHalLink extends HalLinkInterface {\n  $link:this;\n  data?:Promise<HalResource>;\n}\n\nexport class HalLink implements HalLinkInterface {\n  constructor(public requestMethod:(method:HTTPSupportedMethods, href:string, data:any, headers:any) => Promise<HalResource>,\n    public href:string|null = null,\n    public title:string = '',\n    public method:HTTPSupportedMethods = 'get',\n    public templated:boolean = false,\n    public payload?:any,\n    public type:string = 'application/json',\n    public identifier?:string) {\n  }\n\n  /**\n   * Create the HalLink from an object with the HalLinkInterface.\n   */\n  public static fromObject(halResourceService:HalResourceService, link:HalLinkInterface):HalLink {\n    return new HalLink(\n      (method:HTTPSupportedMethods, href:string, data:object, headers:HTTPClientHeaders) => firstValueFrom(halResourceService.request(method, href, data, headers)),\n      link.href,\n      link.title,\n      link.method,\n      link.templated,\n      link.payload,\n      link.type,\n      link.identifier,\n    );\n  }\n\n  /**\n   * Fetch the resource.\n   */\n  public $fetch(...params:any[]):Promise<HalResource> {\n    const [data, headers] = params;\n    return this.requestMethod(this.method, this.href as string, data, headers);\n  }\n\n  /**\n   * Prepare the templated link and return a CallableHalLink with the templated parameters set\n   *\n   * @returns {CallableHalLink}\n   */\n  public $prepare(templateValues:{ [templateKey:string]:string }) {\n    if (!this.templated) {\n      throw new Error(`The link ${this.href} is not templated.`);\n    }\n\n    let href = _.clone(this.href) || '';\n    _.each(templateValues, (value:string, key:string) => {\n      const regexp = new RegExp(`{${key}}`);\n      href = href.replace(regexp, value);\n    });\n\n    return new HalLink(\n      this.requestMethod,\n      href,\n      this.title,\n      this.method,\n      false,\n      this.payload,\n      this.type,\n      this.identifier,\n    ).$callable();\n  }\n\n  /**\n   * Return a function that fetches the resource.\n   *\n   * @returns {CallableHalLink}\n   */\n  public $callable():CallableHalLink {\n    const linkFunc:any = (...params:any[]) => this.$fetch(...params);\n\n    _.extend(linkFunc, {\n      $link: this,\n      href: this.href,\n      title: this.title,\n      method: this.method,\n      templated: this.templated,\n      payload: this.payload,\n      type: this.type,\n      identifier: this.identifier,\n    });\n\n    return linkFunc;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { HttpParameterCodec } from '@angular/common/http';\n\nexport class URLParamsEncoder implements HttpParameterCodec {\n  encodeKey(key:string):string {\n    return encodeURIComponent(key);\n  }\n\n  encodeValue(value:string):string {\n    return encodeURIComponent(value);\n  }\n\n  decodeKey(key:string):string {\n    return decodeURIComponent(key);\n  }\n\n  decodeValue(value:string):string {\n    return decodeURIComponent(value);\n  }\n}\n","import {\n  InputState,\n  multiInput,\n  MultiInputState,\n  StatesGroup,\n} from '@openproject/reactivestates';\nimport { Subject } from 'rxjs';\nimport { TypeResource } from 'core-app/features/hal/resources/type-resource';\nimport { TimeEntryResource } from 'core-app/features/hal/resources/time-entry-resource';\nimport { WorkPackageResource } from 'core-app/features/hal/resources/work-package-resource';\nimport { UserResource } from 'core-app/features/hal/resources/user-resource';\nimport { VersionResource } from 'core-app/features/hal/resources/version-resource';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { StatusResource } from 'core-app/features/hal/resources/status-resource';\nimport { PlaceholderUserResource } from 'core-app/features/hal/resources/placeholder-user-resource';\nimport { RoleResource } from 'core-app/features/hal/resources/role-resource';\nimport { ProjectResource } from 'core-app/features/hal/resources/project-resource';\nimport { PostResource } from 'core-app/features/hal/resources/post-resource';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\n\nexport class States extends StatesGroup {\n  name = 'MainStore';\n\n  /* /api/v3/projects */\n  projects:MultiInputState<ProjectResource> = multiInput<ProjectResource>();\n\n  /* /api/v3/work_packages */\n  workPackages = multiInput<WorkPackageResource>();\n\n  /* /api/v3/wiki_pages */\n  posts = multiInput<PostResource>();\n\n  /* /api/v3/schemas */\n  schemas = multiInput<SchemaResource>();\n\n  /* /api/v3/types */\n  types = multiInput<TypeResource>();\n\n  /* /api/v3/statuses */\n  statuses = multiInput<StatusResource>();\n\n  /* /api/v3/time_entries */\n  timeEntries = multiInput<TimeEntryResource>();\n\n  /* /api/v3/versions */\n  versions = multiInput<VersionResource>();\n\n  /* /api/v3/users */\n  users = multiInput<UserResource>();\n\n  /* /api/v3/placeholder_users */\n  placeholderUsers = multiInput<PlaceholderUserResource>();\n\n  /* /api/v3/roles */\n  roles = multiInput<RoleResource>();\n\n  // Global events to isolated changes\n  changes = {\n    // Global subject on changes to the given query ID\n    queries: new Subject(),\n  };\n\n  // Additional state map that can be dynamically registered.\n  additional:{ [id:string]:MultiInputState<unknown> } = {};\n\n  forType<T>(stateName:string):MultiInputState<T> {\n    let state = (this as any)[stateName] || this.additional[stateName];\n\n    if (!state) {\n      state = this.additional[stateName] = multiInput<T>();\n    }\n\n    return state;\n  }\n\n  forResource<T extends HalResource = HalResource>(resource:T):InputState<T>|undefined {\n    const stateName = `${_.camelCase(resource._type)}s`;\n    const state = this.forType<T>(stateName);\n\n    return state && state.get(resource.id!);\n  }\n\n  public add(name:string, state:MultiInputState<HalResource>) {\n    this.additional[name] = state;\n  }\n}\n","export const HAL_NEW_RESOURCE_ID = 'new';\n\nexport default function isNewResource(resource:{ id:string|null }):boolean {\n  return !resource.id || resource.id === HAL_NEW_RESOURCE_ID;\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { InputState } from '@openproject/reactivestates';\nimport { Injector } from '@angular/core';\nimport { States } from 'core-app/core/states/states.service';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { HalLinkInterface } from 'core-app/features/hal/hal-link/hal-link';\nimport { ICKEditorContext } from 'core-app/shared/components/editor/components/ckeditor/ckeditor.types';\nimport idFromLink from 'core-app/features/hal/helpers/id-from-link';\nimport isNewResource from 'core-app/features/hal/helpers/is-new-resource';\n\nexport interface HalResourceClass<T extends HalResource = HalResource> {\n  new(injector:Injector,\n    source:any,\n    $loaded:boolean,\n    halInitializer:(halResource:T) => void,\n    $halType:string):T;\n}\n\nexport type HalSourceLink = { href:string|null, title?:string };\n\nexport type HalSourceLinks = {\n  [key:string]:HalSourceLink\n};\n\nexport type HalSource = {\n  [key:string]:string|number|boolean|null|HalSourceLinks,\n  _links:HalSourceLinks\n};\n\nexport class HalResource {\n  // TODO this is the source of many issues in the frontend\n  // because it no longer properly type checks stuff\n  // Since 2019-10-21 I'm documenting what bugs this caused:\n  // https://community.openproject.com/wp/31462\n  [attribute:string]:any;\n\n  // The API type reported from API\n  public _type:string;\n\n  // Internal initialization time for objects\n  // created in the frontend\n  public __initialized_at:number;\n\n  // The HalResource that this type maps to\n  // This will almost always be equal to _type, however may be different for dynamic types\n  // e.g., { _type: 'StatusFilterInstance', $halType: 'QueryFilterInstance' }.\n  //\n  // This is required for attributes to be correctly mapped according to their configuration.\n  public $halType:string;\n\n  @InjectField() states:States;\n\n  @InjectField() I18n!:I18nService;\n\n  /**\n   * Constructs and initializes the HalResource. For this, the halResoureFactory is required.\n   *\n   * However, We can't inject the HalResourceFactory here because it itself depends on this class.\n   * So if you need to initialize a HalResource, use +HalResourceFactory.createHalResource+ instead.\n   *\n   * @param {Injector} injector\n   * @param $halType The HalResource type that this instance maps to\n   * @param $source\n   * @param {boolean} $loaded\n   * @param {Function} initializer The initializer callback to HAL-transform all linked and embedded resources.\n   *\n   */\n  public constructor(\n    public injector:Injector,\n    public $source:any,\n    public $loaded:boolean,\n    public halInitializer:(halResource:any) => void,\n    $halType:string,\n  ) {\n    this.$halType = $halType;\n    this.$initialize($source);\n  }\n\n  public static getEmptyResource(self:{ href:string|null } = { href: null }):any {\n    return { _links: { self } };\n  }\n\n  public $links:any = {};\n\n  public $embedded:any = {};\n\n  public $self:Promise<this>;\n\n  public _name:string;\n\n  public static matchFromLink(href:string, expectedResource:string):string|null {\n    const match = new RegExp(`/api/v3/${expectedResource}/(\\\\d+)`).exec(href);\n    return match && match[1];\n  }\n\n  public $initialize(source:any) {\n    this.$source = source.$source || source;\n    this.halInitializer(this);\n  }\n\n  /**\n   * Override toString to ensure the resource can\n   * be printed nicely on console and in errors\n   */\n  public toString() {\n    if (this.href) {\n      return `[HalResource href=${this.href}]`;\n    }\n    return `[HalResource id=${this.id}]`;\n  }\n\n  /**\n   * Returns the ID and ensures it's a string, null.\n   * Returns a string when:\n   *  - The embedded ID is actually set\n   *  - The self link is terminated by a number.\n   */\n  public get id():string|null {\n    if (this.$source.id) {\n      return this.$source.id.toString();\n    }\n\n    const id = idFromLink(this.href);\n    if (/^\\d+$/.exec(id)) {\n      return id;\n    }\n\n    return null;\n  }\n\n  public set id(val:string|null) {\n    this.$source.id = val;\n  }\n\n  /**\n   * Retain the internal tracking identifier from the given other work package.\n   * This is due to us needing to identify a work package beyond its actual ID,\n   * because that changes upon saving.\n   *\n   * @param other\n   */\n  public retainFrom(other:HalResource) {\n    this.__initialized_at = other.__initialized_at;\n  }\n\n  /**\n   * Create a HalResource from the copied source of the given, other HalResource.\n   *\n   * @param {HalResource} other\n   * @returns A HalResource with the identitical copied source of other.\n   */\n  public $copy<T extends HalResource = HalResource>(source:Object = {}):T {\n    const clone:HalResourceClass<T> = this.constructor as any;\n\n    return new clone(this.injector, _.merge(this.$plain(), source), this.$loaded, this.halInitializer, this.$halType);\n  }\n\n  public $plain():any {\n    return _.cloneDeep(this.$source);\n  }\n\n  public get $isHal():boolean {\n    return true;\n  }\n\n  public get $link():HalLinkInterface {\n    return this.$links.self.$link;\n  }\n\n  public get name():string {\n    return this._name || this.$link.title || '';\n  }\n\n  public set name(name:string) {\n    this._name = name;\n  }\n\n  public get href():string|null {\n    return this.$link.href;\n  }\n\n  /**\n   * Return the associated state to this HAL resource, if any.\n   */\n  public get state():InputState<this>|null {\n    return null;\n  }\n\n  /**\n   * Update the state\n   */\n  public push(newValue:this):Promise<unknown> {\n    if (this.state) {\n      this.state.putValue(newValue);\n    }\n\n    return Promise.resolve();\n  }\n\n  public previewPath():string|undefined {\n    if (isNewResource(this) && this.project) {\n      return this.project.href;\n    }\n\n    return undefined;\n  }\n\n  public getEditorContext(fieldName:string):ICKEditorContext {\n    return { type: 'constrained' };\n  }\n\n  public $load(force = false):Promise<this> {\n    if (!this.state) {\n      return this.$loadResource(force);\n    }\n\n    const { state } = this;\n\n    if (force) {\n      state.clear();\n    }\n\n    // If nobody has asked yet for the resource to be $loaded, do it ourselves.\n    // Otherwise, we risk returning a promise, that will never be resolved.\n    state.putFromPromiseIfPristine(() => this.$loadResource(force));\n\n    return <Promise<this>>state.valuesPromise().then((source:any) => {\n      this.$initialize(source);\n      this.$loaded = true;\n      return this;\n    });\n  }\n\n  protected $loadResource(force = false):Promise<this> {\n    if (!force) {\n      if (this.$loaded) {\n        return Promise.resolve(this);\n      }\n\n      if (!this.$loaded && this.$self) {\n        return this.$self;\n      }\n    }\n\n    // Reset and load this resource\n    this.$loaded = false;\n    this.$self = this.$links.self({}).then((source:any) => {\n      this.$loaded = true;\n      this.$initialize(source.$source);\n      return this;\n    });\n\n    return this.$self;\n  }\n\n  /**\n   * Update the resource ignoring the cache.\n   */\n  public $update() {\n    return this.$load(true);\n  }\n\n  /**\n   * Specify this resource's embedded keys that should be transformed with resources.\n   * Use this to restrict, e.g., links that should not be made properties if you have a custom get/setter.\n   */\n  public $embeddableKeys():string[] {\n    const properties = Object.keys(this.$source);\n    return _.without(properties, '_links', '_embedded', 'id');\n  }\n\n  /**\n   * Specify this resource's keys that should not be transformed with resources.\n   * Use this to restrict, e.g., links that should not be made properties if you have a custom get/setter.\n   */\n  public $linkableKeys():string[] {\n    const properties = Object.keys(this.$links);\n    return _.without(properties, 'self');\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\n\nexport namespace OpenprojectHalModuleHelpers {\n  export function lazy(obj:HalResource,\n    property:string,\n    getter:{ ():any },\n    setter?:{ (value:any):void }):void {\n    if (_.isObject(obj)) {\n      let done = false;\n      let value:any;\n      const config:any = {\n        get() {\n          if (!done) {\n            value = getter();\n            done = true;\n          }\n          return value;\n        },\n        set: ():void => undefined,\n\n        configurable: true,\n        enumerable: true,\n      };\n\n      if (setter) {\n        config.set = (val:any) => {\n          value = setter(val);\n          done = true;\n        };\n      }\n\n      Object.defineProperty(obj, property, config);\n    }\n  }\n}\n","import * as ObservableArray from 'observable-array';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { HalLink } from 'core-app/features/hal/hal-link/hal-link';\nimport { HalResourceService } from 'core-app/features/hal/services/hal-resource.service';\nimport { OpenprojectHalModuleHelpers } from 'core-app/features/hal/helpers/lazy-accessor';\n\ninterface HalSource {\n  _links:any;\n  _embedded:any;\n  _type?:string;\n  type?:any;\n}\n\nexport function cloneHalResourceCollection<T extends HalResource>(values:T[]|undefined):T[] {\n  if (_.isNil(values)) {\n    return [];\n  }\n  return values.map((v) => v.$copy<T>());\n}\n\nexport function cloneHalResource<T extends HalResource>(value:T|undefined):T|undefined {\n  if (_.isNil(value)) {\n    return value;\n  }\n  return value.$copy<T>();\n}\n\nexport function initializeHalProperties<T extends HalResource>(halResourceService:HalResourceService, halResource:T) {\n  setSource();\n  setupLinks();\n  setupEmbedded();\n  proxyProperties();\n  setLinksAsProperties();\n  setEmbeddedAsProperties();\n\n  function setSource() {\n    if (!halResource.$source._links) {\n      halResource.$source._links = {};\n    }\n\n    if (!halResource.$source._links.self) {\n      halResource.$source._links.self = { href: null };\n    }\n  }\n\n  function asHalResource(value?:HalSource, loaded = true):HalResource|HalSource|undefined|null {\n    if (_.isNil(value)) {\n      return value;\n    }\n\n    if (value._links || value._embedded || value._type) {\n      return halResourceService.createHalResource(value, loaded);\n    }\n\n    return value;\n  }\n\n  function proxyProperties() {\n    halResource.$embeddableKeys().forEach((property:any) => {\n      Object.defineProperty(halResource, property, {\n        get() {\n          const value = halResource.$source[property];\n          return asHalResource(value, true);\n        },\n\n        set(value) {\n          halResource.$source[property] = value;\n        },\n\n        enumerable: true,\n        configurable: true,\n      });\n    });\n  }\n\n  function setLinksAsProperties() {\n    halResource.$linkableKeys().forEach((linkName:string) => {\n      OpenprojectHalModuleHelpers.lazy(halResource, linkName,\n        () => {\n          const link:any = halResource.$links[linkName].$link || halResource.$links[linkName];\n\n          if (Array.isArray(link)) {\n            const items = link.map((item) => halResourceService.createLinkedResource(halResource,\n              linkName,\n              item.$link));\n            var property:HalResource[] = new ObservableArray(...items).on('change', () => {\n              property.forEach((item) => {\n                if (!item.$link) {\n                  property.splice(property.indexOf(item), 1);\n                }\n              });\n\n              halResource.$source._links[linkName] = property.map((item) => item.$link);\n            });\n\n            return property;\n          }\n\n          if (link.href) {\n            if (link.method !== 'get') {\n              return HalLink.fromObject(halResourceService, link).$callable();\n            }\n\n            return halResourceService.createLinkedResource(halResource, linkName, link);\n          }\n\n          return null;\n        },\n        (val:any) => setter(val, linkName));\n    });\n  }\n\n  function setEmbeddedAsProperties() {\n    if (!halResource.$source._embedded) {\n      return;\n    }\n\n    Object.keys(halResource.$source._embedded).forEach((name) => {\n      OpenprojectHalModuleHelpers.lazy(halResource,\n        name,\n        () => halResource.$embedded[name],\n        (val:any) => setter(val, name));\n    });\n  }\n\n  function setupProperty(name:string, callback:(element:any) => any) {\n    const instanceName = `$${name}`;\n    const sourceName = `_${name}`;\n    const sourceObj:any = halResource.$source[sourceName];\n\n    if (_.isObject(sourceObj)) {\n      Object.keys(sourceObj).forEach((propName) => {\n        OpenprojectHalModuleHelpers.lazy((halResource)[instanceName],\n          propName,\n          () => callback((sourceObj as any)[propName]));\n      });\n    }\n  }\n\n  function setupLinks() {\n    setupProperty('links',\n      (link) => {\n        if (Array.isArray(link)) {\n          return link.map((l) => HalLink.fromObject(halResourceService, l).$callable());\n        }\n        return HalLink.fromObject(halResourceService, link).$callable();\n      });\n  }\n\n  function setupEmbedded() {\n    setupProperty('embedded', (element:any) => {\n      if (Array.isArray(element)) {\n        return element.map((source) => asHalResource(source, true));\n      }\n\n      if (_.isObject(element)) {\n        _.each(element, (child:any, name:string) => {\n          if (child && (child._embedded || child._links)) {\n            OpenprojectHalModuleHelpers.lazy(element as any,\n              name,\n              () => asHalResource(child, true));\n          }\n        });\n      }\n\n      return asHalResource(element, true);\n    });\n  }\n\n  function setter(val:HalResource[]|HalResource|{ href?:string }, linkName:string) {\n    const isArray = Array.isArray(val);\n\n    if (!val) {\n      halResource.$source._links[linkName] = { href: null };\n    } else if (isArray) {\n      halResource.$source._links[linkName] = (val as HalResource[]).map((el:any) => ({ href: el.href }));\n    } else if (val.hasOwnProperty('$link')) {\n      const link = (val as HalResource).$link;\n\n      if (link.href) {\n        halResource.$source._links[linkName] = link;\n      }\n    } else if ('href' in val) {\n      halResource.$source._links[linkName] = { href: val.href };\n    }\n\n    if (halResource.$embedded && halResource.$embedded[linkName]) {\n      halResource.$embedded[linkName] = val;\n\n      if (isArray) {\n        halResource.$source._embedded[linkName] = (val as HalResource[]).map((el) => el.$source);\n      } else {\n        halResource.$source._embedded[linkName] = _.get(val, '$source', val);\n      }\n    }\n\n    return val;\n  }\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ErrorResource } from 'core-app/features/hal/resources/error-resource';\n\nexport class HalError extends Error {\n  readonly name = 'HALError';\n\n  get message():string {\n    return this.resource?.message || this.httpError?.message || 'Unknown error';\n  }\n\n  get errorIdentifier():string {\n    return this.resource?.errorIdentifier || 'unknown';\n  }\n\n  constructor(\n    readonly httpError:HttpErrorResponse,\n    readonly resource:ErrorResource|null,\n  ) {\n    super();\n    Object.setPrototypeOf(this, HalError.prototype);\n  }\n}\n","import {\n  map,\n  mergeMap,\n} from 'rxjs/operators';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport {\n  forkJoin,\n  Observable,\n  of,\n} from 'rxjs';\nimport { ApiV3PaginationParameters } from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { IHALCollection } from 'core-app/core/apiv3/types/hal-collection.type';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\n\n/**\n * The API will resolve pageSize=-1 to the maximum value\n * we can request in one call. This is configurable under administration.\n */\nexport const MAGIC_PAGE_NUMBER = -1;\n\n/**\n * Right now, we still support HAL-class based collections as well as interface-based responses.\n */\ntype ApiV3CollectionType<T> = CollectionResource<T>|IHALCollection<T>;\n\n/**\n * Extract the elements of either a HAL class or an interface\n */\nfunction extractCollectionElements<T>(collection:ApiV3CollectionType<T>):T[] {\n  // Some API endpoints return an undefined _embedded.elements\n  // so we ensure we return an array at all times.\n  if (collection instanceof HalResource) {\n    return collection.elements || [];\n  }\n\n  return collection._embedded?.elements || [];\n}\n\n/**\n * Get ALL pages of a potentially paginated APIv3 request, returning an array of collections\n *\n * @param request The requesting callback to request specific pages\n * @param pageSize The pageSize parameter to request, defaults to -1 (the maximum magic page number)\n * @return an array of HAL collections\n */\nexport function getPaginatedCollections<T, C extends ApiV3CollectionType<T>>(\n  request:(params:ApiV3PaginationParameters) => Observable<C>,\n  pageSize = MAGIC_PAGE_NUMBER,\n):Observable<ApiV3CollectionType<T>[]> {\n  return request({ pageSize, offset: 1 })\n    .pipe(\n      mergeMap((collection:C) => {\n        const resolvedSize = collection.pageSize;\n\n        if (collection.total > collection.count) {\n          const remaining = collection.total - collection.count;\n          const pagesRemaining = Math.ceil(remaining / resolvedSize);\n          const calls = new Array(pagesRemaining)\n            .fill(null)\n            .map((_, i) => request({ pageSize: resolvedSize, offset: i + 2 }));\n\n          // Branch out and fetch all remaining pages in parallel.\n          // Afterwards, merge the resulting list\n          return forkJoin(...calls)\n            .pipe(\n              map((results:C[]) => [collection, ...results]),\n            );\n        }\n\n        // The current page is the only page, return the results.\n        return of([collection]);\n      }),\n    );\n}\n\n/**\n * Get ALL pages of a potentially paginated APIv3 request, returning all concatenated elements.\n *\n * @param request The requesting callback to request specific pages\n * @param pageSize The pageSize parameter to request, defaults to -1 (the maximum magic page number)\n * @return an array of plain HAL resources\n */\nexport function getPaginatedResults<T>(\n  request:(params:ApiV3PaginationParameters) => Observable<ApiV3CollectionType<T>>,\n  pageSize = MAGIC_PAGE_NUMBER,\n):Observable<T[]> {\n  return getPaginatedCollections(request, pageSize)\n    .pipe(\n      map(\n        (results:ApiV3CollectionType<T>[]) => results.reduce(\n          (acc, next) => acc.concat(extractCollectionElements(next)),\n          [] as T[],\n        ),\n      ),\n    );\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  Injectable,\n  Injector,\n} from '@angular/core';\nimport {\n  HttpClient,\n  HttpErrorResponse,\n  HttpParams,\n} from '@angular/common/http';\nimport {\n  catchError,\n  map,\n} from 'rxjs/operators';\nimport {\n  Observable,\n  throwError,\n} from 'rxjs';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { ErrorResource } from 'core-app/features/hal/resources/error-resource';\nimport * as Pako from 'pako';\nimport * as base64 from 'byte-base64';\nimport { whenDebugging } from 'core-app/shared/helpers/debug_output';\nimport {\n  HTTPClientHeaders,\n  HTTPClientOptions,\n  HTTPClientParamMap,\n  HTTPSupportedMethods,\n} from 'core-app/features/hal/http/http.interfaces';\nimport {\n  HalLink,\n  HalLinkInterface,\n} from 'core-app/features/hal/hal-link/hal-link';\nimport { URLParamsEncoder } from 'core-app/features/hal/services/url-params-encoder';\nimport {\n  HalResource,\n  HalResourceClass,\n} from 'core-app/features/hal/resources/hal-resource';\nimport { initializeHalProperties } from '../helpers/hal-resource-builder';\nimport { HalError } from 'core-app/features/hal/services/hal-error';\nimport { getPaginatedCollections } from 'core-app/core/apiv3/helpers/get-paginated-results';\n\nexport interface HalResourceFactoryConfigInterface {\n  cls?:any;\n  attrTypes?:{ [attrName:string]:string };\n}\n\ninterface ErrorWithType {\n  _type?:string;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class HalResourceService {\n  /**\n   * List of all known hal resources, extendable.\n   */\n  private config:{ [typeName:string]:HalResourceFactoryConfigInterface } = {};\n\n  constructor(\n    readonly injector:Injector,\n    readonly http:HttpClient,\n  ) {\n  }\n\n  /**\n   * Perform a HTTP request and return a HalResource promise.\n   */\n  public request<T extends HalResource>(method:HTTPSupportedMethods, href:string, data?:unknown, headers:HTTPClientHeaders = {}):Observable<T> {\n    // HttpClient requires us to create HttpParams instead of passing data for get\n    // so forward to that method instead.\n    if (method === 'get') {\n      return this.get(href, data as HTTPClientParamMap|undefined, headers);\n    }\n\n    const config:HTTPClientOptions = {\n      body: data || {},\n      headers,\n      withCredentials: true,\n      responseType: 'json',\n    };\n\n    return this.performRequest(method, href, config);\n  }\n\n  private performRequest<T extends HalResource>(method:HTTPSupportedMethods, href:string, config:HTTPClientOptions):Observable<T> {\n    return this.http.request(method, href, config)\n      .pipe(\n        map((response:unknown) => this.createHalResource<T>(response)),\n        catchError((error:HttpErrorResponse) => {\n          whenDebugging(() => console.error(`Failed to ${method} ${href}: ${error.name}`));\n          return this.createErrorObservable(error);\n        }),\n      );\n  }\n\n  /**\n   * Perform a GET request and return a resource promise.\n   *\n   * @param href\n   * @param params\n   * @param headers\n   * @returns {Promise<HalResource>}\n   */\n  public get<T extends HalResource>(href:string, params?:HTTPClientParamMap, headers?:HTTPClientHeaders):Observable<T> {\n    const config:HTTPClientOptions = {\n      headers,\n      params: new HttpParams({ encoder: new URLParamsEncoder(), fromObject: params }),\n      withCredentials: true,\n      responseType: 'json',\n    };\n\n    return this.performRequest('get', href, config);\n  }\n\n  /**\n   * Return all potential pages to the request, when the elements returned from API is smaller\n   * than the expected.\n   *\n   * @param href The URL to request\n   * @param params Parameters to pass to each paged request\n   * @param headers Headers to pass to each paged request\n   * @return {Observable<CollectionResource[]>}\n   */\n  public getAllPaginated<T extends CollectionResource>(\n    href:string,\n    params:Record<string, string|number> = {},\n    headers:HTTPClientHeaders = {},\n  ):Observable<T[]> {\n    return getPaginatedCollections(\n      (pageParams) => {\n        const requestParams = { ...params, ...pageParams };\n        return this.request<CollectionResource<T>>('get', href, this.toEprops(requestParams), headers);\n      },\n      (params.pageSize as number|undefined) || -1,\n    ) as Observable<T[]>;\n  }\n\n  /**\n   * Perform a PUT request and return a resource promise.\n   * @param href\n   * @param data\n   * @param headers\n   * @returns {Promise<HalResource>}\n   */\n  public put<T extends HalResource>(href:string, data?:any, headers?:HTTPClientHeaders):Observable<T> {\n    return this.request('put', href, data, headers);\n  }\n\n  /**\n   * Perform a POST request and return a resource promise.\n   *\n   * @param href\n   * @param data\n   * @param headers\n   * @returns {Promise<HalResource>}\n   */\n  public post<T extends HalResource>(href:string, data?:any, headers?:HTTPClientHeaders):Observable<T> {\n    return this.request('post', href, data, headers);\n  }\n\n  /**\n   * Perform a PATCH request and return a resource promise.\n   *\n   * @param href\n   * @param data\n   * @param headers\n   * @returns {Promise<HalResource>}\n   */\n  public patch<T extends HalResource>(href:string, data?:any, headers?:HTTPClientHeaders):Observable<T> {\n    return this.request('patch', href, data, headers);\n  }\n\n  /**\n   * Perform a DELETE request and return a resource promise\n   *\n   * @param href\n   * @param data\n   * @param headers\n   * @returns {Promise<HalResource>}\n   */\n  public delete<T extends HalResource>(href:string, data?:any, headers?:HTTPClientHeaders):Observable<T> {\n    return this.request('delete', href, data, headers);\n  }\n\n  /**\n   * Register a HalResource for use with the API.\n   * @param {HalResourceStatic} resource\n   */\n  public registerResource(key:string, entry:HalResourceFactoryConfigInterface) {\n    this.config[key] = entry;\n  }\n\n  /**\n   * Get the default class.\n   * Initially, it's HalResource.\n   *\n   * @returns {HalResource}\n   */\n  public get defaultClass():HalResourceClass<HalResource> {\n    const defaultCls:HalResourceClass = HalResource;\n    return defaultCls;\n  }\n\n  /**\n   * Create a HalResource from a source object.\n   * If the APIv3 _type attribute is defined and the type is configured,\n   * the respective class will be used for instantiation.\n   *\n   *\n   * @param source\n   * @returns {HalResource}\n   */\n  public createHalResource<T extends HalResource = HalResource>(source:any, loaded = true):T {\n    if (_.isNil(source)) {\n      source = HalResource.getEmptyResource();\n    }\n\n    const type = source._type || 'HalResource';\n    return this.createHalResourceOfType<T>(type, source, loaded);\n  }\n\n  public createHalResourceOfType<T extends HalResource = HalResource>(type:string, source:any, loaded = false) {\n    const resourceClass:HalResourceClass<T> = this.getResourceClassOfType(type);\n    const initializer = (halResource:T) => initializeHalProperties(this, halResource);\n    const resource = new resourceClass(this.injector, source, loaded, initializer, type);\n\n    return resource;\n  }\n\n  /**\n   * Create a resource class of the given class\n   * @param resourceClass\n   * @param source\n   * @param loaded\n   */\n  public createHalResourceOfClass<T extends HalResource>(resourceClass:HalResourceClass<T>, source:any, loaded = false) {\n    const initializer = (halResource:T) => initializeHalProperties(this, halResource);\n    const type = source._type || 'HalResource';\n    const resource = new resourceClass(this.injector, source, loaded, initializer, type);\n\n    return resource;\n  }\n\n  /**\n   * Create a linked HalResource from the given link.\n   *\n   * @param {HalLinkInterface} link\n   * @returns {HalResource}\n   */\n  public fromLink(link:HalLinkInterface) {\n    const resource = HalResource.getEmptyResource(HalLink.fromObject(this, link));\n    return this.createHalResource(resource, false);\n  }\n\n  /**\n   * Create an empty HAL resource with only the self link set.\n   * @param href Self link of the HAL resource\n   */\n  public fromSelfLink(href:string|null) {\n    const source = { _links: { self: { href } } };\n    return this.createHalResource(source);\n  }\n\n  /**\n   * Get a linked resource from its HalLink with the correct type.\n   */\n  public createLinkedResource<T extends HalResource = HalResource>(halResource:T, linkName:string, link:HalLinkInterface) {\n    const source = HalResource.getEmptyResource();\n    const fromType = halResource.$halType;\n    const toType = this.getResourceClassOfAttribute(fromType, linkName) || 'HalResource';\n\n    source._links.self = link;\n\n    return this.createHalResourceOfType(toType, source, false);\n  }\n\n  /**\n   * Get the configured resource class of a type.\n   *\n   * @param type\n   * @returns {HalResource}\n   */\n  protected getResourceClassOfType<T extends HalResource>(type:string):HalResourceClass<T> {\n    const config = this.config[type];\n    return (config && config.cls) ? config.cls : this.defaultClass;\n  }\n\n  /**\n   * Get the hal type for an attribute\n   *\n   * @param type\n   * @param attribute\n   * @returns {any}\n   */\n  protected getResourceClassOfAttribute<T extends HalResource = HalResource>(type:string, attribute:string):string|null {\n    const typeConfig = this.config[type];\n    const types = (typeConfig && typeConfig.attrTypes) || {};\n    return types[attribute];\n  }\n\n  protected toEprops(params:unknown):{ eprops:string } {\n    const deflatedArray = Pako.deflate(JSON.stringify(params));\n    const compressed = base64.bytesToBase64(deflatedArray);\n\n    return { eprops: compressed };\n  }\n\n  private createErrorObservable(error:HttpErrorResponse):Observable<never> {\n    let resource:ErrorResource|null = null;\n\n    const body = error.error as string|ErrorWithType|unknown;\n    // eslint-disable-next-line no-underscore-dangle\n    if (typeof body === 'object' && (body as ErrorWithType)?._type) {\n      resource = this.createHalResource<ErrorResource>(error.error);\n    }\n\n    return throwError(new HalError(error, resource));\n  }\n}\n","import {\n  ApiV3Filter,\n  ApiV3FilterBuilder,\n} from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\n\n/**\n * Add or append filters to a given base URL.\n * If the URL already had filters, it is appending them, overriding existing filters with the same key.\n *\n * @param basePath The base path to add filters to.\n * @param filters An ApiV3FilterBuilder object containing the filters to add.\n * @param params Additional query parameters to add, if any.\n */\nexport function addFiltersToPath(\n  basePath:string,\n  filters:ApiV3FilterBuilder,\n  params:{ [key:string]:string } = {},\n):URL {\n  const url = new URL(basePath, window.location.origin);\n\n  if (url.searchParams.has('filters')) {\n    const existingFilters = JSON.parse(url.searchParams.get('filters') as string) as ApiV3Filter[];\n    url.searchParams.set('filters', JSON.stringify(existingFilters.concat(filters.filters)));\n  } else {\n    url.searchParams.set('filters', filters.toJson());\n  }\n\n  Object\n    .keys(params)\n    .forEach((key) => {\n      url.searchParams.set(key, params[key]);\n    });\n\n  return url;\n}\n","/* eslint-disable max-classes-per-file */\n\nimport { Constructor } from '@angular/cdk/table';\nimport {\n  SimpleResource,\n  SimpleResourceCollection,\n} from 'core-app/core/apiv3/paths/path-resources';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { HalResourceService } from 'core-app/features/hal/services/hal-resource.service';\nimport { Observable } from 'rxjs';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport {\n  ApiV3Filter,\n  ApiV3FilterBuilder,\n} from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { getPaginatedResults } from 'core-app/core/apiv3/helpers/get-paginated-results';\nimport { HttpClient } from '@angular/common/http';\nimport { addFiltersToPath } from 'core-app/core/apiv3/helpers/add-filters-to-path';\n\nexport class ApiV3ResourcePath<T = HalResource> extends SimpleResource {\n  readonly injector = this.apiRoot.injector;\n\n  @InjectField() halResourceService:HalResourceService;\n\n  constructor(protected apiRoot:ApiV3Service,\n    readonly basePath:string,\n    readonly id:string|number,\n    protected parent?:ApiV3ResourcePath|ApiV3ResourceCollection<T, ApiV3GettableResource<T>>) {\n    super(basePath, id);\n  }\n\n  /**\n   * Build a singular resource from the current segment\n   *\n   * @param segment Additional segment to add to the current path\n   * @param cls Class to use as return type\n   */\n  protected subResource<R = ApiV3GettableResource>(\n    segment:string,\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    cls:Constructor<R> = ApiV3GettableResource as unknown as Constructor<R>,\n  ):R {\n    // eslint-disable-next-line new-cap\n    return new cls(this.apiRoot, this.path, segment, this);\n  }\n}\n\nexport class ApiV3GettableResource<T = HalResource> extends ApiV3ResourcePath<T> {\n  /**\n   * Perform a request to the HalResourceService with the current path\n   */\n  public get():Observable<T> {\n    return this\n      .halResourceService\n      .get(this.path) as unknown as Observable<T>;\n  }\n}\n\nexport class ApiV3GettableResourceCollection<T = HalResource, V = CollectionResource<T>> extends ApiV3GettableResource<V> {\n  /**\n   * Perform a request to the HalResourceService with the current path,\n   * loading all pages into a single array\n   */\n  public getPaginatedResults():Observable<T[]> {\n    return getPaginatedResults<T>(\n      (pageParams) => this.halResourceService.request<CollectionResource<T>>('get', this.path, pageParams),\n      -1,\n    );\n  }\n}\n\nexport class ApiV3ResourceCollection<V, T extends ApiV3GettableResource<V>> extends SimpleResourceCollection {\n  readonly injector = this.apiRoot.injector;\n\n  @InjectField() http:HttpClient;\n\n  @InjectField() halResourceService:HalResourceService;\n\n  constructor(\n    protected apiRoot:ApiV3Service,\n    protected basePath:string,\n    segment:string,\n    protected resource?:Constructor<T>,\n  ) {\n    super(basePath, segment, resource);\n  }\n\n  /**\n   * Returns an instance of T for the given singular resource ID.\n   *\n   * @param input Identifier of the resource, may be a string or number, or a HalResource with id property.\n   */\n  public id(input:string|number|{ id:string|null }):T {\n    let id:string;\n    if (typeof input === 'string' || typeof input === 'number') {\n      id = input.toString();\n    } else {\n      id = input.id as string;\n    }\n\n    return new (this.resource || ApiV3GettableResource)(this.apiRoot, this.path, id, this) as T;\n  }\n\n  public withOptionalId(id?:string|number|null):this|T {\n    if (_.isNil(id)) {\n      return this;\n    }\n    return this.id(id);\n  }\n\n  /**\n   * Returns the path string to the requested endpoint.\n   */\n  public toString():string {\n    return this.path;\n  }\n\n  /**\n   * Returns the path string to the requested endpoint.\n   */\n  public toPath():string {\n    return this.path;\n  }\n\n  /**\n   * Returns a new resource with the path extended with a URL query\n   * to match the filters.\n   *\n   * @param filters filter object to filter with\n   * @param params additional URL params to append\n   * @param resourceClass The APIV3 resource class to instantiate\n   */\n  public filtered<R = ApiV3GettableResourceCollection<V>>(filters:ApiV3FilterBuilder, params:{ [key:string]:string } = {}, resourceClass?:Constructor<R>):R {\n    const url = addFiltersToPath(this.path, filters, params);\n    const cls = resourceClass || ApiV3GettableResourceCollection;\n    // eslint-disable-next-line new-cap\n    return new cls(this.apiRoot, url.pathname, url.search, this) as R;\n  }\n\n  /**\n   * Signal the endpoint with a given set of filters and select params.\n   * Returns an observable response.\n   *\n   * @param filters filter object to filter with\n   * @param select The signalling parameters to request\n   * @param params additional URL params to append\n   */\n  public signalled<R>(filters:ApiV3FilterBuilder, select:string[], params:{ [key:string]:string } = {}):Observable<R> {\n    const url = addFiltersToPath(this.path, filters, { ...params, select: select.join(',') });\n\n    return this\n      .http\n      .get<R>(url.toString());\n  }\n\n  /**\n   * Build a singular resource from the current segment\n   *\n   * @param segment Additional segment to add to the current path\n   * @param cls Class to use as return type\n   */\n  protected subResource<R = ApiV3GettableResource<HalResource>>(\n    segment:string,\n    cls:Constructor<R> = ApiV3GettableResource as unknown as Constructor<R>,\n  ):R {\n    // eslint-disable-next-line new-cap\n    return new cls(this.apiRoot, this.path, segment, this);\n  }\n}\n","import { ApiV3FilterBuilder } from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\n\nexport class ApiV3Paths {\n  readonly apiV3Base:string;\n\n  constructor(basePath:string) {\n    this.apiV3Base = `${basePath}/api/v3`;\n  }\n\n  public get openApiSpecPath():string {\n    return `${this.apiV3Base}/spec.json`;\n  }\n\n  /**\n   * Preview markup path\n   *\n   * Primarily used from ckeditor-augmented-textarea\n   * https://github.com/opf/commonmark-ckeditor-build/\n   *\n   * @param context\n   */\n  public previewMarkup(context:string) {\n    const base = `${this.apiV3Base}/render/markdown`;\n\n    if (context) {\n      return `${base}?context=${context}`;\n    }\n    return base;\n  }\n\n  /**\n   * Principals autocompleter path\n   *\n   * Primarily used from ckeditor-augmented-textarea\n   * https://github.com/opf/commonmark-ckeditor-build/\n   *\n   */\n  public principals(projectId:string|number, term:string|null) {\n    const filters:ApiV3FilterBuilder = new ApiV3FilterBuilder();\n    // Only real and activated users:\n    filters.add('status', '!', ['3']);\n    // that are members of that project:\n    filters.add('member', '=', [projectId.toString()]);\n    // That are users:\n    filters.add('type', '=', ['User', 'Group']);\n\n    if (term && term.length > 0) {\n      // Containing the that substring:\n      filters.add('name', '~', [term]);\n    }\n\n    return `${this.apiV3Base\n    }/principals?${\n      filters.toParams({ sortBy: '[[\"name\",\"asc\"]]', offset: '1', pageSize: '10' })}`;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Injectable } from '@angular/core';\nimport { ApiV3Paths } from './apiv3-paths';\n\n@Injectable({ providedIn: 'root' })\nexport class PathHelperService {\n  public readonly appBasePath = window.appBasePath || '';\n\n  public readonly api = {\n    v3: new ApiV3Paths(this.appBasePath),\n  };\n\n  public get staticBase() {\n    return this.appBasePath;\n  }\n\n  public attachmentDownloadPath(attachmentIdentifier:string, slug:string|undefined) {\n    const path = `${this.staticBase}/attachments/${attachmentIdentifier}`;\n\n    if (slug) {\n      return `${path}/${slug}`;\n    }\n    return path;\n  }\n\n  public attachmentContentPath(attachmentIdentifier:number|string) {\n    return `${this.staticBase}/attachments/${attachmentIdentifier}/content`;\n  }\n\n  public fileLinksPath():string {\n    return `${this.api.v3.apiV3Base}/file_links`;\n  }\n\n  public ifcModelsPath(projectIdentifier:string) {\n    return `${this.staticBase}/projects/${projectIdentifier}/ifc_models`;\n  }\n\n  public ifcModelsNewPath(projectIdentifier:string) {\n    return `${this.ifcModelsPath(projectIdentifier)}/new`;\n  }\n\n  public ifcModelsEditPath(projectIdentifier:string, modelId:number|string) {\n    return `${this.ifcModelsPath(projectIdentifier)}/${modelId}/edit`;\n  }\n\n  public ifcModelsDeletePath(projectIdentifier:string, modelId:number|string) {\n    return `${this.ifcModelsPath(projectIdentifier)}/${modelId}`;\n  }\n\n  public bimDetailsPath(projectIdentifier:string, workPackageId:string, viewpoint:number|string|null = null) {\n    let path = `${this.projectPath(projectIdentifier)}/bcf/details/${workPackageId}`;\n\n    if (viewpoint !== null) {\n      path += `?query_props=%7B\"t\"%3A\"id%3Adesc\"%2C\"dr\"%3A\"splitCards\"%7D&viewpoint=${viewpoint}`;\n    }\n\n    return path;\n  }\n\n  public highlightingCssPath() {\n    return `${this.staticBase}/highlighting/styles`;\n  }\n\n  public forumPath(projectIdentifier:string, forumIdentifier:string) {\n    return `${this.projectForumPath(projectIdentifier)}/${forumIdentifier}`;\n  }\n\n  public keyboardShortcutsHelpPath() {\n    return `${this.staticBase}/help/keyboard_shortcuts`;\n  }\n\n  public messagePath(messageIdentifier:string) {\n    return `${this.staticBase}/topics/${messageIdentifier}`;\n  }\n\n  public myPagePath() {\n    return `${this.staticBase}/my/page`;\n  }\n\n  public myNotificationsSettingsPath() {\n    return `${this.staticBase}/my/notifications`;\n  }\n\n  public newsPath(newsId:string) {\n    return `${this.staticBase}/news/${newsId}`;\n  }\n\n  public notificationsPath():string {\n    return `${this.staticBase}/notifications`;\n  }\n\n  public loginPath() {\n    return `${this.staticBase}/login`;\n  }\n\n  public projectsPath() {\n    return `${this.staticBase}/projects`;\n  }\n\n  public projectsNewPath():string {\n    return `${this.staticBase}/projects/new`;\n  }\n\n  public projectPath(projectIdentifier:string) {\n    return `${this.projectsPath()}/${projectIdentifier}`;\n  }\n\n  public projectActivityPath(projectIdentifier:string) {\n    return `${this.projectPath(projectIdentifier)}/activity`;\n  }\n\n  public projectForumPath(projectIdentifier:string) {\n    return `${this.projectPath(projectIdentifier)}/forums`;\n  }\n\n  public projectCalendarPath(projectId:string) {\n    return `${this.projectPath(projectId)}/calendar`;\n  }\n\n  public projectMembershipsPath(projectId:string) {\n    return `${this.projectPath(projectId)}/members`;\n  }\n\n  public projectNewsPath(projectId:string) {\n    return `${this.projectPath(projectId)}/news`;\n  }\n\n  public projectTimeEntriesPath(projectIdentifier:string) {\n    return `${this.projectPath(projectIdentifier)}/cost_reports`;\n  }\n\n  public projectWikiPath(projectId:string) {\n    return `${this.projectPath(projectId)}/wiki`;\n  }\n\n  public projectWorkPackagePath(projectId:string, wpId:string|number) {\n    return `${this.projectWorkPackagesPath(projectId)}/${wpId}`;\n  }\n\n  public projectWorkPackagesPath(projectId:string) {\n    return `${this.projectPath(projectId)}/work_packages`;\n  }\n\n  public projectWorkPackageNewPath(projectId:string) {\n    return `${this.projectWorkPackagesPath(projectId)}/new`;\n  }\n\n  public projectBoardsPath(projectIdentifier:string|null) {\n    if (projectIdentifier) {\n      return `${this.projectPath(projectIdentifier)}/boards`;\n    }\n    return `${this.staticBase}/boards`;\n  }\n\n  public projectDashboardsPath(projectIdentifier:string) {\n    return `${this.projectPath(projectIdentifier)}/dashboards`;\n  }\n\n  public timeEntriesPath(workPackageId:string|number) {\n    const suffix = '/time_entries';\n\n    if (workPackageId) {\n      return this.workPackagePath(workPackageId) + suffix;\n    }\n    return this.staticBase + suffix; // time entries root path\n  }\n\n  public usersPath() {\n    return `${this.staticBase}/users`;\n  }\n\n  public groupsPath() {\n    return `${this.staticBase}/groups`;\n  }\n\n  public placeholderUsersPath() {\n    return `${this.staticBase}/placeholder_users`;\n  }\n\n  public userPath(id:string|number) {\n    return `${this.usersPath()}/${id}`;\n  }\n\n  public placeholderUserPath(id:string|number) {\n    return `${this.placeholderUsersPath()}/${id}`;\n  }\n\n  public groupPath(id:string|number) {\n    return `${this.groupsPath()}/${id}`;\n  }\n\n  public rolesPath() {\n    return `${this.staticBase}/roles`;\n  }\n\n  public rolePath(id:string|number) {\n    return `${this.rolesPath()}/${id}`;\n  }\n\n  public versionsPath() {\n    return `${this.staticBase}/versions`;\n  }\n\n  public versionEditPath(id:string|number) {\n    return `${this.staticBase}/versions/${id}/edit`;\n  }\n\n  public versionShowPath(id:string|number) {\n    return `${this.staticBase}/versions/${id}`;\n  }\n\n  public workPackagesPath() {\n    return `${this.staticBase}/work_packages`;\n  }\n\n  public workPackagePath(id:string|number) {\n    return `${this.staticBase}/work_packages/${id}`;\n  }\n\n  public workPackageCopyPath(workPackageId:string|number) {\n    return `${this.workPackagePath(workPackageId)}/copy`;\n  }\n\n  public workPackageDetailsCopyPath(projectIdentifier:string, workPackageId:string|number) {\n    return `${this.projectWorkPackagesPath(projectIdentifier)}/details/${workPackageId}/copy`;\n  }\n\n  public workPackagesBulkDeletePath() {\n    return `${this.workPackagesPath()}/bulk`;\n  }\n\n  public textFormattingHelp() {\n    return `${this.staticBase}/help/text_formatting`;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\n\nexport class HalPayloadHelper {\n  /**\n   * Extract payload from the given request with schema.\n   * This will ensure we will only write writable attributes and so on.\n   *\n   * @param resource\n   * @param schema\n   */\n  static extractPayload<T extends HalResource = HalResource>(resource:T|Object|null, schema:SchemaResource|null = null):Object {\n    if (resource instanceof HalResource && schema) {\n      return this.extractPayloadFromSchema(resource, schema);\n    } if (resource && !(resource instanceof HalResource)) {\n      return resource;\n    }\n    return {};\n  }\n\n  /**\n   * Extract writable payload from a HAL resource class to be used for API calls.\n   *\n   * The schema contains writable information about attributes, which is what this method\n   * iterates in order to build the HAL-compatible object.\n   *\n   * @param resource A HalResource to extract payload from\n   * @param schema The associated schema to determine writable state of attributes\n   */\n  static extractPayloadFromSchema<T extends HalResource = HalResource>(resource:T, schema:SchemaResource) {\n    const payload:any = {\n      _links: {},\n    };\n\n    const nonLinkProperties = [];\n\n    for (const key in schema) {\n      if (schema.hasOwnProperty(key) && schema[key] && schema[key].writable) {\n        if (resource.$links[key]) {\n          if (Array.isArray(resource[key])) {\n            payload._links[key] = _.map(resource[key], (element) => ({ href: (element as HalResource).href }));\n          } else {\n            payload._links[key] = {\n              href: (resource[key] && resource[key].href),\n            };\n          }\n        } else {\n          nonLinkProperties.push(key);\n        }\n      }\n    }\n\n    _.each(nonLinkProperties, (property) => {\n      if (resource.hasOwnProperty(property) || resource[property]) {\n        if (Array.isArray(resource[property])) {\n          payload[property] = _.map(resource[property], (element:any) => {\n            if (element instanceof HalResource) {\n              return this.extractPayloadFromSchema(element, element.currentSchema || element.schema);\n            }\n            return element;\n          });\n        } else {\n          payload[property] = resource[property];\n        }\n      }\n    });\n\n    return payload;\n  }\n}\n","import { ApiV3ResourcePath } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { FormResource } from 'core-app/features/hal/resources/form-resource';\nimport { Observable } from 'rxjs';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { HalPayloadHelper } from 'core-app/features/hal/schemas/hal-payload.helper';\n\nexport class ApiV3FormResource<T extends FormResource = FormResource> extends ApiV3ResourcePath<T> {\n  /**\n   * POST to the form resource identified by this path\n   * @param request The request payload\n   */\n  public post(request:Object = {}, schema:SchemaResource|null = null):Observable<T> {\n    return this\n      .halResourceService\n      .post<T>(\n      this.path,\n      this.extractPayload(request, schema),\n    );\n  }\n\n  /**\n   * Extract payload for the form from the request and optional schema.\n   *\n   * @param request\n   * @param schema\n   */\n  public extractPayload(request:T|Object, schema:SchemaResource|null = null) {\n    return HalPayloadHelper.extractPayload(request, schema);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { HalPayloadHelper } from 'core-app/features/hal/schemas/hal-payload.helper';\nimport { GridWidgetResource } from 'core-app/features/hal/resources/grid-widget-resource';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\n\nexport class ApiV3GridForm extends ApiV3FormResource {\n  /**\n   * We need to override the grid widget extraction\n   * to pass the correct payload to the API.\n   *\n   * @param resource\n   * @param schema\n   */\n  public static extractPayload(resource:HalResource|Object, schema:SchemaResource|null = null):Object {\n    if (resource instanceof HalResource && schema) {\n      const grid = resource;\n      const payload = HalPayloadHelper.extractPayloadFromSchema(grid, schema);\n\n      // The widget only states the type of the widget resource but does not explain\n      // the widget itself. We therefore have to do that by hand.\n      if (payload.widgets) {\n        payload.widgets = grid.widgets.map((widget:GridWidgetResource) => ({\n          id: widget.id,\n          startRow: widget.startRow,\n          endRow: widget.endRow,\n          startColumn: widget.startColumn,\n          endColumn: widget.endColumn,\n          identifier: widget.identifier,\n          options: widget.options,\n        }));\n      }\n\n      return payload;\n    }\n\n    return resource || {};\n  }\n\n  /**\n   * Extract payload for the form from the request and optional schema.\n   *\n   * @param request\n   * @param schema\n   */\n  public extractPayload(request:HalResource|Object, schema:SchemaResource|null = null) {\n    return ApiV3GridForm.extractPayload(request, schema);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { GridResource } from 'core-app/features/hal/resources/grid-resource';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { Observable } from 'rxjs';\nimport { ApiV3GridForm } from 'core-app/core/apiv3/endpoints/grids/apiv3-grid-form';\n\nexport class ApiV3GridPaths extends ApiV3GettableResource<GridResource> {\n  // Static paths\n  readonly form = this.subResource('form', ApiV3GridForm);\n\n  /**\n   * Update a grid resource or payload\n   * @param resource\n   * @param schema\n   */\n  public patch(resource:GridResource|Object, schema:SchemaResource|null = null):Observable<GridResource> {\n    const payload = this.form.extractPayload(resource, schema);\n\n    return this\n      .halResourceService\n      .patch<GridResource>(this.path, payload);\n  }\n\n  /**\n   * Delete a grid resource\n   */\n  public delete():Observable<unknown> {\n    return this\n      .halResourceService\n      .delete(this.path);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3GridPaths } from 'core-app/core/apiv3/endpoints/grids/apiv3-grid-paths';\nimport { GridResource } from 'core-app/features/hal/resources/grid-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { ApiV3GridForm } from 'core-app/core/apiv3/endpoints/grids/apiv3-grid-form';\nimport { Observable } from 'rxjs';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\n\nexport class ApiV3GridsPaths\n  extends ApiV3ResourceCollection<GridResource, ApiV3GridPaths>\n  implements ApiV3ListResourceInterface<GridResource> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'grids', ApiV3GridPaths);\n  }\n\n  readonly form = this.subResource('form', ApiV3GridForm);\n\n  /**\n   * Load a list of grids with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<GridResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<GridResource>>(this.path + listParamsString(params));\n  }\n\n  /**\n   * Create a new GridResource\n   *\n   * @param resource\n   * @param schema\n   */\n  public post(resource:GridResource, schema:SchemaResource|null = null):Observable<GridResource> {\n    return this\n      .halResourceService\n      .post<GridResource>(\n      this.path,\n      this.form.extractPayload(resource, schema),\n    );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { MultiInputState, State } from '@openproject/reactivestates';\nimport {\n  firstValueFrom,\n  Observable,\n} from 'rxjs';\nimport {\n  auditTime, map, share, startWith, take,\n} from 'rxjs/operators';\n\nexport interface HasId {\n  id:string|null;\n}\n\nexport class StateCacheService<T> {\n  protected cacheDurationInMs:number;\n\n  protected multiState:MultiInputState<T>;\n\n  constructor(state:MultiInputState<T>, holdValuesForSeconds = 3600) {\n    this.multiState = state;\n    this.cacheDurationInMs = holdValuesForSeconds * 1000;\n  }\n\n  public state(id:string):State<T> {\n    return this.multiState.get(id);\n  }\n\n  /**\n   * Touch the current state to fire subscribers.\n   */\n  public touch(id:string):void {\n    const state = this.multiState.get(id);\n    state.putValue(state.value, 'Touching the state');\n  }\n\n  /**\n   * Get the current value\n   */\n  public current(id:string, fallback?:T):T|undefined {\n    return this.state(id).getValueOr(fallback);\n  }\n\n  /**\n   * Sets a promise to the state\n   */\n  public clearAndLoad(id:string, loader:Observable<T>):Observable<T> {\n    const observable = loader\n      .pipe(\n        take(1),\n        share(),\n      );\n\n    this\n      .multiState.get(id)\n      .clearAndPutFromPromise(firstValueFrom(observable));\n\n    return observable;\n  }\n\n  /**\n   * Update the value due to application changes.\n   *\n   * @param id The value's identifier.\n   * @param val<T> The value.\n   *\n   * @return a promise of the value when it was inserted into cache\n   */\n  public updateValue(id:string, val:T):Promise<T> {\n    this.putValue(id, val);\n    return Promise.resolve(val);\n  }\n\n  /**\n   * Update the value due to application changes.\n   *\n   * @param resource<T> The value.\n   */\n  public updateFor(resource:HasId):Promise<T> {\n    return this.updateValue(resource.id!, resource as any);\n  }\n\n  /**\n   * Observe the value of the given id\n   */\n  public observe(id:string):Observable<T> {\n    return this.state(id).values$();\n  }\n\n  /**\n   * Observe the changes of the given id\n   */\n  public changes$(id:string):Observable<T|undefined> {\n    return this.state(id).changes$();\n  }\n\n  /**\n   * Observe the entire set of loaded results\n   */\n  public observeAll():Observable<T[]> {\n    return this.multiState\n      .observeChange()\n      .pipe(\n        startWith([]),\n        auditTime(250),\n        map(() => {\n          const mapped:T[] = [];\n          _.each(this.multiState.getValueOr({}), (state:State<T>) => {\n            if (state.value) {\n              mapped.push(state.value);\n            }\n          });\n\n          return mapped;\n        }),\n      );\n  }\n\n  /**\n   * Clear a set of cached states.\n   * @param ids\n   */\n  public clearSome(...ids:string[]) {\n    ids.forEach((id) => this.multiState.get(id).clear());\n  }\n\n  /**\n   * Returns whether the state\n   * @param id ID of the state\n   * @return {boolean}\n   */\n  public stale(id:string):boolean {\n    const state = this.multiState.get(id);\n\n    // If there is an active request that is still pending\n    if (state.hasActivePromiseRequest()) {\n      return false;\n    }\n\n    return state.isPristine() || state.isValueOlderThan(this.cacheDurationInMs);\n  }\n\n  /**\n   * Actually insert the value in the state right now.\n   *\n   * @param id\n   * @param val\n   */\n  protected putValue(id:string, val:T) {\n    this.multiState.get(id).putValue(val);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { IFieldSchema } from 'core-app/shared/components/fields/field.base';\nimport isNewResource from 'core-app/features/hal/helpers/is-new-resource';\n\nexport interface ISchemaProxy extends SchemaResource {\n  ofProperty(property:string):IFieldSchema;\n  isAttributeEditable(property:string):boolean;\n  isEditable:boolean;\n}\n\nexport class SchemaProxy implements ProxyHandler<SchemaResource> {\n  constructor(protected schema:SchemaResource,\n    protected resource:HalResource) {\n  }\n\n  static create(schema:SchemaResource, resource:HalResource) {\n    return new Proxy(\n      schema,\n      new this(schema, resource),\n    ) as ISchemaProxy;\n  }\n\n  get(schema:SchemaResource, property:PropertyKey, receiver:any):any {\n    switch (property) {\n      case 'ofProperty': {\n        return this.proxyMethod(this.ofProperty);\n      }\n      case 'isAttributeEditable': {\n        return this.proxyMethod(this.isAttributeEditable);\n      }\n      case 'mappedName': {\n        return this.proxyMethod(this.mappedName);\n      }\n      case 'isEditable': {\n        return this.isEditable;\n      }\n      default: {\n        return Reflect.get(schema, property, receiver);\n      }\n    }\n  }\n\n  /**\n   * Returns the part of the schema relevant for the provided property.\n   *\n   * We use it to support the virtual attribute 'combinedDate' which is the combination of the three\n   * attributes 'startDate', 'dueDate' and 'scheduleManually'. That combination exists only in the front end\n   * and not on the native schema. As a property needs to be writable for us to allow the user editing,\n   * we need to mark the writability positively if any of the combined properties are writable.\n   *\n   * @param property the schema part is desired for\n   */\n  public ofProperty(property:string):IFieldSchema|null {\n    const propertySchema = this.schema[this.mappedName(property)];\n\n    if (propertySchema) {\n      return { ...propertySchema, writable: this.isEditable && propertySchema && propertySchema.writable };\n    }\n    return null;\n  }\n\n  /**\n   * Return whether the resource is editable with the user's permission\n   * on the given resource package attribute.\n   * In order to be editable, there needs to be an update link on the resource and the schema for\n   * the attribute needs to indicate the writability.\n   *\n   * @param property\n   */\n  public isAttributeEditable(property:string):boolean {\n    const propertySchema = this.ofProperty(property);\n\n    return !!propertySchema && propertySchema.writable;\n  }\n\n  /**\n   * Return whether the user in general has permission to edit the resource.\n   * This check is required, but not sufficient to check all attribute restrictions.\n   *\n   * Use +isAttributeEditable(property)+ for this case.\n   */\n  public get isEditable() {\n    return isNewResource(this.resource) || !!this.resource.$links.update;\n  }\n\n  public mappedName(property:string):string {\n    return property;\n  }\n\n  private proxyMethod(method:Function) {\n    const self = this;\n\n    // Returning a Proxy here so that the call is bound\n    // to the SchemaProxy instance.\n    return new Proxy(method, {\n      apply(_, __, argumentsList) {\n        return method.apply(self, [argumentsList[0]]);\n      },\n    });\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { SchemaProxy } from 'core-app/features/hal/schemas/schema-proxy';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { StatusResource } from 'core-app/features/hal/resources/status-resource';\n\nexport class WorkPackageSchemaProxy extends SchemaProxy {\n  get(schema:SchemaResource, property:PropertyKey, receiver:any):any {\n    switch (property) {\n      case 'isMilestone': {\n        return this.isMilestone;\n      }\n      case 'isReadonly': {\n        return this.isReadonly;\n      }\n      default: {\n        return super.get(schema, property, receiver);\n      }\n    }\n  }\n\n  /**\n   * Returns the part of the schema relevant for the provided property.\n   *\n   * We use it to support the virtual attribute 'combinedDate' which is the combination of the three\n   * attributes 'startDate', 'dueDate' and 'scheduleManually'. That combination exists only in the front end\n   * and not on the native schema. As a property needs to be writable for us to allow the user editing,\n   * we need to mark the writability positively if any of the combined properties are writable.\n   *\n   * @param property the schema part is desired for\n   */\n  public ofProperty(property:string) {\n    if (property === 'combinedDate') {\n      const propertySchema = super.ofProperty('startDate');\n\n      if (!propertySchema) {\n        return null;\n      }\n\n      propertySchema.writable = propertySchema.writable\n        || this.isAttributeEditable('dueDate')\n        || this.isAttributeEditable('scheduleManually');\n\n      return propertySchema;\n    }\n    return super.ofProperty(property);\n  }\n\n  public get isReadonly():boolean {\n    return (this.resource.readonly as boolean) || !!(this.resource.status as StatusResource|null)?.isReadonly;\n  }\n\n  /**\n   * Return whether the work package is editable with the user's permission\n   * on the given work package attribute.\n   *\n   * @param property\n   */\n  public isAttributeEditable(property:string):boolean {\n    if (this.isReadonly && property !== 'status') {\n      return false;\n    } if (['startDate', 'dueDate', 'date'].includes(property)\n      && this.resource.scheduleManually) {\n      // This is a blatant shortcut but should be adequate.\n      return super.isAttributeEditable('scheduleManually');\n    }\n    return super.isAttributeEditable(property);\n  }\n\n  public get isMilestone():boolean {\n    return this.schema.hasOwnProperty('date');\n  }\n\n  public mappedName(property:string):string {\n    if (this.isMilestone && (property === 'startDate' || property === 'dueDate')) {\n      return 'date';\n    }\n    return property;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\nimport { State } from '@openproject/reactivestates';\nimport { Injectable } from '@angular/core';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { States } from 'core-app/core/states/states.service';\nimport { ISchemaProxy, SchemaProxy } from 'core-app/features/hal/schemas/schema-proxy';\nimport { HalResourceService } from 'core-app/features/hal/services/hal-resource.service';\nimport { WorkPackageSchemaProxy } from 'core-app/features/hal/schemas/work-package-schema-proxy';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\n\n@Injectable()\nexport class SchemaCacheService extends StateCacheService<SchemaResource> {\n  constructor(readonly states:States,\n    readonly halResourceService:HalResourceService) {\n    super(states.schemas);\n  }\n\n  public state(id:string|HalResource):State<SchemaResource> {\n    return super.state(this.stateKey(id));\n  }\n\n  /**\n   * Returns the schema of the provided resource.\n   * This method assumes the schema is loaded and will fail if it is not.\n   * @deprecated Assuming the schema to be loaded is deprecated. Rely on the states instead.\n   * @param resource The HalResource for which the schema is to be returned\n   * @return The schema for the HalResource\n   */\n  of(resource:HalResource):ISchemaProxy {\n    const schema = this.state(resource).value;\n\n    if (!schema) {\n      throw new Error(`Schema for resource ${resource} was expected to be loaded but isn't.`);\n    }\n\n    if (resource._type === 'WorkPackage') {\n      return WorkPackageSchemaProxy.create(schema, resource);\n    }\n    return SchemaProxy.create(schema, resource);\n  }\n\n  public getSchemaHref(resource:HalResource):string {\n    const href = resource.$links.schema?.href;\n\n    if (!href) {\n      throw new Error(`Resource ${resource} has no schema to load.`);\n    }\n\n    return href;\n  }\n\n  /**\n   * Ensure the given schema identified by its href is currently loaded.\n   * @param resource The resource with a schema property or a string to the schema href.\n   * @return A promise with the loaded schema.\n   */\n  ensureLoaded<T = SchemaResource>(resource:HalResource|string):Promise<T> {\n    const href = resource instanceof HalResource ? this.getSchemaHref(resource) : resource;\n\n    return this\n      .requireAndStream(href)\n      .pipe(\n        take(1),\n      )\n      .toPromise() as unknown as Promise<T>;\n  }\n\n  /**\n   * Require the value to be loaded either when forced or the value is stale\n   * according to the cache interval specified for this service.\n   *\n   * Returns an observable to the values stream of the state.\n   *\n   * @param id The state to require\n   * @param force Load the value anyway.\n   */\n  public requireAndStream(href:string, force = false):Observable<SchemaResource> {\n    // Refresh when stale or being forced\n    if (this.stale(href) || force) {\n      this.clearAndLoad(\n        href,\n        this.load(href),\n      );\n    }\n\n    return this.state(href).values$();\n  }\n\n  /**\n   * Load the associated schema for the given work package, if needed.\n   */\n  protected load(href:string):Observable<SchemaResource> {\n    return this\n      .halResourceService\n      .get<SchemaResource>(href)\n      .pipe(\n        take(1),\n      );\n  }\n\n  protected loadAll(hrefs:string[]):Promise<unknown|undefined> {\n    return Promise.all(hrefs.map((href) => this.load(href)));\n  }\n\n  /**\n   * Places the schema in the schema state of the resource.\n   * @param resource The resource for which the schema is to be updated\n   * @param schema\n   */\n  update(resource:HalResource, schema:SchemaResource) {\n    this.multiState.get(this.stateKey(resource)).putValue(schema);\n  }\n\n  private stateKey(id:string|HalResource):string {\n    if (id instanceof HalResource) {\n      return this.getSchemaHref(id);\n    }\n    return id;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { States } from 'core-app/core/states/states.service';\nimport { HasId, StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { concat, Observable, of } from 'rxjs';\nimport {\n  mapTo, shareReplay, switchMap, take, tap,\n} from 'rxjs/operators';\nimport { SchemaCacheService } from 'core-app/core/schemas/schema-cache.service';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\n\nexport abstract class ApiV3Resource<T extends HasId = HalResource>\n  extends ApiV3GettableResource<T> {\n  @InjectField() states:States;\n\n  @InjectField() schemaCache:SchemaCacheService;\n\n  readonly cache = this.createCache();\n\n  /**\n   * Require the value to be loaded either when forced or the value is stale\n   * according to the cache interval specified for this service.\n   *\n   * Returns an observable to the values stream of the state.\n   *\n   * @param force Load the value anyway.\n   */\n  public requireAndStream(force = false):Observable<T> {\n    const id = this.id.toString();\n\n    // Refresh when stale or being forced\n    if (this.cache.stale(id) || force) {\n      const observable = this\n        .load()\n        .pipe(\n          take(1),\n          shareReplay(1),\n        );\n\n      this.cache.clearAndLoad(\n        id,\n        observable,\n      );\n\n      // Return concat of the loading observable\n      // for error handling and the like,\n      // but then continue with the streamed cache\n      return concat(\n        observable,\n        this.cache.state(id).values$(),\n      );\n    }\n\n    return this.cache.state(id).values$();\n  }\n\n  /**\n   * Observe the values of this resource,\n   * but do not request it actively.\n   */\n  public observe():Observable<T> {\n    return this\n      .cache\n      .observe(this.id.toString());\n  }\n\n  /**\n   * Returns a (potentially cached) observable.\n   *\n   * Only observes one value.\n   *\n   * Accesses or modifies the global store for this resource.\n   */\n  get():Observable<T> {\n    return this\n      .requireAndStream(false)\n      .pipe(\n        take(1),\n      );\n  }\n\n  /**\n   * Returns a freshly loaded value but ensuring the value\n   * is also updated in the cache.\n   *\n   * Only observes one value.\n   *\n   * Accesses or modifies the global store for this resource.\n   */\n  refresh():Promise<T> {\n    return this\n      .requireAndStream(true)\n      .pipe(\n        take(1),\n      )\n      // Use a promise to ensure this fires\n      // even if caller isn't subscribing.\n      .toPromise() as Promise<T>;\n  }\n\n  /**\n   * Perform a request to the HalResourceService with the current path\n   */\n  protected load():Observable<T> {\n    return this\n      .halResourceService\n      .get(this.path)\n      .pipe(\n        switchMap((resource) => {\n          if (resource.$links.schema) {\n            return this.schemaCache\n              .requireAndStream(resource.$links.schema.href)\n              .pipe(\n                take(1),\n                mapTo(resource),\n              );\n          }\n          return of(resource);\n        }),\n      ) as any; // T does not extend HalResource for virtual endpoints such as board, thus we need to cast here\n  }\n\n  /**\n   * Update a single resource\n   */\n  protected touch(resource:T):void {\n    this.cache.updateFor(resource);\n  }\n\n  /**\n   * Inserts a collection response to cache as an rxjs tap function\n   */\n  protected cacheResponse():(source:Observable<T>) => Observable<T> {\n    return (source$:Observable<T>) => source$.pipe(\n      tap(\n        (resource:T) => this.touch(resource),\n      ),\n    );\n  }\n\n  /**\n   * Creates the cache state instance\n   */\n  protected abstract createCache():StateCacheService<T>;\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { TimeEntryResource } from 'core-app/features/hal/resources/time-entry-resource';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { ApiV3TimeEntriesPaths } from 'core-app/core/apiv3/endpoints/time-entries/apiv3-time-entries-paths';\nimport { HalPayloadHelper } from 'core-app/features/hal/schemas/hal-payload.helper';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\n\nexport class ApiV3TimeEntryPaths extends ApiV3Resource<TimeEntryResource> {\n  // Static paths\n  readonly form = this.subResource('form', ApiV3FormResource);\n\n  /**\n   * Update the time entry with the given payload.\n   *\n   * In case of updating from the hal resource, a schema resource is needed\n   * to identify the writable attributes.\n   * @param payload\n   * @param schema\n   */\n  public patch(payload:Object, schema:SchemaResource|null = null):Observable<TimeEntryResource> {\n    return this\n      .halResourceService\n      .patch<TimeEntryResource>(this.path, this.extractPayload(payload, schema))\n      .pipe(\n        tap((resource) => this.touch(resource)),\n      );\n  }\n\n  /**\n   * Delete the time entry under the current path\n   */\n  public delete():Observable<unknown> {\n    return this\n      .halResourceService\n      .delete<TimeEntryResource>(this.path)\n      .pipe(\n        tap(() => this.cache.clearSome(this.id.toString())),\n      );\n  }\n\n  protected createCache():StateCacheService<TimeEntryResource> {\n    return (this.parent as ApiV3TimeEntriesPaths).cache;\n  }\n\n  /**\n   * Extract payload from the given request with schema.\n   * This will ensure we will only write writable attributes and so on.\n   *\n   * @param resource\n   * @param schema\n   */\n  protected extractPayload(resource:HalResource|Object|null, schema:SchemaResource|null = null) {\n    if (resource instanceof HalResource && schema) {\n      return HalPayloadHelper.extractPayloadFromSchema(resource, schema);\n    } if (!(resource instanceof HalResource)) {\n      return resource;\n    }\n    return {};\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\n\nexport class CollectionResource<T = HalResource> extends HalResource {\n  public elements:T[];\n\n  public count:number;\n\n  public total:number;\n\n  public pageSize:number;\n\n  public offset:number;\n\n  /**\n   * Update the collection's elements and return them in a promise.\n   * This is useful, as angular does not recognize update made by $load.\n   */\n  public updateElements():Promise<unknown> {\n    if (this.href) {\n      return this.$load().then((collection:this) => this.elements = collection.elements);\n    }\n    return Promise.resolve();\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource, ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { States } from 'core-app/core/states/states.service';\nimport { HasId, StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { Observable } from 'rxjs';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { tap } from 'rxjs/operators';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\n\nexport abstract class ApiV3Collection<\n  T extends HasId = HalResource,\n  V extends ApiV3GettableResource<T> = ApiV3GettableResource<T>,\n  X extends StateCacheService<T> = StateCacheService<T>,\n  >\n  extends ApiV3ResourceCollection<T, V> {\n  @InjectField() states:States;\n\n  readonly cache:X = this.createCache();\n\n  /**\n   * Observe all value changes of the cache\n   */\n  public observeAll():Observable<T[]> {\n    return this.cache.observeAll();\n  }\n\n  /**\n   * Inserts a collection or single response to cache as an rxjs tap function\n   */\n  protected cacheResponse<R>():(source:Observable<R>) => Observable<R> {\n    return (source$) => source$.pipe(\n      tap(\n        (response:R) => {\n          if (response instanceof CollectionResource) {\n            response.elements?.forEach(this.touch.bind(this));\n          } else if (response instanceof HalResource) {\n            this.touch(response as any);\n          }\n        },\n      ),\n    );\n  }\n\n  /**\n   * Update a single resource\n   */\n  protected touch(resource:T):void {\n    this.cache.updateFor(resource);\n  }\n\n  /**\n   * Creates the cache state instance\n   */\n  protected abstract createCache():X;\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { TimeEntryResource } from 'core-app/features/hal/resources/time-entry-resource';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { SchemaCacheService } from 'core-app/core/schemas/schema-cache.service';\nimport { States } from 'core-app/core/states/states.service';\nimport { Injector } from '@angular/core';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { MultiInputState } from '@openproject/reactivestates';\n\nexport class TimeEntryCacheService extends StateCacheService<TimeEntryResource> {\n  @InjectField() readonly states:States;\n\n  @InjectField() readonly schemaCache:SchemaCacheService;\n\n  constructor(readonly injector:Injector, state:MultiInputState<TimeEntryResource>) {\n    super(state);\n  }\n\n  updateValue(id:string, val:TimeEntryResource):Promise<TimeEntryResource> {\n    return this.schemaCache\n      .ensureLoaded(val)\n      .then(() => {\n        this.putValue(id, val);\n        return val;\n      });\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3TimeEntryPaths } from 'core-app/core/apiv3/endpoints/time-entries/apiv3-time-entry-paths';\nimport { TimeEntryResource } from 'core-app/features/hal/resources/time-entry-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { Observable } from 'rxjs';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { ApiV3Collection } from 'core-app/core/apiv3/cache/cachable-apiv3-collection';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { TimeEntryCacheService } from 'core-app/core/apiv3/endpoints/time-entries/time-entry-cache.service';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\n\nexport class ApiV3TimeEntriesPaths\n  extends ApiV3Collection<TimeEntryResource, ApiV3TimeEntryPaths>\n  implements ApiV3ListResourceInterface<TimeEntryResource> {\n  constructor(\n    protected apiRoot:ApiV3Service,\n    protected basePath:string,\n  ) {\n    super(apiRoot, basePath, 'time_entries', ApiV3TimeEntryPaths);\n  }\n\n  // Static paths\n  public readonly form = this.subResource('form', ApiV3FormResource);\n\n  // /api/v3/time_entries/schema\n  readonly schema = this.subResource<ApiV3GettableResource<SchemaResource>>('schema');\n\n  /**\n   * Load a list of time entries with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<TimeEntryResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<TimeEntryResource>>(this.path + listParamsString(params))\n      .pipe(\n        this.cacheResponse(),\n      );\n  }\n\n  /**\n   * Create a time entry resource from the given payload\n   * @param payload\n   */\n  public post(payload:Object):Observable<TimeEntryResource> {\n    return this\n      .halResourceService\n      .post<TimeEntryResource>(this.path, payload)\n      .pipe(\n        this.cacheResponse(),\n      );\n  }\n\n  protected createCache():StateCacheService<TimeEntryResource> {\n    return new TimeEntryCacheService(this.injector, this.states.timeEntries);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ICapability } from 'core-app/core/state/capabilities/capability.model';\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\n\nexport class ApiV3CapabilityPaths extends ApiV3GettableResource<ICapability> {\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3CapabilityPaths } from 'core-app/core/apiv3/endpoints/capabilities/apiv3-capability-paths';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ICapability } from 'core-app/core/state/capabilities/capability.model';\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\n\nexport class ApiV3CapabilitiesPaths\n  extends ApiV3ResourceCollection<ICapability, ApiV3CapabilityPaths> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'capabilities', ApiV3CapabilityPaths);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ProjectResource } from 'core-app/features/hal/resources/project-resource';\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { ApiV3Filter } from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\n\nexport class ApiV3AvailableProjectsPaths\n  extends ApiV3GettableResource<CollectionResource<ProjectResource>>\n  implements ApiV3ListResourceInterface<ProjectResource> {\n  /**\n   * Load a list of available projects with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<ProjectResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<ProjectResource>>(this.path + listParamsString(params));\n  }\n\n  /**\n   * Performs a request against the available_projects endpoint\n   * to see whether this is contained\n   *\n   * Returns whether the given id exists in the set\n   * of available projects\n   *\n   * @param projectId\n   */\n  public exists(projectId:string):Observable<boolean> {\n    return this\n      .halResourceService\n      .get<CollectionResource<ProjectResource>>(\n      this.path,\n      { filters: ApiV3Filter('id', '=', [projectId]).toJson() },\n    )\n      .pipe(\n        map((collection) => collection.count > 0),\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { MembershipResourceEmbedded } from 'core-app/features/hal/resources/membership-resource';\n\nexport class ApiV3MembershipsForm extends ApiV3FormResource {\n  /**\n   * We need to override the grid widget extraction\n   * to pass the correct payload to the API.\n   *\n   * @param resource\n   * @param schema\n   */\n  public static extractPayload(resource:MembershipResourceEmbedded):Object {\n    return {\n      _links: {\n        project: { href: resource.project.href },\n        principal: { href: resource.principal.href },\n        roles: resource.roles.map((role) => ({ href: role.href })),\n      },\n      _meta: {\n        notificationMessage: {\n          raw: resource.notificationMessage.raw,\n        },\n      },\n    };\n  }\n\n  /**\n   * Extract payload for the form from the request and optional schema.\n   *\n   * @param request\n   * @param schema\n   */\n  public extractPayload(request:MembershipResourceEmbedded) {\n    return ApiV3MembershipsForm.extractPayload(request);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource, ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3AvailableProjectsPaths } from 'core-app/core/apiv3/endpoints/projects/apiv3-available-projects-paths';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { Observable } from 'rxjs';\nimport { ApiV3MembershipsForm } from 'core-app/core/apiv3/endpoints/memberships/apiv3-memberships-form';\nimport { MembershipResource, MembershipResourceEmbedded } from 'core-app/features/hal/resources/membership-resource';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\n\nexport class ApiV3MembershipsPaths\n  extends ApiV3ResourceCollection<MembershipResource, ApiV3GettableResource<MembershipResource>>\n  implements ApiV3ListResourceInterface<MembershipResource> {\n  // Static paths\n  readonly form = this.subResource('form', ApiV3MembershipsForm);\n\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'memberships');\n  }\n\n  /**\n   * Load a list of membership entries with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<MembershipResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<MembershipResource>>(this.path + listParamsString(params));\n  }\n\n  // /api/v3/memberships/available_projects\n  readonly available_projects = this.subResource('available_projects', ApiV3AvailableProjectsPaths);\n\n  /**\n   * Create a new MembershipResource\n   *\n   * @param resource\n   */\n  public post(resource:MembershipResourceEmbedded):Observable<MembershipResource> {\n    const payload = this.form.extractPayload(resource);\n    return this\n      .halResourceService\n      .post<MembershipResource>(\n      this.path,\n      payload,\n    );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourcePath } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { Observable } from 'rxjs';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { HttpClient } from '@angular/common/http';\nimport { IUserPreference } from 'core-app/features/user-preferences/state/user-preferences.model';\n\nexport class ApiV3UserPreferencesPaths extends ApiV3ResourcePath<IUserPreference> {\n  @InjectField() http:HttpClient;\n\n  /**\n   * Perform a request to the backend to load preferences\n   */\n  public get():Observable<IUserPreference> {\n    return this\n      .http\n      .get<IUserPreference>(\n      this.path,\n    );\n  }\n\n  /**\n   * Perform a request to update preferences\n   */\n  public patch(payload:Partial<IUserPreference>):Observable<IUserPreference> {\n    return this\n      .http\n      .patch<IUserPreference>(\n      this.path,\n      payload,\n      { withCredentials: true, responseType: 'json' },\n    );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { UserResource } from 'core-app/features/hal/resources/user-resource';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { ApiV3UserPreferencesPaths } from 'core-app/core/apiv3/endpoints/users/apiv3-user-preferences-paths';\n\nexport class ApiV3UserPaths extends ApiV3Resource<UserResource> {\n  readonly avatar = this.subResource('avatar');\n\n  readonly preferences = this.subResource('preferences', ApiV3UserPreferencesPaths);\n\n  protected createCache():StateCacheService<UserResource> {\n    return new StateCacheService<UserResource>(this.states.users);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3UserPaths } from 'core-app/core/apiv3/endpoints/users/apiv3-user-paths';\nimport { Observable } from 'rxjs';\nimport { UserResource } from 'core-app/features/hal/resources/user-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\n\nexport class ApiV3UsersPaths extends ApiV3ResourceCollection<UserResource, ApiV3UserPaths> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'users', ApiV3UserPaths);\n  }\n\n  // Static paths\n\n  // /api/v3/users/me\n  public readonly me = this.subResource('me', ApiV3UserPaths);\n\n  // /api/v3/users/form\n  public readonly form = this.subResource('form', ApiV3FormResource);\n\n  /**\n   * Create a new UserResource\n   *\n   * @param resource\n   */\n  public post(resource:{\n    // TODO: The typing here could be a lot better\n    login?:string,\n    firstName?:string,\n    lastName?:string,\n    email?:string,\n    admin?:boolean,\n    language?:string,\n    password?:string,\n    auth_source?:string,\n    identity_url?:string,\n    status:'invited'|'active',\n  }):Observable<UserResource> {\n    return this\n      .halResourceService\n      .post<UserResource>(\n      this.path,\n      resource,\n    );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { TypeResource } from 'core-app/features/hal/resources/type-resource';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { ApiV3TypesPaths } from 'core-app/core/apiv3/endpoints/types/apiv3-types-paths';\n\nexport class ApiV3TypePaths extends ApiV3Resource<TypeResource> {\n  protected createCache():StateCacheService<TypeResource> {\n    return (this.parent as ApiV3TypesPaths).cache;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { TypeResource } from 'core-app/features/hal/resources/type-resource';\nimport { ApiV3TypePaths } from 'core-app/core/apiv3/endpoints/types/apiv3-type-paths';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3Collection } from 'core-app/core/apiv3/cache/cachable-apiv3-collection';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\n\nexport class ApiV3TypesPaths extends ApiV3Collection<TypeResource, ApiV3TypePaths> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'types', ApiV3TypePaths);\n  }\n\n  protected createCache():StateCacheService<TypeResource> {\n    return new StateCacheService<TypeResource>(this.states.types);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { SchemaCacheService } from 'core-app/core/schemas/schema-cache.service';\nimport { PathHelperService } from 'core-app/core/path-helper/path-helper.service';\nimport { QueryOperatorResource } from 'core-app/features/hal/resources/query-operator-resource';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport idFromLink from 'core-app/features/hal/helpers/id-from-link';\nimport { QueryFilterInstanceSchemaResource } from 'core-app/features/hal/resources/query-filter-instance-schema-resource';\nimport { QueryFilterResource } from 'core-app/features/hal/resources/query-filter-resource';\n\nexport class QueryFilterInstanceResource extends HalResource {\n  public filter:QueryFilterResource;\n\n  public operator:QueryOperatorResource;\n\n  public values:HalResource[]|string[];\n\n  private memoizedCurrentSchemas:{ [key:string]:QueryFilterInstanceSchemaResource } = {};\n\n  @InjectField(SchemaCacheService) schemaCache:SchemaCacheService;\n\n  @InjectField(PathHelperService) pathHelper:PathHelperService;\n\n  public $initialize(source:any) {\n    super.$initialize(source);\n\n    this.$links.schema = {\n      href: `${this.pathHelper.api.v3.apiV3Base}/queries/filter_instance_schemas/${idFromLink(this.filter.href)}`,\n    };\n  }\n\n  public get id():string {\n    return this.filter.id;\n  }\n\n  public get name():string {\n    return this.filter.name;\n  }\n\n  /**\n   * Get the complete current schema.\n   *\n   * The filter instance's schema is made up of a static and a variable part.\n   * The variable part depends on the currently selected operator.\n   * Therefore, the schema differs based on the selected operator.\n   */\n  public get currentSchema():QueryFilterInstanceSchemaResource|null {\n    if (!this.operator) {\n      return null;\n    }\n\n    const key = this.operator.href!.toString();\n\n    if (this.memoizedCurrentSchemas[key] === undefined) {\n      try {\n        this.memoizedCurrentSchemas[key] = this.schemaCache.of(this).resultingSchema(this.operator);\n      } catch (e) {\n        console.error(`Failed to access filter schema${e}`);\n      }\n    }\n\n    return this.memoizedCurrentSchemas[key];\n  }\n\n  public isCompletelyDefined() {\n    return this.values.length || (this.currentSchema && !this.currentSchema.isValueRequired());\n  }\n\n  public findOperator(operatorSymbol:string):QueryOperatorResource|undefined {\n    return _.find(this.schemaCache.of(this).availableOperators, (operator:QueryOperatorResource) => operator.id === operatorSymbol) as QueryOperatorResource|undefined;\n  }\n\n  public isTemplated() {\n    let flag = false;\n    (this.values as any[]).find((value:any) => {\n      const href:string = value?.href || value.toString() || '';\n      flag = href.includes('{id}');\n    });\n    return flag;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { QueryColumn } from 'core-app/features/work-packages/components/wp-query/query-column';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { HighlightingMode } from 'core-app/features/work-packages/components/wp-fast-table/builders/highlighting/highlighting-mode.const';\nimport { QueryOrder } from 'core-app/core/apiv3/endpoints/queries/apiv3-query-order';\nimport { WorkPackageCollectionResource } from 'core-app/features/hal/resources/wp-collection-resource';\nimport { QueryFilterInstanceResource } from 'core-app/features/hal/resources/query-filter-instance-resource';\nimport { ProjectResource } from 'core-app/features/hal/resources/project-resource';\nimport { QuerySortByResource } from 'core-app/features/hal/resources/query-sort-by-resource';\nimport { QueryGroupByResource } from 'core-app/features/hal/resources/query-group-by-resource';\n\nexport interface QueryResourceEmbedded {\n  results:WorkPackageCollectionResource;\n  columns:QueryColumn[];\n  groupBy:QueryGroupByResource|undefined;\n  project:ProjectResource;\n  sortBy:QuerySortByResource[];\n  filters:QueryFilterInstanceResource[];\n}\n\nexport type TimelineZoomLevel = 'days'|'weeks'|'months'|'quarters'|'years'|'auto';\n\nexport interface TimelineLabels {\n  left:string|null;\n  right:string|null;\n  farRight:string|null;\n}\n\nexport class QueryResource extends HalResource {\n  public $embedded:QueryResourceEmbedded;\n\n  public results:WorkPackageCollectionResource;\n\n  public columns:QueryColumn[];\n\n  public groupBy:QueryGroupByResource|undefined;\n\n  public sortBy:QuerySortByResource[];\n\n  public setSortBy(newSortBy:QuerySortByResource[]):void {\n    this.sortBy = newSortBy;\n  }\n\n  public filters:QueryFilterInstanceResource[];\n\n  public starred:boolean;\n\n  public sums:boolean;\n\n  public hasError:boolean;\n\n  public timelineVisible:boolean;\n\n  public timelineZoomLevel:TimelineZoomLevel;\n\n  public highlightingMode:HighlightingMode;\n\n  public highlightedAttributes:HalResource[]|undefined;\n\n  public displayRepresentation:string|undefined;\n\n  public timelineLabels:TimelineLabels;\n\n  public showHierarchies:boolean;\n\n  public public:boolean;\n\n  public hidden:boolean;\n\n  public project:ProjectResource;\n\n  public includeSubprojects:boolean;\n\n  public ordered_work_packages:QueryOrder;\n\n  public $initialize(source:any) {\n    super.$initialize(source);\n\n    this.filters = this\n      .filters\n      .map((filter:unknown) => new QueryFilterInstanceResource(\n        this.injector,\n        filter,\n        true,\n        this.halInitializer,\n        'QueryFilterInstance',\n      ));\n  }\n}\n\nexport interface QueryResourceLinks {\n  updateImmediately?(attributes:any):Promise<any>;\n}\n\nexport interface QueryResource extends QueryResourceLinks {}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Injector } from '@angular/core';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { HttpClient } from '@angular/common/http';\nimport { SimpleResource } from 'core-app/core/apiv3/paths/path-resources';\n\nexport type QueryOrder = { [wpId:string]:number };\n\nexport class ApiV3QueryOrder extends SimpleResource {\n  @InjectField() http:HttpClient;\n\n  constructor(readonly injector:Injector,\n    readonly basePath:string,\n    readonly id:string|number) {\n    super(basePath, id);\n  }\n\n  public get():Promise<QueryOrder> {\n    return this.http\n      .get<QueryOrder>(\n      this.path,\n    )\n      .toPromise()\n      .then((result) => result || {});\n  }\n\n  public update(delta:QueryOrder):Promise<string> {\n    return this.http\n      .patch(\n        this.path,\n        { delta },\n        { withCredentials: true },\n      )\n      .toPromise()\n      .then((response:{ t:string }) => response.t);\n  }\n\n  public delete(id:string, ...wpIds:string[]) {\n    const delta:QueryOrder = {};\n    wpIds.forEach((id) => delta[id] = -1);\n\n    return this.update(delta);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { QueryFormResource } from 'core-app/features/hal/resources/query-form-resource';\nimport {\n  QueryFilterInstanceSchemaResource,\n\n} from 'core-app/features/hal/resources/query-filter-instance-schema-resource';\nimport { QueryResource } from 'core-app/features/hal/resources/query-resource';\nimport { QueryFilterInstanceResource } from 'core-app/features/hal/resources/query-filter-instance-resource';\nimport { SchemaCacheService } from 'core-app/core/schemas/schema-cache.service';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\n\n@Injectable()\nexport class QueryFiltersService {\n  constructor(protected schemaCache:SchemaCacheService) {\n  }\n\n  /**\n   * Get the matching schema of the filter resource\n   * from the schema\n   */\n  private getFilterSchema(filter:QueryFilterInstanceResource, form:QueryFormResource):QueryFilterInstanceSchemaResource|undefined {\n    const available = form.$embedded.schema.filtersSchemas.elements;\n    return _.find(available, (schema) => schema.allowedFilterValue.href === filter.filter.href);\n  }\n\n  /**\n   * Prepares the schemas of each filter to be readily placed to make alterations\n   * to the filter based on the filter e.g. when sending an updated filter to the backend.\n   * @param query\n   * @param form\n   */\n  public mapSchemasIntoFilters(query:QueryResource, form:QueryFormResource) {\n    query.filters.forEach((filter) => {\n      const schema = this.getFilterSchema(filter, form)!;\n      filter.$links.schema = schema.$links.self;\n      this.schemaCache.update(filter, schema);\n    });\n  }\n\n  public setSchemas(schemas:CollectionResource<QueryFilterInstanceSchemaResource>) {\n    schemas.elements.forEach((schema) => {\n      this.schemaCache.updateValue(schema.$links.self.href!, schema);\n    });\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { QueryResource } from 'core-app/features/hal/resources/query-resource';\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { QueryFormResource } from 'core-app/features/hal/resources/query-form-resource';\nimport { Observable } from 'rxjs';\nimport * as URI from 'urijs';\nimport { map, tap } from 'rxjs/operators';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { QueryFiltersService } from 'core-app/features/work-packages/components/wp-query/query-filters.service';\n\nexport class ApiV3QueryForm extends ApiV3FormResource<QueryFormResource> {\n  @InjectField() private queryFilters:QueryFiltersService;\n\n  /**\n   * Load the query form for the given existing (or new) query resource\n   * @param query\n   */\n  public load(query:QueryResource):Observable<[QueryFormResource, QueryResource]> {\n    // We need a valid payload so that we\n    // can check whether form saving is possible.\n    // The query needs a name to be valid.\n    const payload:any = {\n      name: query.name || '!!!__O__o__O__!!!',\n    };\n\n    if (query.project) {\n      payload._links = {\n        project: {\n          href: query.project.href,\n        },\n      };\n    }\n\n    const { path } = this.apiRoot.queries.withOptionalId(query.id).form;\n    return this.halResourceService\n      .post<QueryFormResource>(path, payload)\n      .pipe(\n        tap((form) => this.queryFilters.setSchemas(form.$embedded.schema.$embedded.filtersSchemas)),\n        map((form) => [form, this.buildQueryResource(form)]),\n      );\n  }\n\n  /**\n   * Load the query form only with the given query props.\n   *\n   * @param params\n   * @param queryId\n   * @param projectIdentifier\n   * @param payload\n   */\n  public loadWithParams(params:{ [key:string]:unknown }, queryId:string|null|undefined, projectIdentifier:string|undefined|null, payload:any = {}):Observable<[QueryFormResource, QueryResource]> {\n    // We need a valid payload so that we\n    // can check whether form saving is possible.\n    // The query needs a name to be valid.\n    if (!queryId && !payload.name) {\n      payload.name = '!!!__O__o__O__!!!';\n    }\n\n    if (projectIdentifier) {\n      payload._links = payload._links || {};\n      payload._links.project = {\n        href: this.apiRoot.projects.id(projectIdentifier).toString(),\n      };\n    }\n\n    const { path } = this.apiRoot.queries.withOptionalId(queryId).form;\n    const href = URI(path).search(params).toString();\n    return this.halResourceService\n      .post<QueryFormResource>(href, payload)\n      .pipe(\n        tap((form) => this.queryFilters.setSchemas(form.$embedded.schema.$embedded.filtersSchemas)),\n        map((form) => [form, this.buildQueryResource(form)]),\n      );\n  }\n\n  protected buildQueryResource(form:QueryFormResource):QueryResource {\n    return this.halResourceService.createHalResourceOfType<QueryResource>('Query', form.payload);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { QueryResource } from 'core-app/features/hal/resources/query-resource';\nimport { ApiV3QueryOrder } from 'core-app/core/apiv3/endpoints/queries/apiv3-query-order';\nimport { ApiV3QueryForm } from 'core-app/core/apiv3/endpoints/queries/apiv3-query-form';\nimport { Observable } from 'rxjs';\nimport { QueryFormResource } from 'core-app/features/hal/resources/query-form-resource';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { QueryFiltersService } from 'core-app/features/work-packages/components/wp-query/query-filters.service';\nimport { HalPayloadHelper } from 'core-app/features/hal/schemas/hal-payload.helper';\nimport { PaginationObject } from 'core-app/shared/components/table-pagination/pagination-service';\n\nexport class ApiV3QueryPaths extends ApiV3GettableResource<QueryResource> {\n  @InjectField() private queryFilters:QueryFiltersService;\n\n  // Static paths\n  readonly form = this.subResource('form', ApiV3QueryForm);\n\n  // Order path\n  readonly order = new ApiV3QueryOrder(this.injector, this.path, 'order');\n\n  /**\n   * Stream the response for the given query request\n   * @param queryData\n   */\n  public parameterised(params:Object):Observable<QueryResource> {\n    return this.halResourceService\n      .get<QueryResource>(this.path, params);\n  }\n\n  /**\n   * Update the given query\n   * @param query\n   * @param form\n   */\n  public patch(payload:QueryResource|Object, form?:QueryFormResource):Observable<QueryResource> {\n    if (payload instanceof QueryResource && form) {\n      // Extracting requires having the filter schemas loaded as the dependencies\n      this.queryFilters.mapSchemasIntoFilters(payload, form);\n      payload = HalPayloadHelper.extractPayloadFromSchema(payload, form.schema);\n    }\n\n    return this\n      .halResourceService\n      .patch<QueryResource>(this.path, payload);\n  }\n\n  /**\n   * Delete the query\n   */\n  public delete() {\n    return this\n      .halResourceService\n      .delete(this.path);\n  }\n\n  /**\n   * Reload with a given pagination\n   * @param pagination\n   */\n  public paginated(pagination:PaginationObject):Observable<QueryResource> {\n    return this.parameterised(pagination);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource, ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3QueryPaths } from 'core-app/core/apiv3/endpoints/queries/apiv3-query-paths';\nimport { QueryResource } from 'core-app/features/hal/resources/query-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3QueryForm } from 'core-app/core/apiv3/endpoints/queries/apiv3-query-form';\nimport { Observable } from 'rxjs';\nimport { QueryFormResource } from 'core-app/features/hal/resources/query-form-resource';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { ApiV3ListParameters, listParamsString } from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { QueryFiltersService } from 'core-app/features/work-packages/components/wp-query/query-filters.service';\nimport { HalPayloadHelper } from 'core-app/features/hal/schemas/hal-payload.helper';\n\nexport class ApiV3QueriesPaths extends ApiV3ResourceCollection<QueryResource, ApiV3QueryPaths> {\n  @InjectField() private queryFilters:QueryFiltersService;\n\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'queries', ApiV3QueryPaths);\n  }\n\n  // Static paths\n  // /api/v3/queries/form\n  readonly form = this.subResource('form', ApiV3QueryForm);\n\n  // /api/v3/queries/default\n  readonly default = this.subResource<ApiV3GettableResource<QueryResource>>('default');\n\n  // /api/v3/queries/filter_instance_schemas/:id\n  readonly filter_instance_schemas = new ApiV3ResourceCollection(this.apiRoot, this.path, 'filter_instance_schemas');\n\n  /**\n   * Load a list of queries with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<QueryResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<QueryResource>>(this.path + listParamsString(params));\n  }\n\n  /**\n   * Locate a query for the response for the given query request.\n   * This might be the default query or an existing query identified by its ID.\n   * @param queryData\n   * @param queryId\n   * @param projectIdentifier\n   */\n  public find(queryData:Object, queryId?:string|null, projectIdentifier?:string|null|undefined):Observable<QueryResource> {\n    let path:string;\n\n    if (queryId) {\n      path = this.apiRoot.queries.id(queryId).toString();\n    } else {\n      path = this.apiRoot.withOptionalProject(projectIdentifier).queries.default.toString();\n    }\n\n    return this\n      .halResourceService\n      .get<QueryResource>(path, queryData);\n  }\n\n  /**\n   * Stream the response for the given query request\n   *\n   * @param params\n   */\n  public parameterised(params:Object):Observable<QueryResource> {\n    return this.halResourceService\n      .get<QueryResource>(\n      this.default.path,\n      params,\n    );\n  }\n\n  /**\n   * Create a new query resource\n   *\n   * @param payload Payload object or query HAL resource\n   * @param form Form resource, needed when QueryResource is passed\n   */\n  public post(payload:QueryResource|Object, form?:QueryFormResource):Observable<QueryResource> {\n    if (payload instanceof QueryResource && form) {\n      // Extracting requires having the filter schemas loaded as the dependencies\n      this.queryFilters.mapSchemasIntoFilters(payload, form);\n      payload = HalPayloadHelper.extractPayloadFromSchema(payload, form.schema);\n    }\n\n    return this\n      .halResourceService\n      .post<QueryResource>(\n      this.apiRoot.queries.path, payload,\n    );\n  }\n\n  /**\n   * Invert the starred state of the given query\n   *\n   * @param query\n   */\n  public toggleStarred(query:QueryResource):Promise<unknown> {\n    if (query.starred) {\n      return query.unstar();\n    }\n    return query.star();\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource, ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { from, Observable } from 'rxjs';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { RelationResource } from 'core-app/features/hal/resources/relation-resource';\nimport { map } from 'rxjs/operators';\nimport { ApiV3Filter } from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\n\nexport class ApiV3RelationsPaths extends ApiV3ResourceCollection<RelationResource, ApiV3GettableResource<RelationResource>> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'relations');\n  }\n\n  /**\n   * Get all versions\n   */\n  public get():Observable<CollectionResource<RelationResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<RelationResource>>(this.path);\n  }\n\n  public loadInvolved(workPackageIds:string[]):Observable<RelationResource[]> {\n    const validIds = _.filter(workPackageIds, (id) => /\\d+/.test(id));\n\n    if (validIds.length === 0) {\n      return from([]);\n    }\n\n    return this\n      .filtered(\n        ApiV3Filter('involved', '=', validIds),\n      )\n      .getPaginatedResults();\n  }\n}\n","import { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { FormResource } from 'core-app/features/hal/resources/form-resource';\nimport { Observable } from 'rxjs';\nimport { HalSource } from 'core-app/features/hal/resources/hal-resource';\n\nexport class ApiV3WorkPackageForm extends ApiV3FormResource {\n  /**\n   * Returns a promise to post `/api/v3/work_packages/form` with only the type part of the\n   * provided payload being sent to the backend.\n   *\n   * @param payload: The payload to be sent to the backend\n   * @returns A work package form resource prefilled with the provided payload.\n   */\n  public forTypePayload(payload:HalSource):Observable<FormResource> {\n    const typePayload = payload._links.type ? { _links: { type: payload._links.type } } : { _links: {} };\n\n    return this.post(payload);\n  }\n\n  /**\n   * Returns a promise to post `/api/v3/work_packages/form` where the\n   * payload sent to the backend has been provided.\n   *\n   * @param payload: The payload to be sent to the backend\n   * @returns A work package form resource prefilled with the provided payload.\n   */\n  public forPayload(payload:Partial<HalSource>):Observable<FormResource> {\n    return this.post(payload);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { WorkPackageResource } from 'core-app/features/hal/resources/work-package-resource';\nimport { ApiV3RelationsPaths } from 'core-app/core/apiv3/endpoints/relations/apiv3-relations-paths';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { ApiV3WorkPackagesPaths } from 'core-app/core/apiv3/endpoints/work_packages/api-v3-work-packages-paths';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { ApiV3WorkPackageForm } from 'core-app/core/apiv3/endpoints/work_packages/apiv3-work-package-form';\n\nexport class ApiV3WorkPackagePaths extends ApiV3Resource<WorkPackageResource> {\n  // /api/v3/(?:projectPath)/work_packages/(:workPackageId)/relations\n  public readonly relations = this.subResource('relations', ApiV3RelationsPaths);\n\n  // /api/v3/(?:projectPath)/work_packages/(:workPackageId)/revisions\n  public readonly revisions = this.subResource('revisions');\n\n  // /api/v3/(?:projectPath)/work_packages/(:workPackageId)/activities\n  public readonly activities = this.subResource('activities');\n\n  // /api/v3/(?:projectPath)/work_packages/(:workPackageId)/available_watchers\n  public readonly available_watchers = this.subResource('available_watchers');\n\n  // /api/v3/(?:projectPath)/work_packages/(:workPackageId)/available_projects\n  public readonly available_projects = this.subResource('available_projects');\n\n  // /api/v3/(?:projectPath)/work_packages/(:workPackageId)/github_pull_requests\n  public readonly github_pull_requests = this.subResource('github_pull_requests');\n\n  // /api/v3/(projects/:projectIdentifier)/work_packages/(:workPackageId)/form\n  public readonly form:ApiV3WorkPackageForm = this.subResource('form', ApiV3WorkPackageForm);\n\n  protected createCache():StateCacheService<WorkPackageResource> {\n    return (this.parent as ApiV3WorkPackagesPaths).cache;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { MultiInputState } from '@openproject/reactivestates';\nimport { WorkPackageResource } from 'core-app/features/hal/resources/work-package-resource';\nimport { Injectable, Injector } from '@angular/core';\nimport { debugLog } from 'core-app/shared/helpers/debug_output';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { SchemaCacheService } from 'core-app/core/schemas/schema-cache.service';\nimport isNewResource from 'core-app/features/hal/helpers/is-new-resource';\n\n@Injectable()\nexport class WorkPackageCache extends StateCacheService<WorkPackageResource> {\n  @InjectField() private schemaCacheService:SchemaCacheService;\n\n  constructor(readonly injector:Injector,\n    state:MultiInputState<WorkPackageResource>) {\n    super(state);\n  }\n\n  updateValue(id:string, val:WorkPackageResource):Promise<WorkPackageResource> {\n    return this.schemaCacheService.ensureLoaded(val).then(() => {\n      this.putValue(id, val);\n      return val;\n    });\n  }\n\n  updateWorkPackage(wp:WorkPackageResource, immediate = false):Promise<WorkPackageResource> {\n    if (immediate || isNewResource(wp)) {\n      return super.updateValue(wp.id!, wp);\n    }\n    return this.updateValue(wp.id!, wp);\n  }\n\n  updateWorkPackageList(list:WorkPackageResource[], skipOnIdentical = true) {\n    list.forEach((i) => {\n      const wp = i;\n      const workPackageId = wp.id!;\n      const state = this.multiState.get(workPackageId);\n\n      // If the work package is new, ignore the schema\n      if (isNewResource(wp)) {\n        state.putValue(wp);\n        return;\n      }\n\n      // Ensure the schema is loaded\n      // so that no consumer needs to call schema#$load manually\n      this.schemaCacheService.ensureLoaded(wp).then(() => {\n        // Check if the work package has changed\n        if (skipOnIdentical && state.hasValue() && _.isEqual(state.value!.$source, wp.$source)) {\n          debugLog('Skipping identical work package from updating');\n          return;\n        }\n\n        state.putValue(wp);\n      });\n    });\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { WorkPackageCollectionResource } from 'core-app/features/hal/resources/wp-collection-resource';\nimport { Observable } from 'rxjs';\nimport { ApiV3WorkPackagesPaths } from 'core-app/core/apiv3/endpoints/work_packages/api-v3-work-packages-paths';\nimport { take, tap } from 'rxjs/operators';\nimport { WorkPackageCache } from 'core-app/core/apiv3/endpoints/work_packages/work-package.cache';\nimport { States } from 'core-app/core/states/states.service';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\n\nexport class ApiV3WorkPackageCachedSubresource extends ApiV3GettableResource<WorkPackageCollectionResource> {\n  @InjectField() private states:States;\n\n  public get():Observable<WorkPackageCollectionResource> {\n    return this\n      .halResourceService\n      .get<WorkPackageCollectionResource>(this.path)\n      .pipe(\n        tap((collection) => collection.schemas && this.updateSchemas(collection.schemas)),\n        tap((collection) => this.cache.updateWorkPackageList(collection.elements)),\n        take(1),\n      );\n  }\n\n  protected get cache():WorkPackageCache {\n    return (this.parent as unknown as ApiV3WorkPackagesPaths).cache;\n  }\n\n  private updateSchemas(schemas:CollectionResource<SchemaResource>) {\n    schemas.elements.forEach((schema) => {\n      this.states.schemas.get(schema.href as string).putValue(schema);\n    });\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Observable } from 'rxjs';\nimport { ApiV3WorkPackagePaths } from 'core-app/core/apiv3/endpoints/work_packages/api-v3-work-package-paths';\nimport { WorkPackageResource } from 'core-app/features/hal/resources/work-package-resource';\nimport { WorkPackageCollectionResource } from 'core-app/features/hal/resources/wp-collection-resource';\nimport { ApiV3WorkPackageForm } from 'core-app/core/apiv3/endpoints/work_packages/apiv3-work-package-form';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3Collection } from 'core-app/core/apiv3/cache/cachable-apiv3-collection';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { WorkPackageCache } from 'core-app/core/apiv3/endpoints/work_packages/work-package.cache';\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3WorkPackageCachedSubresource } from 'core-app/core/apiv3/endpoints/work_packages/api-v3-work-package-cached-subresource';\nimport {\n  ApiV3FilterBuilder,\n  ApiV3FilterValueType,\n  ApiV3Filter,\n} from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\n\nexport class ApiV3WorkPackagesPaths extends ApiV3Collection<WorkPackageResource, ApiV3WorkPackagePaths, WorkPackageCache> {\n  // Base path\n  public readonly path:string;\n\n  constructor(readonly apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'work_packages', ApiV3WorkPackagePaths);\n  }\n\n  // Static paths\n\n  // /api/v3/(projects/:projectIdentifier)/work_packages/form\n  public readonly form:ApiV3WorkPackageForm = this.subResource('form', ApiV3WorkPackageForm);\n\n  /**\n   *\n   * Load a collection of work packages and put them all into cache\n   *\n   * @param ids\n   */\n  public requireAll(ids:string[]):Promise<unknown> {\n    if (ids.length === 0) {\n      return Promise.resolve();\n    }\n\n    return new Promise<undefined>((resolve, reject) => {\n      this\n        .loadCollectionsFor(_.uniq(ids))\n        .then((pagedResults:WorkPackageCollectionResource[]) => {\n          _.each(pagedResults, (results) => {\n            if (results.schemas) {\n              _.each(results.schemas.elements, (schema:SchemaResource) => {\n                this.states.schemas.get(schema.href as string).putValue(schema);\n              });\n            }\n\n            if (results.elements) {\n              this.cache.updateWorkPackageList(results.elements);\n            }\n          });\n\n          resolve(undefined);\n        }, reject);\n    });\n  }\n\n  /**\n   * Create a work package from a form payload\n   *\n   * @param payload\n   * @return {Promise<WorkPackageResource>}\n   */\n  public post(payload:object):Observable<WorkPackageResource> {\n    return this\n      .halResourceService\n      .post<WorkPackageResource>(this.path, payload)\n      .pipe(\n        this.cacheResponse(),\n      );\n  }\n\n  filtered<R = ApiV3GettableResource<WorkPackageCollectionResource>>(filters:ApiV3FilterBuilder, params:{ [p:string]:string } = {}):R {\n    return super.filtered(filters, params, ApiV3WorkPackageCachedSubresource) as any;\n  }\n\n  /**\n   * Shortcut to filter work packages by subject or ID\n   * @param term\n   * @param idOnly\n   * @param additionalParams Additional set of params to the API\n   */\n  public filterByTypeaheadOrId(term:string, idOnly = false, additionalParams:{ [key:string]:string } = {}):ApiV3WorkPackageCachedSubresource {\n    const filters:ApiV3FilterBuilder = new ApiV3FilterBuilder();\n\n    if (idOnly) {\n      filters.add('id', '=', [term]);\n    } else {\n      filters.add('typeahead', '**', [term]);\n    }\n\n    const params = {\n      sortBy: '[[\"updatedAt\",\"desc\"]]',\n      offset: '1',\n      pageSize: '10',\n      ...additionalParams,\n    };\n\n    return this.filtered(filters, params);\n  }\n\n  /**\n   * Returns work packages within the ids array to be updated since <timestamp>\n   * @param ids work package IDs to filter for\n   * @param timestamp The timestamp to clip at\n   */\n  public filterUpdatedSince(ids:(string|null)[], timestamp:ApiV3FilterValueType):ApiV3WorkPackageCachedSubresource {\n    const filters = new ApiV3FilterBuilder()\n      .add('id', '=', (ids.filter((n) => n) as string[]))\n      .add('updatedAt', '<>d', [timestamp, '']);\n\n    const params = {\n      offset: '1',\n      pageSize: '10',\n    };\n\n    return this.filtered(filters, params);\n  }\n\n  /**\n   * Loads the work packages collection for the given work package IDs.\n   * Returns a WP Collection with schemas and results embedded.\n   *\n   * @param ids\n   * @return {WorkPackageCollectionResource[]}\n   */\n  protected loadCollectionsFor(ids:string[]):Promise<WorkPackageCollectionResource[]> {\n    return this\n      .halResourceService\n      .getAllPaginated(\n        this.path,\n        { filters: ApiV3Filter('id', '=', ids).toJson() },\n      )\n      .toPromise() as Promise<WorkPackageCollectionResource[]>;\n  }\n\n  protected createCache():WorkPackageCache {\n    return new WorkPackageCache(this.injector, this.states.workPackages);\n  }\n\n  // /api/v3/(?:projectPath)/work_packages/(:workPackageId)/available_projects\n  public readonly available_projects = this.subResource('available_projects');\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { VersionResource } from 'core-app/features/hal/resources/version-resource';\nimport { Observable } from 'rxjs';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { tap } from 'rxjs/operators';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\n\nexport class ApiV3VersionPaths extends ApiV3Resource<VersionResource> {\n  /**\n   * Update a version resource with the given payload\n   *\n   * @param resource\n   * @param payload\n   */\n  public patch(payload:Object):Observable<VersionResource> {\n    return this\n      .halResourceService\n      .patch<VersionResource>(\n      this.path,\n      payload,\n    )\n      .pipe(\n        tap((version) => this.touch(version)),\n      );\n  }\n\n  protected createCache():StateCacheService<VersionResource> {\n    return new StateCacheService<VersionResource>(this.states.versions);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { VersionResource } from 'core-app/features/hal/resources/version-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { Observable } from 'rxjs';\nimport { WorkPackageResource } from 'core-app/features/hal/resources/work-package-resource';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { ApiV3AvailableProjectsPaths } from 'core-app/core/apiv3/endpoints/projects/apiv3-available-projects-paths';\nimport { ApiV3VersionPaths } from 'core-app/core/apiv3/endpoints/versions/apiv3-version-paths';\n\nexport class ApiV3VersionsPaths extends ApiV3ResourceCollection<VersionResource, ApiV3VersionPaths> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'versions', ApiV3VersionPaths);\n  }\n\n  // /api/v3/versions/form\n  public readonly form = this.subResource('form', ApiV3FormResource);\n\n  public readonly available_projects = this.subResource('available_projects', ApiV3AvailableProjectsPaths);\n\n  /**\n   * Get all versions\n   */\n  public get():Observable<CollectionResource<VersionResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<VersionResource>>(this.path);\n  }\n\n  /**\n   * Create a version from the given payload\n   *\n   * @param payload\n   * @return {Promise<WorkPackageResource>}\n   */\n  public post(payload:Object):Observable<VersionResource> {\n    return this\n      .halResourceService\n      .post<VersionResource>(this.path, payload);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3FormResource } from 'core-app/core/apiv3/forms/apiv3-form-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { SimpleResource } from 'core-app/core/apiv3/paths/path-resources';\n\nexport class ApiV3ProjectCopyPaths extends SimpleResource {\n  constructor(protected apiRoot:ApiV3Service,\n    public basePath:string) {\n    super(basePath, 'copy');\n  }\n\n  // /api/v3/projects/:project_id/copy/form\n  public readonly form = new ApiV3FormResource(this.apiRoot, this.path, 'form');\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3QueriesPaths } from 'core-app/core/apiv3/endpoints/queries/apiv3-queries-paths';\nimport { ApiV3TypesPaths } from 'core-app/core/apiv3/endpoints/types/apiv3-types-paths';\nimport { ApiV3WorkPackagesPaths } from 'core-app/core/apiv3/endpoints/work_packages/api-v3-work-packages-paths';\nimport { ProjectResource } from 'core-app/features/hal/resources/project-resource';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { ApiV3VersionsPaths } from 'core-app/core/apiv3/endpoints/versions/apiv3-versions-paths';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { ApiV3ProjectsPaths } from 'core-app/core/apiv3/endpoints/projects/apiv3-projects-paths';\nimport { ApiV3ProjectCopyPaths } from 'core-app/core/apiv3/endpoints/projects/apiv3-project-copy-paths';\n\nexport class ApiV3ProjectPaths extends ApiV3Resource<ProjectResource> {\n  // /api/v3/projects/:project_id/available_assignees\n  public readonly available_assignees = this.subResource('available_assignees');\n\n  // /api/v3/projects/:project_id/queries\n  public readonly queries = new ApiV3QueriesPaths(this.apiRoot, this.path);\n\n  // /api/v3/projects/:project_id/types\n  public readonly types = new ApiV3TypesPaths(this.apiRoot, this.path);\n\n  // /api/v3/projects/:project_id/work_packages\n  public readonly work_packages = new ApiV3WorkPackagesPaths(this.apiRoot, this.path);\n\n  // /api/v3/projects/:project_id/versions\n  public readonly versions = new ApiV3VersionsPaths(this.apiRoot, this.path);\n\n  // /api/v3/projects/:project_id/copy\n  public readonly copy = new ApiV3ProjectCopyPaths(this.apiRoot, this.path);\n\n  protected createCache():StateCacheService<ProjectResource> {\n    return (this.parent as ApiV3ProjectsPaths).cache;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { MultiInputState } from '@openproject/reactivestates';\nimport { Injectable, Injector } from '@angular/core';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { SchemaCacheService } from 'core-app/core/schemas/schema-cache.service';\nimport { ProjectResource } from 'core-app/features/hal/resources/project-resource';\n\n@Injectable()\nexport class ProjectCache extends StateCacheService<ProjectResource> {\n  @InjectField() private schemaCacheService:SchemaCacheService;\n\n  constructor(readonly injector:Injector,\n    state:MultiInputState<ProjectResource>) {\n    super(state);\n  }\n\n  updateValue(id:string, val:ProjectResource):Promise<ProjectResource> {\n    return this.schemaCacheService.ensureLoaded(val).then(() => {\n      this.putValue(id, val);\n      return val;\n    });\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ProjectPaths } from 'core-app/core/apiv3/endpoints/projects/apiv3-project-paths';\nimport { ProjectResource } from 'core-app/features/hal/resources/project-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { Observable } from 'rxjs';\nimport { ApiV3Collection } from 'core-app/core/apiv3/cache/cachable-apiv3-collection';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { ProjectCache } from 'core-app/core/apiv3/endpoints/projects/project.cache';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\n\nexport class ApiV3ProjectsPaths\n  extends ApiV3Collection<ProjectResource, ApiV3ProjectPaths>\n  implements ApiV3ListResourceInterface<ProjectResource> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'projects', ApiV3ProjectPaths);\n  }\n\n  // /api/v3/projects/schema\n  public readonly schema = this.subResource<SchemaResource>('schema');\n\n  /**\n   * Load a list of project with a given list parameter filter\n   *\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<ProjectResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<ProjectResource>>(this.path + listParamsString(params))\n      .pipe(\n        this.cacheResponse(),\n      );\n  }\n\n  protected createCache():StateCacheService<ProjectResource> {\n    return new ProjectCache(this.injector, this.states.projects);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { StatusResource } from 'core-app/features/hal/resources/status-resource';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\n\nexport class ApiV3StatusPaths extends ApiV3Resource<StatusResource> {\n  protected createCache():StateCacheService<StatusResource> {\n    return new StateCacheService<StatusResource>(this.states.statuses);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { StatusResource } from 'core-app/features/hal/resources/status-resource';\nimport { ApiV3StatusPaths } from 'core-app/core/apiv3/endpoints/statuses/apiv3-status-paths';\nimport { Observable } from 'rxjs';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { tap } from 'rxjs/operators';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\n\nexport class ApiV3StatusesPaths extends ApiV3ResourceCollection<StatusResource, ApiV3StatusPaths> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'statuses', ApiV3StatusPaths);\n  }\n\n  /**\n   * Perform a request to the HalResourceService with the current path\n   */\n  public get():Observable<CollectionResource<StatusResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<StatusResource>>(this.path)\n      .pipe(\n        tap((collection) => {\n          collection.elements.forEach((resource, id) => {\n            this.id(resource.id!).cache.updateValue(resource.id!, resource);\n          });\n        }),\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { RoleResource } from 'core-app/features/hal/resources/role-resource';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\n\nexport class ApiV3RolePaths extends ApiV3Resource<RoleResource> {\n  protected createCache():StateCacheService<RoleResource> {\n    return new StateCacheService<RoleResource>(this.states.roles);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { RoleResource } from 'core-app/features/hal/resources/role-resource';\nimport { ApiV3RolePaths } from 'core-app/core/apiv3/endpoints/roles/apiv3-role-paths';\nimport { Observable } from 'rxjs';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { tap } from 'rxjs/operators';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\n\nexport class ApiV3RolesPaths extends ApiV3ResourceCollection<RoleResource, ApiV3RolePaths> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'roles', ApiV3RolePaths);\n  }\n\n  /**\n   * Perform a request to the HalResourceService with the current path\n   */\n  public get():Observable<CollectionResource<RoleResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<RoleResource>>(this.path)\n      .pipe(\n        tap((collection) => {\n          collection.elements.forEach((resource, id) => {\n            this.id(resource.id!).cache.updateValue(resource.id!, resource);\n          });\n        }),\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource, ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { TimeEntryResource } from 'core-app/features/hal/resources/time-entry-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { Observable } from 'rxjs';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { NewsResource } from 'core-app/features/hal/resources/news-resource';\n\nexport class ApiV3NewsPaths\n  extends ApiV3ResourceCollection<NewsResource, ApiV3GettableResource<NewsResource>>\n  implements ApiV3ListResourceInterface<NewsResource> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'news');\n  }\n\n  /**\n   * Load a list of time entries with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<NewsResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<TimeEntryResource>>(this.path + listParamsString(params));\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource, ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { Observable } from 'rxjs';\nimport { HelpTextResource } from 'core-app/features/hal/resources/help-text-resource';\n\nexport class ApiV3HelpTextsPaths\n  extends ApiV3ResourceCollection<HelpTextResource, ApiV3GettableResource<HelpTextResource>> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'help_texts');\n  }\n\n  /**\n   * Load a list of membership entries with a given list parameter filter\n   * @param params\n   */\n  public get():Observable<CollectionResource<HelpTextResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<HelpTextResource>>(this.path);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ConfigurationResource } from 'core-app/features/hal/resources/configuration-resource';\nimport { Observable } from 'rxjs';\nimport { shareReplay } from 'rxjs/operators';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\n\nexport class ApiV3ConfigurationPath extends ApiV3GettableResource<ConfigurationResource> {\n  private $configuration:Observable<ConfigurationResource>;\n\n  constructor(protected apiRoot:ApiV3Service,\n    readonly basePath:string) {\n    super(apiRoot, basePath, 'configuration');\n  }\n\n  public get():Observable<ConfigurationResource> {\n    if (this.$configuration) {\n      return this.$configuration;\n    }\n\n    return this.$configuration = this.halResourceService\n      .get<ConfigurationResource>(this.path)\n      .pipe(\n        shareReplay(),\n      );\n  }\n}\n","import { GridWidgetResource } from 'core-app/features/hal/resources/grid-widget-resource';\nimport { GridResource } from 'core-app/features/hal/resources/grid-resource';\nimport { CardHighlightingMode } from 'core-app/features/work-packages/components/wp-fast-table/builders/highlighting/highlighting-mode.const';\nimport { ApiV3Filter } from 'core-app/shared/helpers/api-v3/api-v3-filter-builder';\n\nexport type BoardType = 'free'|'action';\n\nexport interface BoardWidgetOption {\n  queryId:string;\n  filters:ApiV3Filter[];\n}\n\nexport class Board {\n  constructor(public grid:GridResource) {\n  }\n\n  public get id() {\n    return this.grid.id;\n  }\n\n  public get name() {\n    return this.grid.name;\n  }\n\n  public get editable() {\n    return !!this.grid.updateImmediately;\n  }\n\n  public get isFree() {\n    return !this.isAction;\n  }\n\n  public get isAction() {\n    return this.grid.options.type === 'action';\n  }\n\n  public get actionAttribute():string|undefined {\n    if (this.isFree) {\n      return undefined;\n    }\n\n    return this.grid.options.attribute as string;\n  }\n\n  public set highlightingMode(val:CardHighlightingMode) {\n    this.grid.options.highlightingMode = val;\n  }\n\n  public get highlightingMode():CardHighlightingMode {\n    return (this.grid.options.highlightingMode || 'none') as CardHighlightingMode;\n  }\n\n  public set name(name:string) {\n    this.grid.name = name;\n  }\n\n  public addQuery(widget:GridWidgetResource) {\n    widget.isNewWidget = true;\n    this.grid.widgets.push(widget);\n  }\n\n  public removeQuery(widget:GridWidgetResource) {\n    this.grid.widgets = this.grid.widgets.filter((el) => el.options.queryId !== widget.options.queryId);\n  }\n\n  public get queries():GridWidgetResource[] {\n    return this.grid.widgets;\n  }\n\n  public get createdAt() {\n    return this.grid.createdAt;\n  }\n\n  public get filters():ApiV3Filter[] {\n    return (this.grid.options.filters || []) as ApiV3Filter[];\n  }\n\n  public set filters(filters:ApiV3Filter[]) {\n    this.grid.options.filters = filters;\n  }\n\n  public sortWidgets() {\n    this.grid.widgets = this.grid.widgets.sort((a, b) => a.startColumn - b.startColumn);\n  }\n\n  public showStatusButton() {\n    return this.actionAttribute !== 'status';\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Injectable } from '@angular/core';\nimport { input } from '@openproject/reactivestates';\nimport { Observable } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport type ModelLinks = { [action:string]:any };\nexport type ModelLinksHash = { [model:string]:ModelLinks };\n\n@Injectable({ providedIn: 'root' })\nexport class AuthorisationService {\n  private links = input<ModelLinksHash>({});\n\n  public initModelAuth(modelName:string, modelLinks:ModelLinks) {\n    this.links.doModify((value:ModelLinksHash) => {\n      const links = { ...value };\n      links[modelName] = modelLinks;\n      return links;\n    });\n  }\n\n  public observeUntil(unsubscribe:Observable<any>) {\n    return this.links.values$().pipe(takeUntil(unsubscribe));\n  }\n\n  public can(modelName:string, action:string) {\n    const links:ModelLinksHash = this.links.getValueOr({});\n    return links[modelName] && (action in links[modelName]);\n  }\n\n  public cannot(modelName:string, action:string) {\n    return !this.can(modelName, action);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Board } from 'core-app/features/boards/board/board';\nimport { Observable } from 'rxjs';\nimport { map, switchMap, tap } from 'rxjs/operators';\nimport { SchemaResource } from 'core-app/features/hal/resources/schema-resource';\nimport { ApiV3Resource } from 'core-app/core/apiv3/cache/cachable-apiv3-resource';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { ApiV3BoardsPaths } from 'core-app/core/apiv3/virtual/apiv3-boards-paths';\n\nexport class ApiV3BoardPath extends ApiV3Resource<Board> {\n  /**\n   * Perform a request to the HalResourceService with the current path\n   */\n  protected load():Observable<Board> {\n    return this\n      .apiRoot\n      .grids\n      .id(this.id)\n      .get()\n      .pipe(\n        map((grid) => {\n          const newBoard = new Board(grid);\n\n          newBoard.sortWidgets();\n\n          return newBoard;\n        }),\n      );\n  }\n\n  /**\n   * Save the changes to the board\n   */\n  public save(board:Board):Observable<Board> {\n    return this\n      .fetchSchema(board)\n      .pipe(\n        switchMap((schema:SchemaResource) => this\n          .apiRoot\n          .grids\n          .id(board.grid)\n          .patch(board.grid, schema)),\n        map((grid) => {\n          board.grid = grid;\n          board.sortWidgets();\n          return board;\n        }),\n        this.cacheResponse(),\n      );\n  }\n\n  public delete():Observable<unknown> {\n    return this\n      .apiRoot\n      .grids\n      .id(this.id)\n      .delete()\n      .pipe(\n        tap(() => this.cache.clearSome(this.id.toString())),\n      );\n  }\n\n  private fetchSchema(board:Board):Observable<SchemaResource> {\n    return this\n      .apiRoot\n      .grids\n      .id(board.grid)\n      .form\n      .post({})\n      .pipe(\n        map((form) => form.schema),\n      );\n  }\n\n  protected createCache():StateCacheService<Board> {\n    return (this.parent as ApiV3BoardsPaths).cache;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { GridResource } from 'core-app/features/hal/resources/grid-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { Observable } from 'rxjs';\nimport { ApiV3ListParameters, listParamsString } from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { Board, BoardType } from 'core-app/features/boards/board/board';\nimport { map, switchMap, tap } from 'rxjs/operators';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { AuthorisationService } from 'core-app/core/model-auth/model-auth.service';\nimport { ApiV3Collection } from 'core-app/core/apiv3/cache/cachable-apiv3-collection';\nimport { PathHelperService } from 'core-app/core/path-helper/path-helper.service';\nimport { ApiV3BoardPath } from 'core-app/core/apiv3/virtual/apiv3-board-path';\nimport { StateCacheService } from 'core-app/core/apiv3/cache/state-cache.service';\nimport { MAGIC_PAGE_NUMBER } from 'core-app/core/apiv3/helpers/get-paginated-results';\n\nexport class ApiV3BoardsPaths extends ApiV3Collection<Board, ApiV3BoardPath> {\n  @InjectField() private authorisationService:AuthorisationService;\n\n  @InjectField() private PathHelper:PathHelperService;\n\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'grids', ApiV3BoardPath);\n  }\n\n  /**\n   * Load a list of grids with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<Board[]> {\n    return this\n      .halResourceService\n      .get<CollectionResource<GridResource>>(this.path + listParamsString(params))\n      .pipe(\n        tap((collection) => this.authorisationService.initModelAuth('boards', collection.$links)),\n        map((collection) => collection.elements.map((grid) => {\n          const board = new Board(grid);\n          board.sortWidgets();\n          this.touch(board);\n\n          return board;\n        })),\n      );\n  }\n\n  /**\n   * Return all boards in the current scope of the project\n   *\n   * @param projectIdentifier\n   */\n  public allInScope(projectIdentifier:string):Observable<Board[]> {\n    const path = this.boardPath(projectIdentifier);\n    return this.list({ filters: [['scope', '=', [path]]], pageSize: MAGIC_PAGE_NUMBER });\n  }\n\n  /**\n   * Create a new board\n   * @param type\n   * @param name\n   * @param projectIdentifier\n   */\n  public create(type:BoardType, name:string, projectIdentifier:string, actionAttribute?:string):Observable<Board> {\n    const scope = this.boardPath(projectIdentifier);\n    return this\n      .createGrid(type, name, scope, actionAttribute)\n      .pipe(\n        map((grid) => new Board(grid)),\n      );\n  }\n\n  /**\n   * Retrieve the board path identifier for looking up grids.\n   *\n   * @param projectIdentifier The current project identifier\n   */\n  public boardPath(projectIdentifier:string) {\n    return this.PathHelper.projectBoardsPath(projectIdentifier);\n  }\n\n  protected createCache():StateCacheService<Board> {\n    const state = this.states.forType<Board>('boards');\n    return new StateCacheService<Board>(state);\n  }\n\n  private createGrid(type:BoardType, name:string, scope:string, actionAttribute?:string):Observable<GridResource> {\n    const payload:any = _.set({ name }, '_links.scope.href', scope);\n    payload.options = {\n      type,\n    };\n\n    if (actionAttribute) {\n      payload.options.attribute = actionAttribute;\n    }\n\n    return this\n      .apiRoot\n      .grids\n      .form\n      .post(payload)\n      .pipe(\n        switchMap((form) => this\n          .apiRoot\n          .grids\n          .post(form.payload.$source)),\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { PlaceholderUserResource } from 'core-app/features/hal/resources/placeholder-user-resource';\nimport { Observable } from 'rxjs';\n\nexport class ApiV3PlaceholderUserPaths extends ApiV3GettableResource<PlaceholderUserResource> {\n  /**\n   * Update a placeholder user resource or payload\n   * @param resource\n   */\n  public patch(resource:PlaceholderUserResource|{ name:string }):Observable<PlaceholderUserResource> {\n    return this\n      .halResourceService\n      .patch<PlaceholderUserResource>(this.path, {\n      name: resource.name,\n    });\n  }\n\n  /**\n   * Delete a placeholder user resource\n   */\n  public delete():Observable<unknown> {\n    return this\n      .halResourceService\n      .delete(this.path);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3PlaceholderUserPaths } from 'core-app/core/apiv3/endpoints/placeholder-users/apiv3-placeholder-user-paths';\nimport { PlaceholderUserResource } from 'core-app/features/hal/resources/placeholder-user-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { Observable } from 'rxjs';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\n\nexport class ApiV3PlaceholderUsersPaths\n  extends ApiV3ResourceCollection<PlaceholderUserResource, ApiV3PlaceholderUserPaths>\n  implements ApiV3ListResourceInterface<PlaceholderUserResource> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'placeholder_users', ApiV3PlaceholderUserPaths);\n  }\n\n  /**\n   * Load a list of placeholder users with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<PlaceholderUserResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<PlaceholderUserResource>>(this.path + listParamsString(params));\n  }\n\n  /**\n   * Create a new PlaceholderUserResource\n   *\n   * @param resource\n   */\n  public post(resource:{ name:string }):Observable<PlaceholderUserResource> {\n    return this\n      .halResourceService\n      .post<PlaceholderUserResource>(\n      this.path,\n      resource,\n    );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { GroupResource } from 'core-app/features/hal/resources/group-resource';\nimport { Observable } from 'rxjs';\n\nexport class ApiV3GroupPaths extends ApiV3GettableResource<GroupResource> {\n  /**\n   * Update a placeholder user resource or payload\n   * @param resource\n   */\n  public patch(resource:GroupResource|{ name:string }):Observable<GroupResource> {\n    return this\n      .halResourceService\n      .patch<GroupResource>(this.path, {\n      name: resource.name,\n    });\n  }\n\n  /**\n   * Delete a placeholder user resource\n   */\n  public delete():Observable<unknown> {\n    return this\n      .halResourceService\n      .delete(this.path);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3GroupPaths } from 'core-app/core/apiv3/endpoints/groups/apiv3-group-paths';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { Observable } from 'rxjs';\nimport {\n  ApiV3ListParameters,\n  ApiV3ListResourceInterface,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { CollectionResource } from 'core-app/features/hal/resources/collection-resource';\nimport { GroupResource } from 'core-app/features/hal/resources/group-resource';\n\nexport class ApiV3GroupsPaths\n  extends ApiV3ResourceCollection<GroupResource, ApiV3GroupPaths>\n  implements ApiV3ListResourceInterface<GroupResource> {\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'groups', ApiV3GroupPaths);\n  }\n\n  /**\n   * Load a list of placeholder users with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<CollectionResource<GroupResource>> {\n    return this\n      .halResourceService\n      .get<CollectionResource<GroupResource>>(this.path + listParamsString(params));\n  }\n\n  /**\n   * Create a new GroupResource\n   *\n   * @param resource\n   */\n  public post(resource:{ name:string }):Observable<GroupResource> {\n    return this\n      .halResourceService\n      .post<GroupResource>(\n      this.path,\n      resource,\n    );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { INotification } from 'core-app/core/state/in-app-notifications/in-app-notification.model';\n\nexport class ApiV3NotificationPaths extends ApiV3GettableResource<INotification> {\n  @InjectField() http:HttpClient;\n\n  public markRead():Observable<unknown> {\n    return this\n      .http\n      .post(\n        `${this.path}/read_ian`,\n        {},\n        {\n          withCredentials: true,\n          responseType: 'json',\n        },\n      );\n  }\n\n  public markUnread():Observable<unknown> {\n    return this\n      .http\n      .post(\n        `${this.path}/unread_ian`,\n        {},\n        {\n          withCredentials: true,\n          responseType: 'json',\n        },\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { ID } from '@datorama/akita';\n\nimport { ApiV3ResourceCollection } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport {\n  ApiV3ListFilter,\n  ApiV3ListParameters,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { ApiV3NotificationPaths } from 'core-app/core/apiv3/endpoints/notifications/apiv3-notification-paths';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { IHALCollection } from 'core-app/core/apiv3/types/hal-collection.type';\nimport { INotification } from 'core-app/core/state/in-app-notifications/in-app-notification.model';\n\nexport class ApiV3NotificationsPaths\n  extends ApiV3ResourceCollection<INotification, ApiV3NotificationPaths> {\n  @InjectField() http:HttpClient;\n\n  constructor(\n    protected apiRoot:ApiV3Service,\n    protected basePath:string,\n  ) {\n    super(apiRoot, basePath, 'notifications', ApiV3NotificationPaths);\n  }\n\n  public facet(facet:string, params?:ApiV3ListParameters):Observable<IHALCollection<INotification>> {\n    if (facet === 'unread') {\n      return this.unread(params);\n    }\n    return this.list(params);\n  }\n\n  /**\n   * Load a list of events with a given list parameter filter\n   * @param params\n   */\n  public list(params?:ApiV3ListParameters):Observable<IHALCollection<INotification>> {\n    return this\n      .http\n      .get<IHALCollection<INotification>>(this.path + listParamsString(params));\n  }\n\n  public listPath(params?:ApiV3ListParameters):string {\n    return this.path + listParamsString(params);\n  }\n\n  /**\n   * Load unread events\n   */\n  public unread(additional?:ApiV3ListParameters):Observable<IHALCollection<INotification>> {\n    const unreadFilter:ApiV3ListFilter = ['readIAN', '=', false];\n    const filters = [\n      ...(additional?.filters ? additional.filters : []),\n      unreadFilter,\n    ];\n    const params:ApiV3ListParameters = {\n      ...additional,\n      filters,\n    };\n\n    return this.list(params);\n  }\n\n  /**\n   * Mark all notifications as read\n   * @param ids\n   */\n  public markAsReadByIds(ids:Array<ID>):Observable<unknown> {\n    return this\n      .http\n      .post(\n        `${this.path}/read_ian${listParamsString({ filters: [['id', '=', ids.map((id) => id.toString())]] })}`,\n        {},\n        {\n          withCredentials: true,\n          responseType: 'json',\n        },\n      );\n  }\n\n  public markAsReadByFilter(filters:ApiV3ListFilter[]):Observable<unknown> {\n    return this.http.post(\n      `${this.path}/read_ian${(listParamsString({ filters: filters.map((f) => [f[0], f[1], f[2]]) }))}`,\n      {},\n      {\n        withCredentials: true,\n        responseType: 'json',\n      },\n    );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Observable } from 'rxjs';\nimport { IView, IViewCreatePayload } from 'core-app/core/state/views/view.model';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport {\n  ApiV3GettableResource,\n  ApiV3ResourceCollection,\n} from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\n\nexport class ApiV3ViewsPaths extends ApiV3ResourceCollection<IView, ApiV3GettableResource<IView>> {\n  @InjectField() http:HttpClient;\n\n  constructor(\n    protected apiRoot:ApiV3Service,\n    protected basePath:string,\n  ) {\n    super(apiRoot, basePath, 'views');\n  }\n\n  /**\n   * Create a new view\n   *\n   * @param resource\n   * @param type The query's view type\n   */\n  post(resource:IViewCreatePayload, type:string):Observable<IView> {\n    return this\n      .http\n      .post(\n        `${this.path}/${type}`,\n        resource,\n        {\n          withCredentials: true,\n          responseType: 'json',\n        },\n      ).pipe(\n        map((view:IView) => view),\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ConfigurationResource } from 'core-app/features/hal/resources/configuration-resource';\nimport { Observable } from 'rxjs';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\n\nexport class Apiv3BackupsPath extends ApiV3GettableResource<ConfigurationResource> {\n  constructor(protected apiRoot:ApiV3Service,\n    readonly basePath:string) {\n    super(apiRoot, basePath, 'backups');\n  }\n\n  public post(backupToken:string, includeAttachments:boolean):Observable<HalResource> {\n    return this\n      .halResourceService\n      .post(\n        this.path,\n        { backupToken, attachments: includeAttachments },\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3GettableResource } from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { IDay } from 'core-app/core/state/days/day.model';\n\nexport class ApiV3DayPaths extends ApiV3GettableResource<IDay> {\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ApiV3DayPaths } from 'core-app/core/apiv3/endpoints/days/api-v3-day-paths';\nimport { IDay } from 'core-app/core/state/days/day.model';\nimport {\n  ApiV3GettableResource,\n  ApiV3ResourceCollection,\n} from 'core-app/core/apiv3/paths/apiv3-resource';\n\nexport class ApiV3DaysPaths extends ApiV3ResourceCollection<IDay, ApiV3DayPaths> {\n  // Base path\n  public readonly path:string;\n\n  constructor(readonly apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'days', ApiV3DayPaths);\n  }\n\n  // Static paths\n\n  // /api/v3/days/week\n  public readonly week = new ApiV3ResourceCollection<IDay, ApiV3DayPaths>(this.apiRoot, this.path, 'week');\n\n  // /api/v3/days/nonWorkingDays\n  public readonly nonWorkingDays = new ApiV3ResourceCollection<IDay, ApiV3DayPaths>(this.apiRoot, this.path, 'non_working');\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  ApiV3GettableResource,\n  ApiV3ResourceCollection,\n} from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { IStorage } from 'core-app/core/state/storages/storage.model';\n\nexport class Apiv3StoragesPaths\n  extends ApiV3ResourceCollection<IStorage, ApiV3GettableResource<IStorage>> {\n  // /api/v3/storages/files\n  public readonly files = this.subResource('files');\n\n  constructor(protected apiRoot:ApiV3Service,\n    protected basePath:string) {\n    super(apiRoot, basePath, 'storages');\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  Injectable,\n  Injector,\n} from '@angular/core';\nimport {\n  ApiV3GettableResource,\n  ApiV3ResourceCollection,\n} from 'core-app/core/apiv3/paths/apiv3-resource';\nimport { Constructor } from '@angular/cdk/table';\nimport { PathHelperService } from 'core-app/core/path-helper/path-helper.service';\nimport { ApiV3GridsPaths } from 'core-app/core/apiv3/endpoints/grids/apiv3-grids-paths';\nimport { ApiV3TimeEntriesPaths } from 'core-app/core/apiv3/endpoints/time-entries/apiv3-time-entries-paths';\nimport { ApiV3CapabilitiesPaths } from 'core-app/core/apiv3/endpoints/capabilities/apiv3-capabilities-paths';\nimport { ApiV3MembershipsPaths } from 'core-app/core/apiv3/endpoints/memberships/apiv3-memberships-paths';\nimport { ApiV3UsersPaths } from 'core-app/core/apiv3/endpoints/users/apiv3-users-paths';\nimport { ApiV3TypesPaths } from 'core-app/core/apiv3/endpoints/types/apiv3-types-paths';\nimport { ApiV3QueriesPaths } from 'core-app/core/apiv3/endpoints/queries/apiv3-queries-paths';\nimport { ApiV3WorkPackagesPaths } from 'core-app/core/apiv3/endpoints/work_packages/api-v3-work-packages-paths';\nimport { ApiV3ProjectPaths } from 'core-app/core/apiv3/endpoints/projects/apiv3-project-paths';\nimport { ApiV3ProjectsPaths } from 'core-app/core/apiv3/endpoints/projects/apiv3-projects-paths';\nimport { ApiV3StatusesPaths } from 'core-app/core/apiv3/endpoints/statuses/apiv3-statuses-paths';\nimport { ApiV3RolesPaths } from 'core-app/core/apiv3/endpoints/roles/apiv3-roles-paths';\nimport { ApiV3VersionsPaths } from 'core-app/core/apiv3/endpoints/versions/apiv3-versions-paths';\nimport { ApiV3RelationsPaths } from 'core-app/core/apiv3/endpoints/relations/apiv3-relations-paths';\nimport { ApiV3NewsPaths } from 'core-app/core/apiv3/endpoints/news/apiv3-news-paths';\nimport { ApiV3HelpTextsPaths } from 'core-app/core/apiv3/endpoints/help_texts/apiv3-help-texts-paths';\nimport { ApiV3ConfigurationPath } from 'core-app/core/apiv3/endpoints/configuration/apiv3-configuration-path';\nimport { ApiV3BoardsPaths } from 'core-app/core/apiv3/virtual/apiv3-boards-paths';\nimport { RootResource } from 'core-app/features/hal/resources/root-resource';\nimport { ApiV3PlaceholderUsersPaths } from 'core-app/core/apiv3/endpoints/placeholder-users/apiv3-placeholder-users-paths';\nimport { ApiV3GroupsPaths } from 'core-app/core/apiv3/endpoints/groups/apiv3-groups-paths';\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { ApiV3NotificationsPaths } from 'core-app/core/apiv3/endpoints/notifications/apiv3-notifications-paths';\nimport { ApiV3ViewsPaths } from 'core-app/core/apiv3/endpoints/views/apiv3-views-paths';\nimport { Apiv3BackupsPath } from 'core-app/core/apiv3/endpoints/backups/apiv3-backups-path';\nimport { ApiV3DaysPaths } from 'core-app/core/apiv3/endpoints/days/api-v3-days-paths';\nimport { Apiv3StoragesPaths } from 'core-app/core/apiv3/endpoints/storages/apiv3-storages-paths';\n\n@Injectable({ providedIn: 'root' })\nexport class ApiV3Service {\n  // /api/v3/attachments\n  public readonly attachments = this.apiV3CollectionEndpoint('attachments');\n\n  // /api/v3/backups\n  public readonly backups = this.apiV3CustomEndpoint(Apiv3BackupsPath);\n\n  // /api/v3/configuration\n  public readonly configuration = this.apiV3CustomEndpoint(ApiV3ConfigurationPath);\n\n  // /api/v3/days\n  public readonly days = this.apiV3CustomEndpoint(ApiV3DaysPaths);\n\n  // /api/v3/documents\n  public readonly documents = this.apiV3CollectionEndpoint('documents');\n\n  // /api/v3/file_links\n  public readonly file_links = this.apiV3CollectionEndpoint('file_links');\n\n  // /api/v3/notifications\n  public readonly notifications = this.apiV3CustomEndpoint(ApiV3NotificationsPaths);\n\n  // /api/v3/github_pull_requests\n  public readonly github_pull_requests = this.apiV3CollectionEndpoint('github_pull_requests');\n\n  // /api/v3/grids\n  public readonly grids = this.apiV3CustomEndpoint(ApiV3GridsPaths);\n\n  // /api/v3/principals\n  public readonly principals = this.apiV3CollectionEndpoint('principals');\n\n  // /api/v3/root\n  public readonly root = this.apiV3SingularEndpoint<RootResource>('');\n\n  // /api/v3/statuses\n  public readonly statuses = this.apiV3CustomEndpoint(ApiV3StatusesPaths);\n\n  // /api/v3/relations\n  public readonly relations = this.apiV3CustomEndpoint(ApiV3RelationsPaths);\n\n  // /api/v3/priorities\n  public readonly priorities = this.apiV3CollectionEndpoint('priorities');\n\n  // /api/v3/time_entries\n  public readonly time_entries = this.apiV3CustomEndpoint(ApiV3TimeEntriesPaths);\n\n  // /api/v3/actions\n  public readonly actions = this.apiV3CollectionEndpoint('actions');\n\n  // /api/v3/capabilities\n  public readonly capabilities = this.apiV3CustomEndpoint(ApiV3CapabilitiesPaths);\n\n  // /api/v3/memberships\n  public readonly memberships = this.apiV3CustomEndpoint(ApiV3MembershipsPaths);\n\n  // /api/v3/news\n  public readonly news = this.apiV3CustomEndpoint(ApiV3NewsPaths);\n\n  // /api/v3/storages\n  public readonly storages = this.apiV3CustomEndpoint(Apiv3StoragesPaths);\n\n  // /api/v3/types\n  public readonly types = this.apiV3CustomEndpoint(ApiV3TypesPaths);\n\n  // /api/v3/versions\n  public readonly versions = this.apiV3CustomEndpoint(ApiV3VersionsPaths);\n\n  // /api/v3/work_packages\n  public readonly work_packages = this.apiV3CustomEndpoint(ApiV3WorkPackagesPaths);\n\n  // /api/v3/queries\n  public readonly queries = this.apiV3CustomEndpoint(ApiV3QueriesPaths);\n\n  // /api/v3/projects\n  public readonly projects = this.apiV3CustomEndpoint(ApiV3ProjectsPaths);\n\n  // /api/v3/users\n  public readonly users = this.apiV3CustomEndpoint(ApiV3UsersPaths);\n\n  // /api/v3/placeholder_users\n  public readonly placeholder_users = this.apiV3CustomEndpoint(ApiV3PlaceholderUsersPaths);\n\n  // /api/v3/groups\n  public readonly groups = this.apiV3CustomEndpoint(ApiV3GroupsPaths);\n\n  // /api/v3/roles\n  public readonly roles = this.apiV3CustomEndpoint(ApiV3RolesPaths);\n\n  // /api/v3/help_texts\n  public readonly help_texts = this.apiV3CustomEndpoint(ApiV3HelpTextsPaths);\n\n  // /api/v3/job_statuses\n  public readonly job_statuses = this.apiV3CollectionEndpoint('job_statuses');\n\n  // /api/v3/views\n  public readonly views = this.apiV3CustomEndpoint(ApiV3ViewsPaths);\n\n  // VIRTUAL boards are /api/v3/grids + a scope filter\n  public readonly boards = this.apiV3CustomEndpoint(ApiV3BoardsPaths);\n\n  constructor(readonly injector:Injector,\n    readonly pathHelper:PathHelperService) {\n  }\n\n  /**\n   * Returns the part of the API that exists both\n   *  - WITHIN a project scope /api/v3/projects/*\n   *  - GLOBALLY /api/v3/*\n   *\n   *  The available API endpoints are being restricted automatically by typescript.\n   *\n   * @param projectIdentifier\n   */\n  public withOptionalProject(projectIdentifier:string|number|null|undefined):ApiV3ProjectPaths|this {\n    if (_.isNil(projectIdentifier)) {\n      return this;\n    }\n    return this.projects.id(projectIdentifier);\n  }\n\n  public collectionFromString(fullPath:string) {\n    const path = fullPath.replace(`${this.pathHelper.api.v3.apiV3Base}/`, '');\n\n    return this.apiV3CollectionEndpoint(path);\n  }\n\n  private apiV3CollectionEndpoint<V extends HalResource, T extends ApiV3GettableResource<V>>(segment:string, resource?:Constructor<T>) {\n    return new ApiV3ResourceCollection<V, T>(this, this.pathHelper.api.v3.apiV3Base, segment, resource);\n  }\n\n  private apiV3CustomEndpoint<T>(cls:Constructor<T>):T {\n    return new cls(this, this.pathHelper.api.v3.apiV3Base);\n  }\n\n  private apiV3SingularEndpoint<T extends HalResource = HalResource>(segment:string):ApiV3GettableResource<T> {\n    return new ApiV3GettableResource<T>(this, this.pathHelper.api.v3.apiV3Base, segment);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Injectable } from '@angular/core';\nimport * as moment from 'moment';\n\nimport { ConfigurationResource } from 'core-app/features/hal/resources/configuration-resource';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\n\n@Injectable({ providedIn: 'root' })\nexport class ConfigurationService {\n  // fetches configuration from the ApiV3 endpoint\n  // TODO: this currently saves the request between page reloads,\n  // but could easily be stored in localStorage\n  private configuration:ConfigurationResource;\n\n  public constructor(\n    private readonly apiV3Service:ApiV3Service,\n  ) { }\n\n  public initialize():Promise<void> {\n    return this.loadConfiguration();\n  }\n\n  public commentsSortedInDescendingOrder():boolean {\n    return this.userPreference('commentSortDescending');\n  }\n\n  public warnOnLeavingUnsaved():boolean {\n    return this.userPreference('warnOnLeavingUnsaved');\n  }\n\n  public autoHidePopups():boolean {\n    return this.userPreference('autoHidePopups');\n  }\n\n  public isTimezoneSet():boolean {\n    return !!this.timezone();\n  }\n\n  public timezone():string {\n    return this.userPreference('timeZone');\n  }\n\n  public isDirectUploads():boolean {\n    return !!this.prepareAttachmentURL;\n  }\n\n  public get prepareAttachmentURL():string {\n    return _.get(this.configuration, ['prepareAttachment', 'href']) as string;\n  }\n\n  public get maximumAttachmentFileSize():number {\n    return this.systemPreference('maximumAttachmentFileSize');\n  }\n\n  public get perPageOptions():number[] {\n    return this.systemPreference('perPageOptions');\n  }\n\n  public dateFormatPresent():boolean {\n    return !!this.systemPreference('dateFormat');\n  }\n\n  public dateFormat():string {\n    return this.systemPreference('dateFormat');\n  }\n\n  public timeFormatPresent():boolean {\n    return !!this.systemPreference('timeFormat');\n  }\n\n  public timeFormat():string {\n    return this.systemPreference('timeFormat');\n  }\n\n  public startOfWeekPresent():boolean {\n    return !!this.systemPreference('startOfWeek');\n  }\n\n  public startOfWeek():number {\n    if (this.startOfWeekPresent()) {\n      return this.systemPreference('startOfWeek');\n    }\n    return moment.localeData(I18n.locale).firstDayOfWeek();\n  }\n\n  public get hostName():string {\n    return this.systemPreference('hostName');\n  }\n\n  public get activeFeatureFlags():string[] {\n    return this.systemPreference<string[]>('activeFeatureFlags');\n  }\n\n  private loadConfiguration() {\n    return this\n      .apiV3Service\n      .configuration\n      .get()\n      .toPromise()\n      .then((configuration:ConfigurationResource) => {\n        this.configuration = configuration;\n      });\n  }\n\n  private userPreference<T>(pref:string):T {\n    return _.get(this.configuration, ['userPreferences', pref]) as T;\n  }\n\n  private systemPreference<T>(pref:string):T {\n    return _.get(this.configuration, pref) as T;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { HttpEvent, HttpEventType, HttpResponse } from '@angular/common/http';\n\nexport default function isHttpResponse<T>(event:HttpEvent<T>):event is HttpResponse<T> {\n  return event.type === HttpEventType.Response;\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { input, State } from '@openproject/reactivestates';\nimport { Injectable } from '@angular/core';\nimport { HttpErrorResponse, HttpEvent } from '@angular/common/http';\n\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport { ConfigurationService } from 'core-app/core/config/configuration.service';\nimport waitForUploadsFinished from 'core-app/core/upload/wait-for-uploads-finished';\nimport {\n  IHalErrorBase,\n  IHalMultipleError,\n  isHalError,\n} from 'core-app/features/hal/resources/error-resource';\n\nexport function removeSuccessFlashMessages():void {\n  jQuery('.flash.notice').remove();\n}\n\nexport type ToastType = 'success'|'error'|'warning'|'info'|'upload'|'loading';\nexport const OPToastEvent = 'op:toasters:add';\n\nexport interface IToast {\n  message:string;\n  link?:{ text:string, target:() => void };\n  type:ToastType;\n  data?:unknown;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class ToastService {\n  // The current stack of toasters\n  private stack = input<IToast[]>([]);\n\n  constructor(\n    readonly configurationService:ConfigurationService,\n    readonly I18n:I18nService,\n  ) {\n    jQuery(window).on(\n      OPToastEvent,\n      (event:JQuery.TriggeredEvent, toast:IToast) => { this.add(toast); },\n    );\n  }\n\n  /**\n   * Get a read-only view of the current stack of toasters.\n   */\n  public get current():State<IToast[]> {\n    return this.stack;\n  }\n\n  public add(toast:IToast, timeoutAfter = 5000):IToast {\n    // Remove flash messages\n    removeSuccessFlashMessages();\n\n    this.stack.doModify((current) => {\n      const nextValue = [toast].concat(current);\n      _.remove(nextValue, (n, i) => i > 0 && this.removeOnAdd(n));\n      return nextValue;\n    });\n\n    // auto-hide if success\n    if (toast.type === 'success' && this.configurationService.autoHidePopups()) {\n      setTimeout(() => this.remove(toast), timeoutAfter);\n    }\n\n    return toast;\n  }\n\n  private removeOnAdd(toast:IToast):boolean {\n    return ['success', 'error', 'loading'].includes(toast.type);\n  }\n\n  public addError(obj:HttpErrorResponse|IToast|string, additionalErrors:unknown[]|string = []):IToast {\n    let message:IToast|string;\n    let errors:string[];\n\n    if (typeof additionalErrors === 'string') {\n      errors = [additionalErrors];\n    } else {\n      errors = [...additionalErrors] as string[];\n    }\n\n    if (obj instanceof HttpErrorResponse) {\n      message = isHalError(obj.error) ? obj.error.message : obj.message;\n\n      if ((obj.error as IHalMultipleError)?._embedded?.errors) {\n        errors = [\n          ...errors,\n          ...(obj.error as IHalMultipleError)._embedded.errors.map((el:IHalErrorBase) => el.message),\n        ];\n      }\n    } else {\n      message = obj;\n    }\n\n    const toast:IToast = this.createToast(message, 'error');\n    toast.data = errors;\n\n    return this.add(toast);\n  }\n\n  public addWarning(message:IToast|string):IToast {\n    return this.add(this.createToast(message, 'warning'));\n  }\n\n  public addSuccess(message:IToast|string):IToast {\n    return this.add(this.createToast(message, 'success'));\n  }\n\n  public addNotice(message:IToast|string):IToast {\n    return this.add(this.createToast(message, 'info'));\n  }\n\n  public addUpload(message:string, uploads:[File, Observable<HttpEvent<unknown>>][]):IToast {\n    if (!uploads.length) {\n      throw new Error('Cannot create an upload toast without uploads!');\n    }\n\n    const notification = this.add({\n      data: uploads,\n      type: 'upload',\n      message,\n    });\n\n    waitForUploadsFinished(uploads.map((o) => o[1]))\n      .pipe(take(1))\n      .subscribe(() => {\n        setTimeout(() => this.remove(notification), 700);\n      });\n\n    return notification;\n  }\n\n  public addLoading(observable:Observable<unknown>):IToast {\n    return this.add(this.createLoadingToast(this.I18n.t('js.ajax.updating'), observable));\n  }\n\n  public remove(toast:IToast):void {\n    this.stack.doModify((current) => {\n      _.remove(current, (n) => n === toast);\n      return current;\n    });\n  }\n\n  public clear():void {\n    this.stack.putValue([]);\n  }\n\n  private createToast(toast:IToast|string, type:ToastType):IToast {\n    return (typeof toast === 'string')\n      ? { message: toast, type }\n      : {\n        message: toast.message,\n        type,\n        link: toast.link,\n        data: toast.data,\n      };\n  }\n\n  private createLoadingToast(message:IToast|string, observable:Observable<unknown>) {\n    const toast = this.createToast(message, 'loading');\n    toast.data = observable;\n\n    return toast;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { HalResource } from 'core-app/features/hal/resources/hal-resource';\nimport { HttpErrorResponse } from '@angular/common/http';\n\nexport const v3ErrorIdentifierQueryInvalid = 'urn:openproject-org:api:v3:errors:InvalidQuery';\nexport const v3ErrorIdentifierMultipleErrors = 'urn:openproject-org:api:v3:errors:MultipleErrors';\n\nexport interface IHalErrorBase {\n  _type:string;\n  message:string;\n  errorIdentifier:string;\n}\n\nexport function isHalError(err:unknown):err is IHalErrorBase {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n  const hasOwn = (key:string):boolean => Object.prototype.hasOwnProperty.call(err, key);\n  return !!err && hasOwn('_type') && hasOwn('message') && hasOwn('errorIdentifier');\n}\n\nexport interface IHalSingleError extends IHalErrorBase {\n  _embedded:{\n    details:{\n      attribute:string;\n    }\n  }\n}\n\nexport interface IHalMultipleError extends IHalErrorBase {\n  _embedded:{\n    errors:IHalSingleError[];\n  }\n}\n\nexport class ErrorResource extends HalResource {\n  public errors:any[];\n\n  public message:string;\n\n  public details:any;\n\n  public errorIdentifier:string;\n\n  /** We may get a reference to the underlying http error */\n  public httpError?:HttpErrorResponse;\n\n  public isValidationError = false;\n\n  /**\n   * Override toString to ensure the resource can\n   * be printed nicely on console and in errors\n   */\n  public toString():string {\n    return `[ErrorResource ${this.message}]`;\n  }\n\n  public get errorMessages():string[] {\n    if (this.isMultiErrorMessage()) {\n      return this.errors.map((error) => error.message);\n    }\n\n    return [this.message];\n  }\n\n  public isMultiErrorMessage():boolean {\n    return this.errorIdentifier === v3ErrorIdentifierMultipleErrors;\n  }\n\n  public getInvolvedAttributes():string[] {\n    let columns = [];\n\n    if (this.details) {\n      columns = [{ details: this.details }];\n    } else if (this.errors) {\n      columns = this.errors;\n    }\n\n    return _.flatten(columns.map((resource:ErrorResource) => {\n      if (resource.errorIdentifier === v3ErrorIdentifierMultipleErrors) {\n        return this.extractMultiError(resource)[0];\n      }\n      return resource.details.attribute;\n    }));\n  }\n\n  public getMessagesPerAttribute():{ [attribute:string]:string[] } {\n    const perAttribute:any = {};\n\n    if (this.details) {\n      perAttribute[this.details.attribute] = [this.message];\n    } else {\n      _.forEach(this.errors, (error:any) => {\n        if (error.errorIdentifier === v3ErrorIdentifierMultipleErrors) {\n          const [attribute, messages] = this.extractMultiError(error);\n          const current = perAttribute[attribute] || [];\n          perAttribute[attribute] = current.concat(messages);\n        } else if (perAttribute[error.details.attribute]) {\n          perAttribute[error.details.attribute].push(error.message);\n        } else {\n          perAttribute[error.details.attribute] = [error.message];\n        }\n      });\n    }\n\n    return perAttribute;\n  }\n\n  protected extractMultiError(resource:ErrorResource):[string, string[]] {\n    const { attribute } = resource.errors[0].details;\n    const messages = resource.errors.map((el:ErrorResource) => el.message);\n\n    return [attribute, messages];\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { forkJoin, Observable } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { HttpEvent, HttpResponse } from '@angular/common/http';\n\nimport isHttpResponse from 'core-app/core/upload/is-http-response';\n\nexport default function waitForUploadsFinished<T>(uploads:Observable<HttpEvent<T>>[]):Observable<HttpResponse<T>[]> {\n  return forkJoin(\n    uploads.map((o) => o.pipe(filter(isHttpResponse))),\n  );\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  EntityStore,\n  ID,\n  QueryEntity,\n} from '@datorama/akita';\nimport { Observable } from 'rxjs';\nimport {\n  catchError,\n  filter,\n  finalize,\n  map,\n  shareReplay,\n  switchMap,\n  tap,\n} from 'rxjs/operators';\nimport {\n  CollectionResponse,\n  insertCollectionIntoState,\n  removeResourceLoading,\n  ResourceState,\n  setResourceLoading,\n} from 'core-app/core/state/resource-store';\nimport { omit } from 'lodash';\nimport isDefinedEntity from 'core-app/core/state/is-defined-entity';\nimport {\n  ApiV3ListParameters,\n  listParamsString,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { IHALCollection } from 'core-app/core/apiv3/types/hal-collection.type';\nimport {\n  HttpClient,\n  HttpErrorResponse,\n} from '@angular/common/http';\nimport {\n  Injectable,\n  Injector,\n} from '@angular/core';\nimport { ApiV3Service } from 'core-app/core/apiv3/api-v3.service';\nimport { ToastService } from 'core-app/shared/components/toaster/toast.service';\nimport idFromLink from 'core-app/features/hal/helpers/id-from-link';\n\nexport type ResourceStore<T> = EntityStore<ResourceState<T>>;\n\nexport interface ResourceStoreLoadOptions {\n  handleErrors:boolean;\n}\n\nexport type ResourceKeyInput = ApiV3ListParameters|string;\n\n@Injectable()\nexport abstract class ResourceStoreService<T extends { id:ID }> {\n  protected store:ResourceStore<T> = this.createStore();\n\n  protected query = new QueryEntity(this.store);\n\n  constructor(\n    readonly injector:Injector,\n    readonly http:HttpClient,\n    readonly apiV3Service:ApiV3Service,\n    readonly toastService:ToastService,\n  ) {\n  }\n\n  /**\n   * Require the results for the given filter params\n   * Returns a cached set if it was loaded already.\n   *\n   * @param input List params to require, or href of the resource\n   * @private\n   */\n  public requireCollection(input:ResourceKeyInput):Observable<T[]> {\n    const href = this.buildResourceLink(input);\n    if (this.collectionExists(href) || this.resourceLoading(href)) {\n      return this.loadedCollection(href);\n    }\n\n    return this\n      .fetchCollection(href)\n      .pipe(\n        switchMap(() => this.loadedCollection(href)),\n      );\n  }\n\n  /**\n   * Require a single entity to be loaded.\n   * Returnes the cached entity if it was loaded already\n   *\n   * @param href {string}\n   */\n  public requireEntity(href:string):Observable<T> {\n    const id = idFromLink(href);\n    if (this.query.hasEntity(id) || this.resourceLoading(href)) {\n      return this.lookup(id);\n    }\n\n    return this.fetchEntity(href);\n  }\n\n  /**\n   * Retrieve a collection from the store\n   *\n   * @param input List params to require, or href of the resource\n   */\n  collection(input:ResourceKeyInput):Observable<T[]> {\n    const href = this.buildResourceLink(input);\n\n    return this\n      .collectionState(href)\n      .pipe(\n        switchMap((collection) => this.query.selectMany(collection?.ids || [])),\n      );\n  }\n\n  /**\n   * Return a collection observable that triggers only when the collection is loaded.\n   * @param input List params to require, or href of the resource\n   */\n  loadedCollection(input:ResourceKeyInput):Observable<T[]> {\n    const href = this.buildResourceLink(input);\n\n    return this\n      .collectionState(href)\n      .pipe(\n        filter((collection) => !!collection),\n        switchMap((collection:CollectionResponse) => this.query.selectMany(collection.ids)),\n      );\n  }\n\n  /**\n   * Return a collection observable that triggers only when the collection is loaded.\n   * @param input List params to require, or href of the resource\n   */\n  collectionState(input:ResourceKeyInput):Observable<CollectionResponse|undefined> {\n    const href = this.buildResourceLink(input);\n\n    return this\n      .query\n      .select()\n      .pipe(\n        map((state) => state.collections[href]),\n      );\n  }\n\n  /**\n   * Lookup a single entity from the store\n   * @param id\n   */\n  lookup(id:ID):Observable<T> {\n    return this\n      .query\n      .selectEntity(id)\n      .pipe(filter(isDefinedEntity));\n  }\n\n  /**\n   * Lookup multiple entities from the store\n   */\n  lookupMany(ids:ID[]):Observable<T[]> {\n    return this\n      .query\n      .selectMany(ids);\n  }\n\n  /**\n   * Checks, if the store already has a resource loaded by id.\n   * @param id\n   */\n  exists(id:ID):boolean {\n    return this.query.hasEntity(id);\n  }\n\n  /**\n   * Checks, if the store already has a collection given the key\n   *\n   * @param input List params to require, or href of the resource\n   */\n  collectionExists(input:ResourceKeyInput):boolean {\n    const href = this.buildResourceLink(input);\n\n    return !!this\n      .query\n      .getValue()\n      .collections[href];\n  }\n\n  /**\n   * Checks, if the store already has a collection given the key\n   *\n   * @param input List params to require, or href of the resource\n   */\n  resourceLoading(input:ResourceKeyInput):boolean {\n    const href = this.buildResourceLink(input);\n\n    return this\n      .query\n      .getValue()\n      .loadingResources[href] === true;\n  }\n\n  /**\n   * Clear a collection key\n   * @param input List params to require, or href of the resource\n   */\n  clear(input:ResourceKeyInput):void {\n    const href = this.buildResourceLink(input);\n\n    this\n      .store\n      .update(\n        ({ collections }) => ({\n          collections: omit(collections, href),\n        }),\n      );\n  }\n\n  /**\n   * Update a single entity in the store\n   *\n   * @param id The id to update\n   * @param entity A section of the entity to update\n   */\n  update(id:ID, entity:Partial<T>):void {\n    this.store.update(id, entity);\n  }\n\n  /**\n   * Fetch a given collection, returning only its results\n   */\n  fetchResults(params:ResourceKeyInput):Observable<T[]> {\n    return this\n      .fetchCollection(params)\n      .pipe(\n        map((collection) => collection._embedded.elements),\n      );\n  }\n\n  /**\n   * Fetch a given collection, ensuring it is being flagged as loaded\n   *\n   * @param params {ResourceKeyInput} collection key or list params to build collection key from\n   * @param options {ResourceStoreLoadOptions} Handle collection loading errors within the resource service\n   */\n  fetchCollection(\n    params:ResourceKeyInput,\n    options:ResourceStoreLoadOptions = { handleErrors: true },\n  ):Observable<IHALCollection<T>> {\n    const href = this.buildResourceLink(params);\n\n    setResourceLoading(this.store, href);\n\n    return this\n      .http\n      .get<IHALCollection<T>>(href)\n      .pipe(\n        tap((collection) => insertCollectionIntoState(this.store, collection, href)),\n        finalize(() => removeResourceLoading(this.store, href)),\n        catchError((error:unknown) => {\n          if (options.handleErrors) {\n            this.handleResourceLoadingError(error as HttpErrorResponse, href);\n          }\n\n          throw error;\n        }),\n        shareReplay(1),\n      );\n  }\n\n  /**\n   * Fetch a single entity, ensuring it is being flagged as loaded\n   *\n   * @param href {string} of the resource to load\n   * @param options {ResourceStoreLoadOptions} Handle loading errors within the resource service\n   */\n  fetchEntity(\n    href:string,\n    options:ResourceStoreLoadOptions = { handleErrors: true },\n  ):Observable<T> {\n    setResourceLoading(this.store, href);\n\n    return this\n      .http\n      .get<T>(href)\n      .pipe(\n        tap((entity) => this.store.add(entity)),\n        finalize(() => removeResourceLoading(this.store, href)),\n        catchError((error:unknown) => {\n          if (options.handleErrors) {\n            this.handleResourceLoadingError(error as HttpErrorResponse, href);\n          }\n\n          throw error;\n        }),\n        shareReplay(1),\n      );\n  }\n\n  protected buildResourceLink(input:ResourceKeyInput):string {\n    if (typeof input === 'string') {\n      return input;\n    }\n\n    return this.basePath() + listParamsString(input);\n  }\n\n  /**\n   * Create a new instance of this resource service's underlying store.\n   * @protected\n   */\n  protected abstract createStore():ResourceStore<T>;\n\n  /**\n   * Base path for this collection\n   * @protected\n   */\n  protected abstract basePath():string;\n\n  /**\n   * By default, add a toast error in case of loading errors\n   * @param error\n   * @param _path\n   * @protected\n   */\n  protected handleResourceLoadingError(error:HttpErrorResponse, _path:string):void {\n    this.toastService.addError(error);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  map,\n  switchMap,\n  tap,\n} from 'rxjs/operators';\nimport {\n  EMPTY,\n  Observable,\n} from 'rxjs';\nimport { IHALCollection } from 'core-app/core/apiv3/types/hal-collection.type';\nimport {\n  extendCollectionElementsWithId,\n  insertCollectionIntoState,\n} from 'core-app/core/state/resource-store';\nimport { WeekdayStore } from 'core-app/core/state/days/weekday.store';\nimport { IWeekday } from 'core-app/core/state/days/weekday.model';\nimport {\n  ResourceStore,\n  ResourceStoreService,\n} from 'core-app/core/state/resource-store.service';\n\n@Injectable()\nexport class WeekdayResourceService extends ResourceStoreService<IWeekday> {\n  requireCollection():Observable<IWeekday[]> {\n    return this\n      .query\n      .selectHasCache()\n      .pipe(\n        switchMap((hasCache) => (hasCache ? EMPTY : this.fetchWeekdays())),\n        switchMap(() => this.query.selectAll()),\n      );\n  }\n\n  protected fetchWeekdays():Observable<IHALCollection<IWeekday>> {\n    const collectionURL = 'all'; // We load all weekdays\n\n    return this\n      .http\n      .get<IHALCollection<IWeekday>>(this.basePath())\n      .pipe(\n        map((collection) => extendCollectionElementsWithId(collection)),\n        tap((collection) => insertCollectionIntoState(this.store, collection, collectionURL)),\n      );\n  }\n\n  protected createStore():ResourceStore<IWeekday> {\n    return new WeekdayStore();\n  }\n\n  protected basePath():string {\n    return this.apiV3Service.days.week.path;\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  Injectable,\n  Injector,\n} from '@angular/core';\nimport * as moment from 'moment';\nimport {\n  take,\n  tap,\n} from 'rxjs/operators';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { WeekdayResourceService } from 'core-app/core/state/days/weekday.service';\nimport { IWeekday } from 'core-app/core/state/days/weekday.model';\nimport {\n  Observable,\n  of,\n} from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class WeekdayService {\n  @InjectField() weekdaysService:WeekdayResourceService;\n\n  private weekdays:IWeekday[];\n\n  constructor(\n    readonly injector:Injector,\n  ) {}\n\n  /**\n   * @param date The iso day number (1-7) or a date instance\n   * @return {boolean} whether the given iso day is working or not\n   */\n  public isNonWorkingDay(date:Date|number):boolean {\n    const isoDayOfWeek = (typeof date === 'number') ? date : moment(date).isoWeekday();\n    return !!(this.weekdays || []).find((wd) => wd.day === isoDayOfWeek && !wd.working);\n  }\n\n  public get nonWorkingDays():IWeekday[] {\n    return this.weekdays.filter((day) => !day.working);\n  }\n\n  loadWeekdays():Observable<IWeekday[]> {\n    if (this.weekdays) {\n      return of(this.weekdays);\n    }\n\n    return this\n      .weekdaysService\n      .requireCollection()\n      .pipe(\n        take(1),\n        tap((weekdays) => {\n          this.weekdays = weekdays;\n        }),\n      );\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  Injectable,\n} from '@angular/core';\nimport * as moment from 'moment';\nimport { IWeekday } from 'core-app/core/state/days/weekday.model';\nimport {\n  Observable,\n  of,\n} from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class WeekdayServiceStub {\n  private weekdays:IWeekday[] = [];\n\n  /**\n   * @param date The iso day number (1-7) or a date instance\n   * @return {boolean} whether the given iso day is working or not\n   */\n  public isNonWorkingDay(date:Date|number):boolean {\n    const isoDayOfWeek = (typeof date === 'number') ? date : moment(date).isoWeekday();\n    return !!(this.weekdays || []).find((wd) => wd.day === isoDayOfWeek && !wd.working);\n  }\n\n  public get nonWorkingDays():IWeekday[] {\n    return this.weekdays.filter((day) => !day.working);\n  }\n\n  loadWeekdays():Observable<IWeekday[]> {\n    return of(this.weekdays);\n  }\n}\n","import {\n  EntityStore,\n  StoreConfig,\n} from '@datorama/akita';\nimport {\n  ResourceState,\n  createInitialResourceState,\n} from 'core-app/core/state/resource-store';\nimport { IDay } from 'core-app/core/state/days/day.model';\n\nexport interface DayState extends ResourceState<IDay> {\n}\n\n@StoreConfig({ name: 'days' })\nexport class DayStore extends EntityStore<DayState> {\n  constructor() {\n    super(createInitialResourceState());\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  map,\n  take,\n} from 'rxjs/operators';\nimport {\n  firstValueFrom,\n  Observable,\n} from 'rxjs';\nimport { ApiV3ListFilter } from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { DayStore } from 'core-app/core/state/days/day.store';\nimport { IDay } from 'core-app/core/state/days/day.model';\nimport {\n  ResourceStore,\n  ResourceStoreService,\n} from 'core-app/core/state/resource-store.service';\n\n@Injectable()\nexport class DayResourceService extends ResourceStoreService<IDay> {\n  protected basePath():string {\n    return this\n      .apiV3Service\n      .days\n      .nonWorkingDays\n      .path;\n  }\n\n  isNonWorkingDay$(input:Date):Promise<boolean> {\n    const date = moment(input).format('YYYY-MM-DD');\n\n    return firstValueFrom(\n      this\n        .requireNonWorkingYear$(input)\n        .pipe(\n          map((days) => days.findIndex((day:IDay) => day.date === date) !== -1),\n        ),\n    );\n  }\n\n  requireNonWorkingYear$(date:Date|string):Observable<IDay[]> {\n    const from = moment(date).startOf('year').format('YYYY-MM-DD');\n    const to = moment(date).endOf('year').format('YYYY-MM-DD');\n\n    const filters:ApiV3ListFilter[] = [\n      ['date', '<>d', [from, to]],\n    ];\n\n    return this.requireCollection({ filters });\n  }\n\n  requireNonWorkingYears$(start:Date|string, end:Date|string):Observable<IDay[]> {\n    const from = moment(start).startOf('year').format('YYYY-MM-DD');\n    const to = moment(end).endOf('year').format('YYYY-MM-DD');\n\n    const filters:ApiV3ListFilter[] = [\n      ['date', '<>d', [from, to]],\n    ];\n\n    return this.requireCollection({ filters });\n  }\n\n  protected createStore():ResourceStore<IDay> {\n    return new DayStore();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { IHALCollection } from 'core-app/core/apiv3/types/hal-collection.type';\nimport {\n  ApiV3ListParameters,\n} from 'core-app/core/apiv3/paths/apiv3-list-resource.interface';\nimport { DayStore } from 'core-app/core/state/days/day.store';\nimport { IDay } from 'core-app/core/state/days/day.model';\nimport {\n  ResourceStore,\n  ResourceStoreService,\n} from 'core-app/core/state/resource-store.service';\n\n@Injectable()\nexport class DayResourceServiceStub extends ResourceStoreService<IDay> {\n  protected basePath():string {\n    return '';\n  }\n\n  async isNonWorkingDay$(input:Date):Promise<boolean> {\n    const day = input.getDay();\n    return day > 5 || day === 0;\n  }\n\n  requireNonWorkingYear$(_date:Date|string):Observable<IDay[]> {\n    return of([]);\n  }\n\n  requireNonWorkingYears$(_start:Date|string, _end:Date|string):Observable<IDay[]> {\n    return of([]);\n  }\n\n  fetchCollection(_params:ApiV3ListParameters):Observable<IHALCollection<IDay>> {\n    return of({\n      _type: 'Collection',\n      count: 0,\n      pageSize: 10,\n      offset: 0,\n      total: 0,\n      _embedded: {\n        elements: [],\n      },\n    });\n  }\n\n  protected createStore():ResourceStore<IDay> {\n    return new DayStore();\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { DatePicker } from 'core-app/shared/components/datepicker/datepicker';\nimport { DateOption } from 'flatpickr/dist/types/options';\nimport { DayElement } from 'flatpickr/dist/types/instance';\n\n/**\n * Map the date to the internal format,\n * setting to null if it's empty.\n * @param date\n */\n// eslint-disable-next-line class-methods-use-this\nexport function mappedDate(date:string|null):string|null {\n  return (date === '') ? null : date;\n}\n\n// eslint-disable-next-line class-methods-use-this\nexport function parseDate(date:Date|string):Date|'' {\n  if (date instanceof Date) {\n    return new Date(date.setHours(0, 0, 0, 0));\n  }\n  if (date === '') {\n    return '';\n  }\n  return new Date(moment(date).toDate().setHours(0, 0, 0, 0));\n}\n\nexport function validDate(date:Date|string):boolean {\n  return (date instanceof Date)\n    || (date === '')\n    || !!/^\\d{4}-\\d{2}-\\d{2}$/.exec(date);\n}\n\nexport function areDatesEqual(firstDate:Date|string, secondDate:Date|string):boolean {\n  const parsedDate1 = parseDate(firstDate);\n  const parsedDate2 = parseDate(secondDate);\n\n  if ((typeof (parsedDate1) === 'string') || (typeof (parsedDate2) === 'string')) {\n    return false;\n  }\n  return parsedDate1.getTime() === parsedDate2.getTime();\n}\n\nexport function keepCurrentlyActiveMonth(datePicker:DatePicker, currentMonth:number, currentYear:number):void {\n  // Keep currently active month and avoid jump because of two-month layout\n  datePicker.datepickerInstance.currentMonth = currentMonth;\n  datePicker.datepickerInstance.currentYear = currentYear;\n}\n\nexport function comparableDate(date?:DateOption):number|null {\n  if (!date || typeof date === 'string') {\n    return null;\n  }\n\n  if (typeof date === 'number') {\n    return date;\n  }\n\n  return date.getTime();\n}\n\nexport function setDates(dates:DateOption|DateOption[], datePicker:DatePicker, enforceDate?:Date):void {\n  const { currentMonth, currentYear, selectedDates } = datePicker.datepickerInstance;\n\n  const [newStart, newEnd] = _.castArray(dates);\n  const [selectedStart, selectedEnd] = selectedDates;\n\n  // In case the new times match the current times, do not try to update\n  // the current selected months (Regression #46488)\n  if (selectedDates.length > 0\n    && comparableDate(newStart) === comparableDate(selectedStart)\n    && comparableDate(newEnd) === comparableDate(selectedEnd)\n  ) {\n    return;\n  }\n\n  datePicker.setDates(dates);\n\n  if (enforceDate) {\n    const enforcedMonth = enforceDate.getMonth();\n    const enforcedYear = enforceDate.getFullYear();\n    const monthDiff = enforcedMonth - currentMonth + 12 * (enforcedYear - currentYear);\n\n    // Because of the two-month layout we only have to update the calendar\n    // if the month is further in the past/future than the one additional month that is shown anyway\n    if (Math.abs(monthDiff) > 1) {\n      datePicker.datepickerInstance.currentMonth = enforcedMonth;\n      datePicker.datepickerInstance.currentYear = enforcedYear;\n    } else {\n      keepCurrentlyActiveMonth(datePicker, currentMonth, currentYear);\n    }\n  } else {\n    keepCurrentlyActiveMonth(datePicker, currentMonth, currentYear);\n  }\n\n  datePicker.datepickerInstance.redraw();\n}\n\nexport function onDayCreate(\n  dayElem:DayElement,\n  ignoreNonWorkingDays:boolean,\n  isNonWorkingDay:boolean,\n  isDayDisabled:boolean,\n):void {\n  dayElem.setAttribute('data-iso-date', dayElem.dateObj.toISOString());\n\n  if (isDayDisabled) {\n    dayElem.classList.add('flatpickr-disabled');\n    return;\n  }\n\n  if (ignoreNonWorkingDays && isNonWorkingDay) {\n    dayElem.classList.add('flatpickr-non-working-day_enabled');\n  } else if (!ignoreNonWorkingDays && isNonWorkingDay) {\n    dayElem.classList.add('flatpickr-non-working-day');\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport { Injectable } from '@angular/core';\nimport { ConfigurationService } from 'core-app/core/config/configuration.service';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport * as moment from 'moment-timezone';\nimport {\n  Moment,\n} from 'moment';\n\ndeclare module 'moment' {\n  interface Moment {\n    tz():string|undefined;\n\n    tz(timezone:string, keepLocalTime?:boolean):Moment;\n\n    zoneAbbr():string;\n\n    zoneName():string;\n  }\n}\n\n@Injectable({ providedIn: 'root' })\nexport class TimezoneService {\n  constructor(\n    readonly configurationService:ConfigurationService,\n    readonly I18n:I18nService,\n  ) {\n    this.setupLocale();\n  }\n\n  public setupLocale():void {\n    moment.locale(I18n.locale);\n  }\n\n  /**\n   * Takes a utc date time string and turns it into\n   * a local date time moment object.\n   */\n  public parseDatetime(datetime:string, format?:string):Moment {\n    const d = moment.utc(datetime, format);\n\n    if (this.configurationService.isTimezoneSet()) {\n      d.local();\n      d.tz(this.configurationService.timezone());\n    }\n\n    return d;\n  }\n\n  public parseDate(date:Date|string, format?:string):Moment {\n    return moment(date, format);\n  }\n\n  /**\n   * Parses the specified datetime and applies the user's configured timezone, if any.\n   *\n   * This will effectfully transform the [server] provided datetime object to the user's configured local timezone.\n   *\n   * @param {String} datetime in 'YYYY-MM-DDTHH:mm:ssZ' format\n   * @returns {Moment}\n   */\n  public parseISODatetime(datetime:string):Moment {\n    return this.parseDatetime(datetime, 'YYYY-MM-DDTHH:mm:ssZ');\n  }\n\n  public parseISODate(date:string):Moment {\n    return this.parseDate(date, 'YYYY-MM-DD');\n  }\n\n  public formattedDate(date:string):string {\n    const d = this.parseDate(date);\n    return d.format(this.getDateFormat());\n  }\n\n  /**\n   * Returns the number of days from today the given dateString is apart.\n   * Negative means the date lies in the past.\n   * @param dateString\n   */\n  public daysFromToday(dateString:string):number {\n    const date = this.parseDate(dateString);\n    const today = moment().startOf('day');\n\n    return date.diff(today, 'days');\n  }\n\n  public formattedTime(datetimeString:string):string {\n    return this.parseDatetime(datetimeString).format(this.getTimeFormat());\n  }\n\n  public formattedDatetime(datetimeString:string):string {\n    const c = this.formattedDatetimeComponents(datetimeString);\n    return `${c[0]} ${c[1]}`;\n  }\n\n  public formattedRelativeDateTime(datetimeString:string):string {\n    const d = this.parseDatetime(datetimeString);\n    return d.fromNow();\n  }\n\n  public formattedDatetimeComponents(datetimeString:string):string[] {\n    const d = this.parseDatetime(datetimeString);\n    return [\n      d.format(this.getDateFormat()),\n      d.format(this.getTimeFormat()),\n    ];\n  }\n\n  public toHours(durationString:string):number {\n    return Number(moment.duration(durationString).asHours().toFixed(2));\n  }\n\n  public toDays(durationString:string):number {\n    return Number(moment.duration(durationString).asDays().toFixed(2));\n  }\n\n  public toISODuration(input:string|number, unit:'hours'|'days'):string {\n    return moment.duration(input, unit).toIsoString();\n  }\n\n  public formattedDuration(durationString:string, unit:'hour'|'days' = 'hour'):string {\n    switch (unit) {\n      case 'hour':\n        return this.I18n.t('js.units.hour', { count: this.toHours(durationString) });\n      case 'days':\n        return this.I18n.t('js.units.day', { count: this.toDays(durationString) });\n      default:\n        // Case fallthrough for eslint\n        return '';\n    }\n  }\n\n  public formattedISODate(date:any):string {\n    return this.parseDate(date).format('YYYY-MM-DD');\n  }\n\n  public formattedISODateTime(datetime:any):string {\n    return datetime.format();\n  }\n\n  public isValidISODate(date:any):boolean {\n    return this.isValid(date, 'YYYY-MM-DD');\n  }\n\n  public isValidISODateTime(dateTime:string):boolean {\n    return this.isValid(dateTime, 'YYYY-MM-DDTHH:mm:ssZ');\n  }\n\n  public isValid(date:string, dateFormat:string):boolean {\n    const format = dateFormat || this.getDateFormat();\n    return moment(date, [format], true).isValid();\n  }\n\n  public getDateFormat():string {\n    return this.configurationService.dateFormatPresent() ? this.configurationService.dateFormat() : 'L';\n  }\n\n  public getTimeFormat():string {\n    return this.configurationService.timeFormatPresent() ? this.configurationService.timeFormat() : 'LT';\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2023 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\nimport * as moment from 'moment';\nimport flatpickr from 'flatpickr';\nimport { Instance } from 'flatpickr/dist/types/instance';\nimport { ConfigurationService } from 'core-app/core/config/configuration.service';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport { Injector } from '@angular/core';\nimport { InjectField } from 'core-app/shared/helpers/angular/inject-field.decorator';\nimport { WeekdayService } from 'core-app/core/days/weekday.service';\nimport { rangeSeparator } from './constants';\n\nimport DateOption = flatpickr.Options.DateOption;\nimport { DayResourceService } from 'core-app/core/state/days/day.service';\n\nexport class DatePicker {\n  private datepickerFormat = 'Y-m-d';\n\n  public datepickerInstance:Instance;\n\n  @InjectField() configurationService:ConfigurationService;\n\n  @InjectField() weekdaysService:WeekdayService;\n\n  @InjectField() daysService:DayResourceService;\n\n  @InjectField() I18n:I18nService;\n\n  private weekdaysPromise:Promise<unknown>;\n\n  constructor(\n    readonly injector:Injector,\n    private datepickerElemIdentifier:string,\n    private date:Date|Date[]|string[]|string,\n    private options:flatpickr.Options.Options,\n    private datepickerTarget:HTMLElement|null,\n  ) {\n    void this.initialize(options);\n  }\n\n  private initialize(options:flatpickr.Options.Options) {\n    this.weekdaysPromise = this\n      .weekdaysService\n      .loadWeekdays()\n      .toPromise()\n      .then(() => {\n        if (this.datepickerInstance) {\n          this.datepickerInstance.redraw();\n        }\n      });\n\n    const mergedOptions = _.extend({}, this.defaultOptions, options);\n\n    let datePickerInstances:Instance|Instance[];\n    if (this.datepickerTarget) {\n      datePickerInstances = flatpickr(this.datepickerTarget as Node, mergedOptions);\n    } else {\n      datePickerInstances = flatpickr(this.datepickerElemIdentifier, mergedOptions);\n    }\n\n    this.datepickerInstance = Array.isArray(datePickerInstances) ? datePickerInstances[0] : datePickerInstances;\n  }\n\n  public async isNonWorkingDay(day:Date):Promise<boolean> {\n    return this.weekdaysService.isNonWorkingDay(day) || await this.daysService.isNonWorkingDay$(day);\n  }\n\n  public clear():void {\n    this.datepickerInstance.clear();\n  }\n\n  public destroy():void {\n    this.hide();\n    this.datepickerInstance?.destroy();\n  }\n\n  public hide():void {\n    if (this.isOpen) {\n      this.datepickerInstance.close();\n    }\n  }\n\n  public show():void {\n    this.datepickerInstance.open();\n  }\n\n  public setDates(dates:DateOption|DateOption[]):void {\n    this.datepickerInstance.setDate(dates);\n  }\n\n  public get isOpen():boolean {\n    return this.datepickerInstance.isOpen;\n  }\n\n  private get defaultOptions() {\n    const firstDayOfWeek = this.configurationService.startOfWeek();\n\n    return {\n      weekNumbers: true,\n      getWeek(dateObj:Date) {\n        return moment(dateObj).format('W');\n      },\n      dateFormat: this.datepickerFormat,\n      defaultDate: this.date,\n      locale: {\n        weekdays: {\n          shorthand: this.I18n.t('date.abbr_day_names'),\n          longhand: this.I18n.t('date.day_names'),\n        },\n        months: {\n          shorthand: this.I18n.t<string[]>('date.abbr_month_names').slice(1),\n          longhand: this.I18n.t<string[]>('date.month_names').slice(1),\n        },\n        firstDayOfWeek,\n        weekAbbreviation: this.I18n.t('date.abbr_week'),\n        rangeSeparator: ` ${rangeSeparator} `,\n      },\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({ providedIn: 'root' })\nexport class DeviceService {\n  public mobileWidthTreshold = 680;\n\n  public get isMobile():boolean {\n    return (window.innerWidth < this.mobileWidthTreshold);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2022 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Injector,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n} from '@angular/forms';\nimport {\n  onDayCreate,\n  validDate,\n} from 'core-app/shared/components/datepicker/helpers/date-modal.helpers';\nimport { TimezoneService } from 'core-app/core/datetime/timezone.service';\nimport { DatePicker } from '../datepicker';\nimport flatpickr from 'flatpickr';\nimport { DayElement } from 'flatpickr/dist/types/instance';\nimport { populateInputsFromDataset } from '../../dataset-inputs';\nimport { debounce } from 'lodash';\nimport { DeviceService } from 'core-app/core/browser/device.service';\n\nexport const rangeSeparator = '-';\n\nexport const opBasicRangeDatePickerSelector = 'op-basic-range-date-picker';\n\n@Component({\n  selector: opBasicRangeDatePickerSelector,\n  templateUrl: './basic-range-date-picker.component.html',\n  styleUrls: [\n    '../styles/datepicker.modal.sass',\n    './basic-range-date-picker.component.sass',\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => OpBasicRangeDatePickerComponent),\n      multi: true,\n    },\n  ],\n})\nexport class OpBasicRangeDatePickerComponent implements OnInit, ControlValueAccessor, AfterViewInit {\n  @HostBinding('class.op-basic-range-datepicker') className = true;\n\n  @HostBinding('class.op-basic-range-datepicker_mobile') mobile = false;\n\n  @Output() valueChange = new EventEmitter();\n\n  private _value:string[] = [];\n\n  @Input() set value(newValue:string[]) {\n    this._value = newValue;\n    this.stringValue = this.resolveDateArrayToString(newValue);\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  @Input() id = `flatpickr-input-${+(new Date())}`;\n\n  @Input() name = '';\n\n  @Input() required = false;\n\n  @Input() disabled = false;\n\n  @Input() minimalDate:Date|null = null;\n\n  @Input() inputClassNames = '';\n\n  @ViewChild('input') input:ElementRef;\n\n  stringValue = '';\n\n  datePickerInstance:DatePicker;\n\n  text = {\n    date: this.I18n.t('js.work_packages.properties.date'),\n    placeholder: this.I18n.t('js.placeholders.default'),\n    spacer: this.I18n.t('js.filter.value_spacer'),\n  };\n\n  constructor(\n    readonly I18n:I18nService,\n    readonly timezoneService:TimezoneService,\n    readonly injector:Injector,\n    readonly cdRef:ChangeDetectorRef,\n    readonly elementRef:ElementRef,\n    readonly deviceService:DeviceService,\n  ) {\n    populateInputsFromDataset(this);\n  }\n\n  ngOnInit() {\n    this.mobile = this.deviceService.isMobile;\n  }\n\n  ngAfterViewInit():void {\n    if (!this.mobile) {\n      this.initializeDatePicker();\n    }\n  }\n\n  changeValueFromInputDebounced = debounce(this.changeValueFromInput.bind(this), 16);\n\n  changeValueFromInput(value:string|string[]) {\n    const newDates = (typeof value === 'string') ? this.resolveDateStringToArray(value) : value;\n\n    this.onChange(newDates);\n    this.onTouched(newDates);\n    this.writeValue(newDates);\n    this.cdRef.detectChanges();\n\n    if (newDates.find((el) => !validDate(el))) {\n      return;\n    }\n\n    this.valueChange.emit(newDates);\n  }\n\n  showDatePicker():void {\n    this.datePickerInstance?.show();\n  }\n\n  private initializeDatePicker() {\n    this.datePickerInstance = new DatePicker(\n      this.injector,\n      this.id,\n      this.value || '',\n      {\n        allowInput: true,\n        mode: 'range',\n        showMonths: 2,\n        onReady: (_date:Date[], _datestr:string, instance:flatpickr.Instance) => {\n          instance.calendarContainer.classList.add('op-datepicker-modal--flatpickr-instance');\n        },\n        onChange: (dates:Date[], dateStr:string) => {\n          if (dates.length === 2) {\n            const value = this.resolveDateStringToArray(dateStr);\n            this.writeValue(value);\n            this.onChange(value);\n            this.onTouched(value);\n          }\n\n          this.cdRef.detectChanges();\n        },\n        onDayCreate: async (dObj:Date[], dStr:string, fp:flatpickr.Instance, dayElem:DayElement) => {\n          onDayCreate(\n            dayElem,\n            true,\n            await this.datePickerInstance?.isNonWorkingDay(dayElem.dateObj),\n            !!this.minimalDate && dayElem.dateObj <= this.minimalDate,\n          );\n        },\n      },\n      this.input.nativeElement as HTMLInputElement,\n    );\n  }\n\n  writeValue(value:string[]):void {\n    this.value = value;\n  }\n\n  onChange = (_:string[]):void => {};\n\n  onTouched = (_:string[]):void => {};\n\n  registerOnChange(fn:(_:string[]) => void):void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn:(_:string[]) => void):void {\n    this.onTouched = fn;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private resolveDateStringToArray(dates:string):string[] {\n    return dates.split(` ${rangeSeparator} `).map((date) => date.trim());\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private resolveDateArrayToString(dates:string[]):string {\n    return dates.join(` ${rangeSeparator} `);\n  }\n}\n","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2022 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See COPYRIGHT and LICENSE files for more details.\n//++\n\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport {\n  ControlValueAccessor,\n  NG_VALUE_ACCESSOR,\n} from '@angular/forms';\nimport {\n  onDayCreate,\n  validDate,\n} from 'core-app/shared/components/datepicker/helpers/date-modal.helpers';\nimport { TimezoneService } from 'core-app/core/datetime/timezone.service';\nimport { DatePicker } from '../datepicker';\nimport flatpickr from 'flatpickr';\nimport { DayElement } from 'flatpickr/dist/types/instance';\nimport { populateInputsFromDataset } from '../../dataset-inputs';\nimport { DeviceService } from 'core-app/core/browser/device.service';\n\nexport const opBasicSingleDatePickerSelector = 'op-basic-single-date-picker';\n\n@Component({\n  selector: opBasicSingleDatePickerSelector,\n  templateUrl: './basic-single-date-picker.component.html',\n  styleUrls: ['../styles/datepicker.modal.sass'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => OpBasicSingleDatePickerComponent),\n      multi: true,\n    },\n  ],\n})\nexport class OpBasicSingleDatePickerComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy {\n  @Output() valueChange = new EventEmitter();\n\n  @Output() picked = new EventEmitter();\n\n  private _value = '';\n\n  @Input() set value(newValue:string) {\n    this._value = newValue;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  @Input() id = `flatpickr-input-${+(new Date())}`;\n\n  @Input() name = '';\n\n  @Input() required = false;\n\n  @Input() disabled = false;\n\n  @Input() minimalDate:Date|null = null;\n\n  @Input() inputClassNames = '';\n\n  @Input() remoteFieldKey = null;\n\n  @ViewChild('input') input:ElementRef;\n\n  mobile = false;\n\n  text = {\n    date: this.I18n.t('js.work_packages.properties.date'),\n    placeholder: this.I18n.t('js.placeholders.default'),\n  };\n\n  public datePickerInstance:DatePicker;\n\n  constructor(\n    readonly I18n:I18nService,\n    readonly timezoneService:TimezoneService,\n    readonly injector:Injector,\n    readonly cdRef:ChangeDetectorRef,\n    readonly elementRef:ElementRef,\n    readonly deviceService:DeviceService,\n  ) {\n    populateInputsFromDataset(this);\n  }\n\n  ngOnInit() {\n    this.mobile = this.deviceService.isMobile;\n  }\n\n  ngAfterViewInit():void {\n    if (!this.mobile) {\n      this.initializeDatePicker();\n    }\n  }\n\n  ngOnDestroy():void {\n    this.datePickerInstance?.destroy();\n  }\n\n  changeValueFromInput(value:string) {\n    if (validDate(value)) {\n      this.onTouched(value);\n      this.onChange(value);\n      this.writeValue(value);\n      this.datePickerInstance?.setDates(value);\n      this.valueChange.emit(value);\n    }\n  }\n\n  showDatePicker():void {\n    this.datePickerInstance?.show();\n  }\n\n  private initializeDatePicker() {\n    this.datePickerInstance = new DatePicker(\n      this.injector,\n      this.id,\n      this.value || '',\n      {\n        allowInput: true,\n        mode: 'single',\n        showMonths: 1,\n        onReady: (_date:Date[], _datestr:string, instance:flatpickr.Instance) => {\n          instance.calendarContainer.classList.add('op-datepicker-modal--flatpickr-instance');\n        },\n        onChange: (_:Date[], dateStr:string) => {\n          this.writeValue(dateStr);\n          if (dateStr.length > 0) {\n            const dateString = this.timezoneService.formattedISODate(dateStr);\n            this.valueChange.emit(dateString);\n            this.onTouched(dateString);\n            this.onChange(dateString);\n            this.writeValue(dateString);\n            this.picked.emit();\n          }\n\n          this.cdRef.detectChanges();\n        },\n        onDayCreate: async (_dObj:Date[], _dStr:string, _fp:flatpickr.Instance, dayElem:DayElement) => {\n          onDayCreate(\n            dayElem,\n            true,\n            await this.datePickerInstance?.isNonWorkingDay(dayElem.dateObj),\n            !!this.minimalDate && dayElem.dateObj <= this.minimalDate,\n          );\n        },\n      },\n      this.input.nativeElement as HTMLInputElement,\n    );\n  }\n\n  writeValue(value:string):void {\n    this.value = value;\n    this.datePickerInstance?.setDates(this.value);\n  }\n\n  onChange = (_:string):void => {};\n\n  onTouched = (_:string):void => {};\n\n  registerOnChange(fn:(_:string) => void):void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn:(_:string) => void):void {\n    this.onTouched = fn;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport {\n  FormsModule,\n  ReactiveFormsModule,\n} from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { I18nService } from 'core-app/core/i18n/i18n.service';\nimport { OpBasicRangeDatePickerComponent } from './basic-range-date-picker/basic-range-date-picker.component';\nimport { OpBasicSingleDatePickerComponent } from './basic-single-date-picker/basic-single-date-picker.component';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    CommonModule,\n  ],\n\n  providers: [\n    I18nService,\n  ],\n\n  declarations: [\n    OpBasicRangeDatePickerComponent,\n    OpBasicSingleDatePickerComponent,\n  ],\n\n  exports: [\n    OpBasicRangeDatePickerComponent,\n    OpBasicSingleDatePickerComponent,\n  ],\n})\nexport class OpBasicDatePickerModule { }\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './DatePickerBasic.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbDatePickerBasicExample { }\n","import * as moment from 'moment';\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './DatePickerBasicPrefilled.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbDatePickerBasicPrefilledExample {\n  date = moment(new Date()).format('YYYY-MM-DD');\n}\n","import * as moment from 'moment';\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  templateUrl: './DatePickerRangePrefilled.example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SbDatePickerRangePrefilledExample {\n  dates = [\n    moment(new Date()).format('YYYY-MM-DD'),\n    moment(new Date()).add(4, 'days').format('YYYY-MM-DD'),\n  ];\n}\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas, ArgsTable} from '@storybook/addon-docs';\nimport {moduleMetadata} from '@storybook/angular';\nimport {Figma} from 'mdx-embed';\nimport {I18nService} from '../app/core/i18n/i18n.service';\nimport {I18nServiceStub} from './i18n.service.stub';\nimport {WeekdayService} from '../app/core/days/weekday.service';\nimport {WeekdayServiceStub} from './weekday.service.stub';\nimport {DayResourceService} from '../app/core/state/days/day.service';\nimport {DayResourceServiceStub} from './day.service.stub';\nimport {States} from '../app/core/states/states.service';\nimport {OpBasicDatePickerModule} from '../app/shared/components/datepicker/basic-datepicker.module';\nimport {OpBasicSingleDatePickerComponent} from '../app/shared/components/datepicker/basic-single-date-picker/basic-single-date-picker.component.ts';\nimport {OpBasicRangeDatePickerComponent} from '../app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.ts';\nimport {SbDatePickerBasicExample} from './DatePickerBasic.example';\nimport {SbDatePickerBasicPrefilledExample} from './DatePickerBasicPrefilled.example';\nimport {SbDatePickerRangePrefilledExample} from './DatePickerRangePrefilled.example';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\",\n    a: \"a\",\n    h3: \"h3\",\n    strong: \"strong\",\n    em: \"em\",\n    ol: \"ol\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/Date Picker\",\n      decorators: [moduleMetadata({\n        providers: [{\n          provide: States,\n          useValue: new States()\n        }, {\n          provide: I18nService,\n          useFactory: () => I18nServiceStub\n        }, {\n          provide: WeekdayService,\n          useFactory: () => new WeekdayServiceStub()\n        }, {\n          provide: DayResourceService,\n          useFactory: () => new DayResourceServiceStub()\n        }],\n        imports: [OpBasicDatePickerModule]\n      })]\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Basic Date Picker\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The basic date picker is a key element in OpenProject and is displayed any time the user has to input a date.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Basic date pickers are attached to existing date input fields and is displayed as a drop-down when that date input field is in focus. It consists of only the mini-calendar component.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The basic date picker can also be placed inside modals like the work package date drop modal and the Baseline drop modal.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The most common places where users will interact with a date picker are:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Work packages (start and finish dates, milestone date)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Custom fields (of type date)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Log time and costs\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Admin settings (specifying individual non-working days)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Filters\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Baseline\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Single\",\n        children: {\n          component: SbDatePickerBasicExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"External dependencies\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"All date picker are built on the \", _jsx(_components.a, {\n        href: \"https://flatpickr.js.org/\",\n        children: \"Flatpickr javascript library\"\n      }), \". The library gives us certain functionality out of the box with a fairly high degree of customisation, but also introduces limits (which will be mentioned below when relevant).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Please read the \", _jsx(_components.a, {\n        href: \"https://flatpickr.js.org/instance-methods-properties-elements/\",\n        children: \"Flatpickr documentation\"\n      }), \" before using or contributing to date pickers.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Sub-variants\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The structure is very basic and consists only of one mini calendar. There are two sub-variants:\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Single\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Single\"\n      }), \" allows picking just one date (2023-02-09)\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Single with prefilled value\",\n        children: {\n          component: SbDatePickerBasicPrefilledExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Range\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Range:\"\n      }), \" allows inputing a range (2023-02-09 - 2023-02-14), and shows the date picker with two months.\"]\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Range with prefilled value\",\n        children: {\n          component: SbDatePickerRangePrefilledExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Building Blocks\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"All date pickers are built out of a common set of components. The basic building blocks specific to date pickers are:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Month-year selector\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Days of the week\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Mini day\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Mini calendar (made of Mini days)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Apart from the banner, all other building blocks are provided by Flatpickr and only styled in OpenProject. The following section will only describe how they are styled.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Month-year selector\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Month-year\"\n      }), \" selectors allow the user to move forward/backwards in one-month increments.\"]\n    }), \"\\n\", _jsx(Figma, {\n      title: \"Month-year selector\",\n      url: \"file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=3655%3A17592&t=eNjGyvY1pXJeQFHr-1\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We use the basic structure provided by Flatpickr:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"previous button: \", _jsx(_components.em, {\n          children: \"Grey 1\"\n        }), \" text, \", _jsx(_components.em, {\n          children: \"Primary\"\n        }), \"on hover,\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"month indicator: Body/Small Regular; \", _jsx(_components.em, {\n          children: \"Grey 1\"\n        }), \" text\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"this becomes drop down selector when clicked\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"year: Body/Small Regular; \", _jsx(_components.em, {\n          children: \"Grey 1\"\n        }), \" text\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"this becomes a text box when clicked\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"next button:\", _jsx(_components.em, {\n          children: \"Grey 1\"\n        }), \" text, \", _jsx(_components.em, {\n          children: \"Primary\"\n        }), \"on hover\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are two sub-variants:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"arrows on both sides (for single date pickers)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"without the right arrow: used on the left side of a two-month range calendar\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"without the left arrow: used on the right side of a two month range calendar\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Days of the week\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Days of the week are headers for the mini calendar and list the days of the week in three-letter acronyms (Mon, Tue, Wed, Thu, Fri, Sat, Sun).\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"They are set in Caption/Bold; \", _jsx(_components.em, {\n        children: \"Grey 1\"\n      }), \" text.\"]\n    }), \"\\n\", _jsx(Figma, {\n      title: \"Days of the Week\",\n      url: \"file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=3655%3A17479&t=eNjGyvY1pXJeQFHr-1\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Mini day\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The mini day displays individual dates on the mini-calendar, and has a number of different states. Each of these states can be \", _jsx(_components.em, {\n        children: \"enabled\"\n      }), \" (it is active and clickable) or \", _jsx(_components.em, {\n        children: \"disabled\"\n      }), \" (it is inactive and not clickable).\"]\n    }), \"\\n\", _jsx(Figma, {\n      title: \"Days of the Week\",\n      url: \"file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=3655%3A17535&t=eNjGyvY1pXJeQFHr-1\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Mini days are set in Caption/Regular.\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Regular\"\n        }), \" days are the default state and cover the vast majority of cases.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"Enabled: \", _jsx(_components.em, {\n              children: \"Grey 1\"\n            }), \"text on \", _jsx(_components.em, {\n              children: \"White\"\n            }), \" background.\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"On Hover: add stroke, 1px, Grey 3 (not-rounded)\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Disabled: \", _jsx(_components.em, {\n              children: \"Grey 3\"\n            }), \" text on \", _jsx(_components.em, {\n              children: \"White\"\n            }), \" background.\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Used when certain dates that are restricted by relations.\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"A non-working day\"\n        }), \" can be a weekend or one that's individually-defined in the admin settings:\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"Enabled: \", _jsx(_components.em, {\n              children: \"Grey 1\"\n            }), \" text on \", _jsx(_components.em, {\n              children: \"Grey 6\"\n            }), \" background\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Used when the \\\"Working days only\\\" switch is OFF.\"\n              }), \"\\n\", _jsx(_components.li, {\n                children: \"On Hover: add stroke, 1px, Grey 3 (not-rounded)\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Disabled: \", _jsx(_components.em, {\n              children: \"Grey 3\"\n            }), \" text on \", _jsx(_components.em, {\n              children: \"Grey 6\"\n            }), \" background.\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Default state, when the \\\"Working days only\\\" switch is ON.\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Selected-start, select-end or selected-single\"\n        }), \" indicate the start and finish dates of a range, or the selected date for a single date.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"They have 5-pixel rounding on the left for start, right for end and and on all corners for single dates.\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Enabled: \", _jsx(_components.em, {\n              children: \"White\"\n            }), \" text on \", _jsx(_components.em, {\n              children: \"Main/Primary\"\n            }), \"background\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Disabled: \", _jsx(_components.em, {\n              children: \"Grey 3\"\n            }), \" text on \", _jsx(_components.em, {\n              children: \"Grey 5\"\n            }), \" background\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Used when the date is already set and not user-modifiable (eg. automatically scheduled).\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Selected-mid\"\n        }), \" indicates working days that are included in a date range:\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"Enabled: \", _jsx(_components.em, {\n              children: \"Main/Primary\"\n            }), \"text on \", _jsx(_components.em, {\n              children: \"Main/Light\"\n            }), \" background\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Disabled: \", _jsx(_components.em, {\n              children: \"Grey 3\"\n            }), \" text on \", _jsx(_components.em, {\n              children: \"Grey 5\"\n            }), \" background\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"used when the range is already set and not user-modifiable (eg. on a parent work package that is automatically scheduled and the dates are set by its children).\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Selected-mid-non-spanned\"\n        }), \" indicates non-working days that are spanned (but not counted) in a date range:\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Enabled state does not exist (since if a date is selected, it cannot be disabled).\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Disabled: Main/Primary text on \", _jsx(_components.em, {\n              children: \"Grey 6\"\n            }), \" background\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Used when the selected range spans non-working days that are not included (Working days only switch is ON).\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Today\"\n        }), \" indicates today's date.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"Enabled: \", _jsx(_components.em, {\n              children: \"Grey 1\"\n            }), \" text on \", _jsx(_components.em, {\n              children: \"Indication\"\n            }), \"/\", _jsx(_components.em, {\n              children: \"Current\"\n            }), \" background.\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"On Hover: add stroke, 1px, Grey 3 (not-rounded)\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Disabled: \", _jsx(_components.em, {\n              children: \"Grey 3\"\n            }), \"text on \", _jsx(_components.em, {\n              children: \"Indication\"\n            }), \"/\", _jsx(_components.em, {\n              children: \"Current\"\n            }), \" background.\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Used when today falls on a non-working day and \\\"Working days only\\\" switch is ON.\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Mini calendar\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The mini calendar consists of three elements:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"a month-year selector\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"a days of the week line\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"a 75 grid of mini days\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(Figma, {\n      title: \"Mini calendar\",\n      url: \"file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=3655%3A17552&t=eNjGyvY1pXJeQFHr-1\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For certain months, there might be an additional (6) or one fewer (5) row, depending on the number of days in that month and the starting day.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For example, a February starting on a Monday will only have lines, and a November starting on a Saturday will have six.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Mobile\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The basic date picker does not have a mobile version. On mobile devices, Flatpickr will automatically gracefully degrade to the device's native date picker.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For more complex implementations involving date pickers (the work package date field or the baseline modal), please refer to documentation concerning those specific features for notes on mobile-specific rendering.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Accessibility\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The basic date picker itself never receives focus (and thus does not afford keyboard navigation or screen reader compatibility). However, the date input field that the date picker is attached to can receive focus and all users can type in the desired date in the ISO format.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Usage\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The basic date picker is used in:\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Single date picker\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Log time\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Log unit costs\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Custom fields (work package and project)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Meeting minutes\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Work package table filters\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Work package bulk edit form\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Announcement edit form\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Version new and edit form and custom fields\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Project filters\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Cost report filters\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Budget forms\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Dynamic forms\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: OpBasicSingleDatePickerComponent\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Range date picker\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Pause date reminders\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(ArgsTable, {\n      of: OpBasicRangeDatePickerComponent\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const single = () => (\n          {\n  component: SbDatePickerBasicExample\n}\n        );\nsingle.storyName = 'Single';\nsingle.parameters = { storySource: { source: '{\\n  component: SbDatePickerBasicExample\\n}' } };\n\nexport const singleWithPrefilledValue = () => (\n          {\n  component: SbDatePickerBasicPrefilledExample\n}\n        );\nsingleWithPrefilledValue.storyName = 'Single with prefilled value';\nsingleWithPrefilledValue.parameters = { storySource: { source: '{\\n  component: SbDatePickerBasicPrefilledExample\\n}' } };\n\nexport const rangeWithPrefilledValue = () => (\n          {\n  component: SbDatePickerRangePrefilledExample\n}\n        );\nrangeWithPrefilledValue.storyName = 'Range with prefilled value';\nrangeWithPrefilledValue.parameters = { storySource: { source: '{\\n  component: SbDatePickerRangePrefilledExample\\n}' } };\n\nconst componentMeta = { title: 'Patterns/Date Picker', decorators: [moduleMetadata({\n  providers: [{\n    provide: States,\n    useValue: new States()\n  }, {\n    provide: I18nService,\n    useFactory: () => I18nServiceStub\n  }, {\n    provide: WeekdayService,\n    useFactory: () => new WeekdayServiceStub()\n  }, {\n    provide: DayResourceService,\n    useFactory: () => new DayResourceServiceStub()\n  }],\n  imports: [OpBasicDatePickerModule]\n})], includeStories: [\"single\",\"singleWithPrefilledValue\",\"rangeWithPrefilledValue\"],  };\n\nconst mdxStoryNameToKey = {\"Single\":\"single\",\"Single with prefilled value\":\"singleWithPrefilledValue\",\"Range with prefilled value\":\"rangeWithPrefilledValue\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './DividerSoft.example.html',\n})\nexport class SbDividerSoftExample { }\n","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './DividerStrong.example.html',\n})\nexport class SbDividerStrongExample { }\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport {SbDividerSoftExample} from './DividerSoft.example';\nimport {SbDividerStrongExample} from './DividerStrong.example';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    a: \"a\",\n    strong: \"strong\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Divider\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Divider\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A divider is a non-interactive visual element that allows for better grouping, organisation and hierarchy of elements on a page or a modal.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The divider should only be used when the absence of such a separation can lead to a view looking too busy or unstructured.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The divider is not interactive.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The divider can either be full-width (in the \", _jsx(_components.a, {\n        href: \"#\",\n        children: \"Modal Dialogue\"\n      }), \" header, for example) or span only a part of the width of the parent (in the activity split screen).\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is determined by the parent element within which the divider is contained.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Divider are usually placed horizontally, although they can also be placed  vertically.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A divider can be soft or strong. The correct one to use depends on the structure and contrast of surrounding elements:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Soft\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"1 px, Grey-5 (#E0E0E0)\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Soft\",\n        children: {\n          component: SbDividerSoftExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Strong\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"1px, Grey-4 (#CCCCCC)\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Strong\",\n        children: {\n          component: SbDividerStrongExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"Example: In the work package details view, the main three-way split (top header, left-side description, right-side split screen) is done using strong dividers, but on the Activity tab, dates are separated with soft ones.\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const soft = () => (\n          {\n  component: SbDividerSoftExample\n}\n        );\nsoft.storyName = 'Soft';\nsoft.parameters = { storySource: { source: '{\\n  component: SbDividerSoftExample\\n}' } };\n\nexport const strong = () => (\n          {\n  component: SbDividerStrongExample\n}\n        );\nstrong.storyName = 'Strong';\nstrong.parameters = { storySource: { source: '{\\n  component: SbDividerStrongExample\\n}' } };\n\nconst componentMeta = { title: 'Components/Divider', includeStories: [\"soft\",\"strong\"],  };\n\nconst mdxStoryNameToKey = {\"Soft\":\"soft\",\"Strong\":\"strong\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Dropdown button\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Dropdown button\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Filter button with a badge value of 3.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Description\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The dropdown button is a special type of button with a permanent down arrow on the right edge (suggesting further actions) and an optional badge.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Clicking on a dropdown button generally opens the dropdown menu, or a drop modal. When the menu or modal is open, clicking on the button again closes it.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: A more button that opens a dropdown menu\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In some (rarer) cases, it can open a panel. An example of this is the Filter button.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The badge is optional and can hold a number from 0 to 99. After 99, the number simply reads \\\"99+\\\".\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Components/Dropdown button', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/Dropdown menu\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Dropdown menu\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: A dropdown menu with four items\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The dropdown menu is a contextual menu triggered by clicking on a dropdown button. It provides options to the use.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Structure and Options\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The dropdown menu consists of a list of items, generally \", _jsx(_components.em, {\n        children: \"menu rows\"\n      }), \" and an optional title.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The title is not interactive. It serves to provide additional context, if necessary.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A menu item is interactive and generally represents an action. The menu item can optionally have an icon on the left side.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example of an existing more menu that has icons next to each menu row\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"States\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Each menu item has three states: regular, hover and clicked.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Each item has a height of 1.5 rem. There is a 0.25 rem spacing between the optional icon and the label, and a 0.5 rem rem spacing to the left and right.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The width is determined by the longest object, or can be defined manually. If defined manually, items that are very long and exceed this length are truncated.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Eg: a menu item that's very long and truncated\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Patterns/Dropdown menu', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport tokens from '../app/spot/styles/tokens/dist/tokens.json';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    em: \"em\",\n    blockquote: \"blockquote\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Styles/Focus state\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Focus state\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Focus state in OpenProject is represented by a 2-pixel outline with colour \", _jsx(_components.em, {\n        children: \"Indication/Focus\"\n      }), \"  around the focused element.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example of some elements with the focus state simulated\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Note\"\n      }), \": \", _jsx(_components.em, {\n        children: \"Active\"\n      }), \" is a similar state as focused, but not entirely the same. For example, in the date picker, the start date can be \\\"active\\\" (meaning that clicking on a date in the mini-calendar will change the start date) but not in focus (because the mouse pointer has clicked outside of the field and the focus is technically outside the field).\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Styles/Focus state', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta} from '@storybook/addon-docs';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    a: \"a\",\n    em: \"em\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    h3: \"h3\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Using this resource\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Using this resource\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"We use \", _jsx(_components.a, {\n        href: \"https://storybook.js.org/\",\n        children: \"Storybook\"\n      }), \" to document our design system. You will find defined styles, components and patterns in the relevant sections.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You will not find \", _jsx(_components.em, {\n        children: \"all\"\n      }), \" elements in Storybook yet. The design system at OpenProject is a work in progress; many parts of the software still use older elements that have not been standardised and defined.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As we work through defining and coumenting each new component, we will find them here.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Other resources\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"All of the components described here also exist in our Figma libraries:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://www.figma.com/file/vOw6PEVIyzaQOIgf02VZFW/Foundations-Library?node-id=228%3A2\",\n          children: \"Foundation styles\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=386%3A3606\",\n          children: \"Components\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.em, {\n        children: [\"You might find examples of some older elements in the older \", _jsx(_components.a, {\n          href: \"http://spike.openproject-stage.com:4200/assets/styleguide.html#forms\",\n          children: \"Living Style Guide\"\n        }), \". This will eventually be replaced by Storybook, but this will require time.\"]\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Semantics\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When describing components, we use certain words in very particular ways:\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Disabled\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.em, {\n        children: \"Disabled\"\n      }), \" is when no interaction is possible. A disabled element can itself have multiple states: a checkbox can be checked and disabled, a switch can be ON and disabled, a dropdown might have a value but but disabled.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The opposite of disabled is \", _jsx(_components.em, {\n        children: \"enabled\"\n      }), \". All elements are described in their enabled state unless explicitly mentioned.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Focused and active\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Focus simply refers to when an element has the current object in DOM that has the input focus. In OpenProject, elements that are focused generally have a blue outline.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The opposite of \", _jsx(_components.em, {\n        children: \"in focus\"\n      }), \" (or focused) is \", _jsx(_components.em, {\n        children: \"not in focus\"\n      }), \" (or focused).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.em, {\n        children: \"Active\"\n      }), \" is a similar state as focused, but not entirely the same. For example, in the date picker, the start date can be \\\"active\\\" (meaning that clicking on a date in the mini-calendar will change the start date) but not in focus (because the mouse has clicked outside of the field).\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The opposite of active is \", _jsx(_components.em, {\n        children: \"inactive\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Checked and on\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Checkboxes can be \", _jsx(_components.em, {\n        children: \"checked\"\n      }), \" (true) or \", _jsx(_components.em, {\n        children: \"unchecked\"\n      }), \" (false)\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Radio options can also be \\\"checked\\\" (as in, in a set of three options, only one can be checked) despite this not being the technically correct word. This isi to to distinguish it from \\\"selected\\\" (which refers to selecting an element or an area with the cursor).\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Switches can be \", _jsx(_components.em, {\n        children: \"ON\"\n      }), \" (true) or \", _jsx(_components.em, {\n        children: \"OFF\"\n      }), \" (false).\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Browsing through the docs\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This Storybook is divided in three sections:\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Styles\"\n      }), \" include foundational elements like typography, colour, spacing and shadows. All other elements are defined using these base styles.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Components\"\n      }), \" are individual elements (like checkboxes, buttons or text fields), each of which has its own states, variants and behaviour.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Patterns\"\n      }), \" are larger, recurring UI elements made up of a set of different components. Each component used in a pattern still retains its own specificities (options, variatns), but can also have certiain behaviour at the level of the pattern itself. (For example, an action bar can have two or three buttons, which can either be on the left side or the right side).\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"To be added:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"What the left-side menu includes (and does not include)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"How to find linked/dependent elements\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Contributing:\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"As a developer\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"As a designer\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Using this resource', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta} from '@storybook/addon-docs';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Design System\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Design System\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"At OpenProject, we use a design system to ensure that our design delivers a consistent experience to users. The system describes the styles, components and patterns that come together to define the overall user interface. To do this, we provide documentation explaining how each element should be used, the different states, variations and options it offers, along with example implementation in Angular or Rails.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Our goal is to reach a point where every view in OpenProject is built with elements described in the design system. However, we are aware that reaching this goal will take time for a tool as complex and layered as OpenProject.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As such, the design system is still in its infancy and will grow with each release.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"SPOT\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Internally, our design system is called SPOT, which stands for \\\"Single Point of Truth\\\". You will often see the \", _jsx(_components.code, {\n        children: \"spot-\"\n      }), \" prefix used in code; this is primarily to distinguish newer SPOT-based components from older elements that have the \", _jsx(_components.code, {\n        children: \"op-\"\n      }), \" prefix.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Approach\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"OpenProject is a complex, powerful tool. One of its key strengths is its customisability and its ability to adapt to a range of different needs. This includes complex filtering options, custom types and statuses, custom fields and a wide range of options to configure views and work package forms.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Nevertheless, it is very important that OpenProject be intuitive for new users who might not necessarily need that complexity, or indeed be overwhelmed by it.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Our design approach aims to strike the right balance between powerful and accessible with a two-tiered approach: apply sane defaults and present the most common options, and allow advanced users the option (via an additional click) to customise and fine-tune.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"The UX of Open Source\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As an open source project with a considerably long history and a large number of contributors, different parts of OpenProject have evolved at different paces, sometimes with completely different technology. Similar components are sometimes implemented somewhat differently in different parts of the software, and there are even multiple implementations of the same basic design.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is quite normal for a large open-source project that has not had a dedicated design team for most of its conception.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"One of the goals of the design system is to introduce more coherence and introduce a more modern design language. Whilst we would naturally prefer to be able to update everything at the same time and push the new design system to the entire software, we recognise the need for a more pragmatic approach. The design system will be rolled out in phases, with a careful study of the consequences of updating each component or pattern, and the potential dependencies that will be affected.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We recognise that UI/UX has not always been the highest priority for open-source projects. This is somewhat understandable given how open source projects have relatively fewer design resources dedicated to it than commercial products. Our goal is to do our part to improve that situation as much as we can and document our process.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Design System', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './Link.example.html',\n})\nexport class SbLinkExample { }\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../app/spot/spot.module';\nimport {SbLinkExample} from './Link.example.ts';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\",\n    blockquote: \"blockquote\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Link\",\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=859%3A6760'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Links\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The link is used for contextual actions where a button would take too much space, or break the flow of existing content.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Links are usually in-line.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The link works like a classic HTML link. The action is triggered immediately on click.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A link can optionally have:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"A left-icon\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"A right-icon\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Text\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"These can be combined. The most common combinations are:\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text only\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is the most basic link.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Default\",\n        children: {\n          component: SbLinkExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text with left icon\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The left icon provides additional context when necessary.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text with right icon\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The right icon is not used as much but is available. The most common use case is to have a down-pointing arrow to signal the presence of drop-down menu, a right-pointing arrow to signal forward movement (in a multi-step process) or an external icon to indicate that the link opens in a separate tab.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Text with both icons\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is available but we discourage its use.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Icon-only\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is essentially just an icon, but is offered here as a way of degrading a link with icon to just an icon when there are spatial constraints.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.em, {\n        children: \"Note: We discourage using icon-only links if the icon unfamiliar to the user, or the action is one that the user would not have previously encountered. The only exception is when space is very tight and there is immediate feedback (eg. configure button on a search bar).\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"States\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Regular\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Hover\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Clicked\"\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Contrary to buttons, links do not inherently have margin and padding.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"When there are icons present, there is a 0.25 rem margin between the text and the icon.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const defaultStory = () => (\n          {\n  component: SbLinkExample\n}\n        );\ndefaultStory.storyName = 'Default';\ndefaultStory.parameters = { storySource: { source: '{\\n  component: SbLinkExample\\n}' } };\n\nconst componentMeta = { title: 'Components/Link', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=859%3A6760\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], includeStories: [\"defaultStory\"],  };\n\nconst mdxStoryNameToKey = {\"Default\":\"defaultStory\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","import { Component } from '@angular/core';\n\n@Component({\n  template: '',\n})\nexport class SbEmptyComponent { }\n","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ListWithLinks.example.html',\n})\nexport class SbListWithLinksExample { }\n","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ListWithCheckboxes.example.html',\n})\nexport class SbListWithCheckboxesExample { }\n","import { Component } from '@angular/core';\n\n@Component({\n  templateUrl: './ListCompact.example.html',\n})\nexport class SbListCompactExample { }\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {moduleMetadata} from '@storybook/angular';\nimport {Canvas, Meta, Story} from '@storybook/addon-docs';\nimport {OpSpotModule} from '../app/spot/spot.module';\nimport {SbEmptyComponent} from './Empty.component.ts';\nimport {SbListWithLinksExample} from './ListWithLinks.example.ts';\nimport {SbListWithCheckboxesExample} from './ListWithCheckboxes.example.ts';\nimport {SbListCompactExample} from './ListCompact.example.ts';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/List\",\n      decorators: [moduleMetadata({\n        imports: [OpSpotModule]\n      })],\n      parameters: {\n        design: {\n          type: 'figma',\n          url: 'https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=859%3A6760'\n        }\n      }\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"List\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lists are simply a collection of components in a vertical list. They can be used inside modals like dropdowns, within a small scrollable module, or anywhere else a series of items needs to be presented.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This component does not have a Figma object associated with it, since a group of elements itself is the list. This component represents lists that are interactive (checkboxes and drop down selections), or when the list is generated as a result of interaction. The items in the list are all individual components (or list primitives).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This list is not to be confused with a standard HTML list element, which generates a bullet list of text. For this, a component is not needed in the Design System.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"With Links\",\n        children: {\n          component: SbListWithLinksExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Items are displayed stacked vertically. The behaviour of each individual element is inherited from properties of that element.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Lists also allow nesting. Each nested item has an additional 16px padding to the left in relation to its parent.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The dimensions of the list are defined by the dimensions of the containing element, and its overflow rules.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Actions\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"List items have a primary action attached to them. This can be linking somewhere, a button listener, or acting\\nas a label for a checkbox.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"With Checkboxes\",\n        children: {\n          component: SbListWithCheckboxesExample\n        }\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Compact\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The compact version makes the items a little bit less tall.\"\n    }), \"\\n\", _jsx(Canvas, {\n      children: _jsx(Story, {\n        name: \"Compact\",\n        children: {\n          component: SbListCompactExample\n        }\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const withLinks = () => (\n          {\n  component: SbListWithLinksExample\n}\n        );\nwithLinks.storyName = 'With Links';\nwithLinks.parameters = { storySource: { source: '{\\n  component: SbListWithLinksExample\\n}' } };\n\nexport const withCheckboxes = () => (\n          {\n  component: SbListWithCheckboxesExample\n}\n        );\nwithCheckboxes.storyName = 'With Checkboxes';\nwithCheckboxes.parameters = { storySource: { source: '{\\n  component: SbListWithCheckboxesExample\\n}' } };\n\nexport const compact = () => (\n          {\n  component: SbListCompactExample\n}\n        );\ncompact.storyName = 'Compact';\ncompact.parameters = { storySource: { source: '{\\n  component: SbListCompactExample\\n}' } };\n\nconst componentMeta = { title: 'Components/List', parameters: {\n  design: {\n    type: \"figma\",\n    url: \"https://www.figma.com/file/XhCsrvs6rePifqbBpKYRWD/Components-Library?node-id=859%3A6760\"\n  }\n}, decorators: [moduleMetadata({\n  imports: [OpSpotModule]\n})], includeStories: [\"withLinks\",\"withCheckboxes\",\"compact\"],  };\n\nconst mdxStoryNameToKey = {\"With Links\":\"withLinks\",\"With Checkboxes\":\"withCheckboxes\",\"Compact\":\"compact\"};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta} from '@storybook/addon-docs';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    h2: \"h2\",\n    p: \"p\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Devices and Accessibility\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Devices and Accessibility\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Desktop-first\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"OpenProject is not primarily designed for mobile use or with a mobile-first approach, despite most parts of the software adapting fairly well to smaller screens. The majority of features and views are designed to take advantage of larger screens and more complex interactions, including keyboard shortcuts.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Nevertheless, certain features are particularly useful in a mobile context. These include accessing notifications on the go, viewing work packages, reading and responding to comments and viewing attachments and linked files. These features will be given particular attention and optimised for mobile use.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We do not consider project planning, complex scheduling and team planning to be priority use cases on mobile.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Accessibility\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We recognise the importance of accessibility and are aware that OpenProject still has a fair bit of progress to make in this regard. We intend to initially focus on improving contrast, ensuring UI elements have meaningful alt-text and descriptions and expanding the support for keyboard shortcuts.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We will incrementally evaluate ways to improve our design to better serve users with visual, auditory or motor impairment.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Localisation and internationalisation\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"OpenProject supports several languages. Our designs must take internalisation into account, notably in terms of string length and spacing.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The primary design language is English. Our Figma prototypes are always designed first with strings in English and, when relevant, tested with German, French and Spanish translations. This covers our largest user base.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For other languages, we rely on our translators and our community on [Crowdin](https://crowdin.com/translate/openproject/) for their help. If there are design-specific issues that are present in certain languages, we encourage the community to file bug reports so we may fix them.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Devices and Accessibility', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport tokens from '../app/spot/styles/tokens/dist/tokens.json';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\",\n    strong: \"strong\",\n    a: \"a\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Patterns/Modal Dialogue\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Modal dialogue\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example of modal with two buttons: Cancel and Delete (danger)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The modal dialogue is used to to provide actions that require the users attention. They interrupt the users regular navigation in that they cover the screen and make interaction behind it not possible whilst it is displayed.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The most common use-case are alert dialogues (before deleting a file, for example), but the modal is also used for in a number of other places (see Where its used).\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Composition\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This pattern is composed of these components:\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Modal header\"\n      }), \"\\nThis consists of the top header, with text and an optional horizontal divider. The text is ideally short and serves to clarify the context of the modal to the user.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Modal body\"\n      }), \"\\nThis part contains all the elements that form the modal: text, form elements, videos, images, work package cards. The user normally is invited to perform actions or view something.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Modal footer\"\n      }), \"\\nThe footer of a modal dialogue is always an \", _jsx(_components.a, {\n        href: \"?path=/docs/blocks-action-bar--default-story\",\n        children: \"action bar\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Container\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The modal is contained in frame with a white background, rounded corners (4px). The footer, being an action bar, can either have a grey (default) or a white background.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Modal body content\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In its simplest form, the modals content is simply text (as in the example above). However, the modal can contain a range of other components, including images, video, tables, work package cards, checkbox and scrollable areas.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This component does not by itself define the types of content it can contain. Some Dos and Donts are nevertheless to be respected.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The modal is launched by user action and displayed in a lightbox (a semi-transparent grey background).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The action bar always has only two actions, one of which is always Cancel (secondary) and the other one usually an confirmational action like Apply or Save. As with any action bar, a third action (usually a checkbox) can optionally be displayed on the left corner.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Clicking outside the modal, in the grey area, is the equivalent of pressing the cancel button.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Dos and Dont's\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Do\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Do try to keep the modal as simple as possible. The goal is to direct user attention to something specific in the context of another action or place. If a feature requires a lot of configuration options and that itself has different modes, consider a full page.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Don't\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Dont nest modals into modals, simple drop-downs are fine.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Customise the modal with variations (like colours) unless they are absolutely necessary, In which case, the modal component can be expanded to allow for them.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Make titles very long (avoid having them span more than a line)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Margins, Padding and Styling\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The container has 4px rounded corners.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The modal (in desktop form) has two acceptable widths: 40 REM and 60 REM.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The header has 16px padding (left and right) and a 16px top margin.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Note that the optional divider in the header a 16px top margin but no additional margin/padding, and must take 100% of the width of the modal.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The content area has has 16px margins all around it.\\nThe action bar has no margins relative to the container (but does have its own internal margins defined in the action bar component).\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Header divider\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The header can have an optional divider at the bottom (Grey-5 #E0E0E0, 1px).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Header icon\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The header can have an optional icon (24px square) on the left side.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Where it's used\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Filepicker / location picker\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Alert dialogue\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Delete file links\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Remove file\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Work package deletion\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Invite user\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Log time\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Add widget\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"New Board\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Work package table settings\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Help text\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Help > Introduction video\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"My account > Two-factor authentication > Backup codes password\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"My account > Two-factor authentication > Delete authentication\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Administration > Attribute help texts > Preview help text\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Administration > Enterprise Edition > Delete token\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Patterns/Modal Dialogue', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport {moduleMetadata} from '@storybook/angular';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\",\n    strong: \"strong\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"Section Headers\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: Section header example\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The section header is used to separate different sections of a page or a view, or different grouping of similar functionality.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"In the Files tab for example, the section header separates the Attachments section and the the different file storages that may be available to a work package.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Structure and Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Section headers are at their most basic form a label (in all-caps) with a line underneath.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example of a basic section header\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However, they can be extended with a few additional features:\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Left icon\"\n      }), \"\\nThis icon can be added to provide context. In a files list, for example, the left icon is used to indicate to which storage provider (for example, Nextcloud) that file storage is linked.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In some parts of the application, this icon is also used to indicate open/closed state when the section header functions as an expandable/collapsible section (see \", _jsx(_components.em, {\n        children: \"Behaviour\"\n      }), \").\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.em, {\n        children: \"Note: Since this element is always all-caps, the baseline of the font requires the icon to be raised by a few pixels. See\"\n      }), \" Margins and Spacing \", _jsx(_components.em, {\n        children: \"for more details.\"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Right icon\"\n      }), \"\\nThe icon can be placed to the right of the text too, if required. It can optionally also be used as a link (in icon-only mode). This should nevertheless be used sparingly.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Action\"\n      }), \"\\nThis is usually a button on the far edge (by default the right edge) of the component, but can also be a link. This is used to provide additional contextual action related to that whole section (to access the home directory in Nextcloud in a new tab, for example).\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example of a section header with a left icon and an action (like a Nextcloud file storage)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Right position\"\n      }), \"\\nThe entire structure can be inverted, with the action buton on the left and the title and icons on the right. This should ideally never be used, but exists because such a format already exists in some places. Use sparingly.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The section header behaves either as a regular header (static) or as an expandable/collapsible section, where clicking on the entire section header will expand and collapse the content underneath.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: \\\"Group by\\\" expandable/collapsible section, like a cost report page\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The headers have an 0.5 rem top and bottom margin.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Because the label is all-caps, the baseline of the font is (visually) slightly higher than it otherwise would have been with mixed case. If the optional icons are used, the CSS of this component automatically pushed them up by a few pixels for better alignment.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nconst componentMeta = { includeStories: [],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","export const cols = ['Low', 'Mid', 'High'];\nexport const rows = ['Light', 'Hard'];\n","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport tokens from '../app/spot/styles/tokens/dist/tokens.json';\nimport {rows, cols} from './shadows-data.jsx';\nexport const ShadowsTable = ({tokens}) => {\n  const _components = Object.assign({\n    table: \"table\",\n    tbody: \"tbody\",\n    tr: \"tr\",\n    td: \"td\",\n    div: \"div\"\n  }, _provideComponents());\n  return _jsx(_components.table, {\n    className: \"shadows\",\n    children: _jsxs(_components.tbody, {\n      children: [_jsxs(_components.tr, {\n        children: [_jsx(_components.td, {}), cols.map(col => _jsx(_components.td, {\n          children: col\n        }, col))]\n      }), rows.map(row => _jsxs(_components.tr, {\n        children: [_jsx(_components.td, {\n          children: row\n        }), cols.map(col => `spot-shadow-${row.toLowerCase()}-${col.toLowerCase()}`).map(name => _jsx(_components.td, {\n          children: _jsxs(_components.div, {\n            class: \"shadows--preview\",\n            style: {\n              'boxShadow': tokens[name]\n            },\n            children: [_jsxs(_components.div, {\n              className: \"shadows--name\",\n              children: [\"$\", name]\n            }), _jsx(_components.div, {\n              className: \"shadows--value\",\n              children: tokens[name]\n            })]\n          })\n        }, name))]\n      }, row))]\n    })\n  });\n};\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Styles/Shadows\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Shadows\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Shadows are important when certain components are displayed on top of other components. This is usually the case with contextual menus, drop-downs or dialogues that supplement or expand an existing view.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Although it is best to avoid layering beyond two levels (a base screen + an overlay), it is sometimes necessary and indeed unavoidable.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"We use different shadows to communicate depth and allow the user to intuitively understand what is \\\"on top\\\".\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Our shadows definitions divided between Light and Hard and three levels of elevation. The shadow is always based on a black #000000 transparency level, a X and Y px value and a spread px value.\"\n    }), \"\\n\", _jsx(ShadowsTable, {\n      tokens: tokens\n    }), \"\\n\", _jsx(\"style\", {\n      children: `\n.shadows {\n  margin-right: -1rem;\n}\n\n.shadows tr,\n.shadows td {\n  background: transparent !important;\n  border: 0 !important;\n}\n\n.shadows td {\n  padding: 2rem !important;\n  text-align: center;\n}\n\n.shadows--spacing {\n  margin-bottom: 1rem;\n  margin-right: 1rem;\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.shadows--spacing > * {\n  flex-basis: 30%;\n}\n\n.shadows--preview {\n  border-radius: 3px;\n  flex-shrink: 1;\n  flex-basis: 100%;\n  padding: 1rem;\n}\n\n.shadows--name {\n  font-weight: bold;\n  padding: 0.3rem;\n}\n\n.shadows--value {\n  padding: 0.3rem;\n  white-space: nowrap;\n}\n`\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Styles/Shadows', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport tokens from '../app/spot/styles/tokens/dist/tokens.json';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    div: \"div\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Styles/Spacings\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Spacings\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"If I write some explanatory text around these spacings.\"\n    }), \"\\n\", _jsx(\"div\", {\n      className: \"spacings\",\n      children: Object.keys(tokens).filter(key => key.startsWith('spot-spacing-')).map(key => ({\n        i: parseFloat(key.split('-')[2].replace('_', '.'), 10),\n        name: key\n      })).sort((a, b) => a.i - b.i).map(({name}) => _jsxs(_components.div, {\n        className: \"spacings--spacing\",\n        children: [_jsxs(_components.div, {\n          className: \"spacings--name\",\n          children: [\"$\", name]\n        }), _jsx(_components.div, {\n          className: \"spacings--value\",\n          children: tokens[name]\n        }), _jsx(_components.div, {\n          className: \"spacings--preview\",\n          style: {\n            'height': tokens[name]\n          }\n        })]\n      }, name))\n    }), \"\\n\", _jsx(\"style\", {\n      children: `\n.spacings {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: -1rem;\n}\n\n.spacings--spacing {\n  margin-bottom: 1rem;\n  margin-right: 1rem;\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.spacings--spacing > * {\n  flex-basis: 30%;\n}\n\n.spacings--preview {\n  background-color: #507193;\n  flex-shrink: 1;\n  flex-basis: 100%;\n}\n\n.spacings--name {\n  font-weight: bold;\n  padding: 0.3rem;\n}\n\n.spacings--value {\n  padding: 0.3rem;\n}\n`\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Styles/Spacings', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\",\n    em: \"em\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Components/Toast\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Toast\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Example: A success toast\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Toasts are small generally one-line messages that appear to inform the user of the result of an action, or an update to the current view.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Structure and Options\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The toast consists of:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"An optional icon\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"A text\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"A close button\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are four types of toasts, each with a specific icon and colour associated with it:\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"An \", _jsx(_components.strong, {\n        children: \"Information\"\n      }), \" toast is blue (background: Feedback/Info/Light, stroke: Feedback/Info/Dark) and provides the user with helpful information about the current view.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Eg: a blue notification toast (as it exists today)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"A \", _jsx(_components.strong, {\n        children: \"Success\"\n      }), \" toast is green (background: Feedback/Success/Light, stroke: Feedback/Success/Dark)and indicates to the user that an action has been successfully carried out.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Eg: a green success toast (as it exists today)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"A \", _jsx(_components.strong, {\n        children: \"Warning\"\n      }), \" toast is orange (background: Feedback/Warning/Light, stroke: Feedback/Warning/Dark) and indicates that there are potential risks or possibility of error.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Eg: an orange toast (is this used somewhere?)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"An \", _jsx(_components.strong, {\n        children: \"Error\"\n      }), \" toast is red (background: Feedback/Error/Light, stroke: Feedback/Error/Dark) and indicates that something did not not go as expected, and that there is a problem.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Eg: a red toast (as it exists today, when moving an WP in GANTT view is not possible)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Behaviour\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The toast appears either as result of user action (a work package attribute is modified, for example) or a background action (there are new notifications).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The text is generally merely informational, although there might sometimes be a link with an approproate action.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Eg. Blue notification toast with \\\"Load new notifications\\\" link.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Toasts generally disappear automatically; they must be manually closed by the user. The only exception is the Success toast, which \", _jsx(_components.em, {\n        children: \"can\"\n      }), \" disappear automatically, if the user has enabled this in their account settings.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Ideally, only one toast should be visible at any time. Hoever, there are circumstances where multiple toasts might be generated and visible to the user; in this case, the toasts must \\\"pile\\\" vertically with a 1 rem (?) spacing between them.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Margins and Spacing\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The toast has a height of 2.5 rem, with a 0.5 rem padding on all sides, and a 0.5 rem spacing between the icon, text and the close button.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Components/Toast', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","\nimport React from 'react';\n\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport { assertIsFn, AddContext } from \"@storybook/addon-docs\";\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {Meta, Story, Canvas} from '@storybook/addon-docs';\nimport tokens from '../app/spot/styles/tokens/dist/tokens.json';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    a: \"a\",\n    h2: \"h2\",\n    h3: \"h3\",\n    blockquote: \"blockquote\",\n    em: \"em\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(Meta, {\n      title: \"Styles/Typography\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Typography\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"OpenProject uses the \\\"\", _jsx(_components.a, {\n        href: \"https://github.com/latofonts/lato-source\",\n        children: \"Lato Sans\"\n      }), \"\\\" typeface created by Adam Twardoch, Botio Nikoltchev, and ukasz Dziedzic (released with the \", _jsx(_components.a, {\n        href: \"https://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=OFL\",\n        children: \"SIL Open Font license\"\n      }), \").\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"There are 7 sizes, each with between three and eight variations.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Considerations\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A few things to keep in mind:\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Black text\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Black text in OpenProject does not use the standard black HEX code (#000000); instead, black is defined as Grey-1 (#333333).\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Line height\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The default line height is 16px, which corresponds to 1 REM with our Spacing baseline.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"For each style, line height is specified with a slash. For example, for Header Small Bold, 24/32 represents 1.5 REM font size and 2 REM line height.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Header Big\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is a larger header than the default, used in rare occasions where a header is needed for a containing element to a page. To be used only if absolutely necessary. Prefer \\\"Header small\\\" as much as possible.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"So far, zero recorded use. Might get removed if this style is not used in until mid-2022.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Header Small\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is the default type used for page headers. \\\"Bold\\\" is default and is almost always preferred, unless there is a need to use regular to distinguish additional or supporting information.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Subheader Big\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Very rarely used. Used if we need a header small than the regular header but still distinct from body text.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"So far, zero recorded use. Might get removed if this style is not used in until mid-2022.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Subheader Small\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Very rarely used. Used if we need a header small than the regular header but still distinct from body text.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Subheader Extra Small\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This is really an alias of \", _jsx(_components.em, {\n        children: \"Body Small/Bold\"\n      }), \" when this style is used as a header (in some modals) instead of body text.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Body Big\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Used occasionally (where?)\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Body Small\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This is the default style for most text on OpenProject. This goes for labels but also input text. By far the most used style style in the application.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The regular version is used, among other places, on:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Button text\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Drop down select\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Text fields\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Table text\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Card: work package title\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Sidebar element\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The bold version is used in:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Table headers\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Calendar header\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Sidebar header\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Caption\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The caption is used for indications and auxiliary information that usually adds context to a view, but are not primary elements. They are also used on elements where space is limited (like the date information on Team planner or Board cards).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The regular version is used, among other places, in:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Chips\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Toast text\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Tooltips\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Card: project name and ID\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The bold version is used in:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Sidebar tabs\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"Code example here\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\n// =========\nexport const __page = () => { throw new Error(\"Docs-only story\"); };\n\n__page.parameters = { docsOnly: true };\n\nconst componentMeta = { title: 'Styles/Typography', includeStories: [\"__page\"],  };\n\nconst mdxStoryNameToKey = {};\n\ncomponentMeta.parameters = componentMeta.parameters || {};\ncomponentMeta.parameters.docs = {\n  ...(componentMeta.parameters.docs || {}),\n  page: () => <AddContext mdxStoryNameToKey={mdxStoryNameToKey} mdxComponentAnnotations={componentMeta}><MDXContent /></AddContext>,\n};\n\nexport default componentMeta;","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".op-basic-range-datepicker_mobile {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.op-basic-range-datepicker--input {\\n  min-width: 12rem;\\n}\\n.op-basic-range-datepicker--spacer {\\n  padding: 0 0.5rem;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/shared/components/datepicker/basic-range-date-picker/basic-range-date-picker.component.sass\"],\"names\":[],\"mappings\":\"AACE;EACE,aAAA;EACA,sBAAA;EACA,mBAAA;AAAJ;AACE;EACE,gBAAA;AACJ;AAAE;EACE,iBAAA;AAEJ\",\"sourcesContent\":[\".op-basic-range-datepicker\\n  &_mobile\\n    display: flex\\n    flex-direction: column\\n    align-items: center\\n  &--input\\n    min-width: 12rem\\n  &--spacer\\n    padding: 0 0.5rem\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".op-datepicker-modal {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n@media (min-width: 1000px) and (min-height: 500px) {\\n  .op-datepicker-modal {\\n    height: unset;\\n    min-height: 200px;\\n    width: 100vw;\\n    max-width: 320px;\\n  }\\n  .op-datepicker-modal_wide {\\n    max-width: 600px;\\n  }\\n}\\n.op-datepicker-modal--banner {\\n  margin-bottom: 1rem;\\n}\\n.op-datepicker-modal--banner:empty {\\n  visibility: hidden;\\n}\\n.op-datepicker-modal--toggle-actions-container {\\n  display: grid;\\n  grid-template-columns: auto auto 1fr;\\n  grid-column-gap: 2rem;\\n  margin: 0 1rem 0;\\n}\\n.op-datepicker-modal--dates-container {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 150px;\\n  grid-gap: 1rem;\\n  margin: 1rem 1rem 0;\\n}\\n.op-datepicker-modal--date-field_current, .op-datepicker-modal--date-field_current:hover {\\n  outline: 2px solid var(--primary-color);\\n  outline-offset: -2px;\\n}\\n.op-datepicker-modal--date-container {\\n  display: inline-grid;\\n}\\n.op-datepicker-modal--hidden-link {\\n  visibility: hidden;\\n}\\n.op-datepicker-modal--flatpickr-instance.inline {\\n  margin: 1rem auto !important;\\n}\\n.op-datepicker-modal--stretch-content {\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  overflow-y: auto;\\n}\\n.op-datepicker-modal--stretch-content.spot-container {\\n  margin-top: 0.5rem;\\n}\\n\\n@media screen and (max-width: 679px) {\\n  .op-datepicker-modal {\\n    width: calc(100vw - 2rem);\\n    margin-bottom: 0;\\n  }\\n  .op-datepicker-modal--flatpickr-instance {\\n    align-self: center;\\n  }\\n  .op-datepicker-modal--dates-container {\\n    grid-template-columns: 1fr 1fr;\\n  }\\n  .op-datepicker-modal--toggle-actions-container {\\n    display: grid;\\n    grid-template-columns: 1fr;\\n    grid-row-gap: 1rem;\\n  }\\n  .op-datepicker-modal--date-form:only-child {\\n    grid-column: 1/3;\\n  }\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/shared/components/datepicker/styles/datepicker.modal.sass\",\"webpack://./src/app/spot/styles/tokens/dist/tokens.sass\"],\"names\":[],\"mappings\":\"AAEA;EACE,aAAA;EACA,sBAAA;EACA,YAAA;AADF;AAGE;EALF;IAMI,aAAA;IACA,iBAAA;IACA,YAAA;IAGA,gBAAA;EAFF;EAIE;IACE,gBAAA;EAFJ;AACF;AAGE;EACE,mBC2Ba;AD5BjB;AAGI;EACE,kBAAA;AADN;AAGE;EACE,aAAA;EACA,oCAAA;EACA,qBCoBa;EDnBb,gBAAA;AADJ;AAGE;EACE,aAAA;EACA,oCAAA;EACA,cCaa;EDZb,mBAAA;AADJ;AAII;EAEE,uCAAA;EACA,oBAAA;AAHN;AAKE;EACE,oBAAA;AAHJ;AAKE;EACE,kBAAA;AAHJ;AAKE;EACE,4BAAA;AAHJ;AAKE;EACE,YAAA;EACA,cAAA;EACA,gBAAA;AAHJ;AAQI;EACE,kBCrBa;ADenB;;AAQA;EACE;IAEE,yBAAA;IACA,gBAAA;EANF;EAQE;IACE,kBAAA;EANJ;EAQE;IACE,8BAAA;EANJ;EAQE;IACE,aAAA;IACA,0BAAA;IACA,kBC/BW;EDyBf;EASI;IACE,gBAAA;EAPN;AACF\",\"sourcesContent\":[\"@import '../../app/spot/styles/sass/variables'\\n\\n.op-datepicker-modal\\n  display: flex\\n  flex-direction: column\\n  height: 100%\\n\\n  @media #{$spot-mq-drop-modal-in-context}\\n    height: unset\\n    min-height: 200px\\n    width: 100vw\\n    // Basically the width of the two calendars next to each other + spacings\\n    // will be overwritten on mobile\\n    max-width: 320px\\n\\n    &_wide\\n      max-width: 600px\\n\\n  &--banner\\n    margin-bottom: $spot-spacing-1\\n\\n    &:empty\\n      visibility: hidden\\n\\n  &--toggle-actions-container\\n    display: grid\\n    grid-template-columns: auto auto 1fr\\n    grid-column-gap: $spot-spacing-2\\n    margin: 0 $spot-spacing-1 0\\n\\n  &--dates-container\\n    display: grid\\n    grid-template-columns: 1fr 1fr 150px\\n    grid-gap: $spot-spacing-1\\n    margin: $spot-spacing-1 $spot-spacing-1 0\\n\\n  &--date-field\\n    &_current,\\n    &_current:hover\\n      outline: 2px solid var(--primary-color)\\n      outline-offset: -2px\\n\\n  &--date-container\\n    display: inline-grid\\n\\n  &--hidden-link\\n    visibility: hidden\\n\\n  &--flatpickr-instance.inline\\n    margin: 1rem auto !important\\n\\n  &--stretch-content\\n    flex-grow: 1\\n    flex-shrink: 1\\n    overflow-y: auto\\n\\n    // Unfortunately, we need an extra class\\n    // Of specificity here to overwrite the\\n    // nested spot-container styles\\n    &.spot-container\\n      margin-top: $spot-spacing-0_5\\n\\n@media screen and (max-width: 679px)\\n  .op-datepicker-modal\\n    // Use same width as spot-modal mobile\\n    width: calc(100vw - 2rem)\\n    margin-bottom: 0\\n\\n    &--flatpickr-instance\\n      align-self: center\\n\\n    &--dates-container\\n      grid-template-columns: 1fr 1fr\\n\\n    &--toggle-actions-container\\n      display: grid\\n      grid-template-columns: 1fr\\n      grid-row-gap: $spot-spacing-1\\n\\n    &--date-form\\n      &:only-child\\n        grid-column: 1 / 3\\n\",\"\\n$spot-color-basic-black: rgb(0, 0, 0)\\n$spot-color-basic-gray-1: rgb(51, 51, 51)\\n$spot-color-basic-gray-2: rgb(85, 85, 85)\\n$spot-color-basic-gray-3: rgb(135, 135, 135)\\n$spot-color-basic-gray-4: rgb(204, 204, 204)\\n$spot-color-basic-gray-5: rgb(224, 224, 224)\\n$spot-color-basic-gray-6: rgb(243, 243, 243)\\n$spot-color-basic-white: rgb(255, 255, 255)\\n$spot-color-main: rgb(26, 103, 163)\\n$spot-color-main-dark: rgb(3, 69, 121)\\n$spot-color-main-light: rgb(209, 229, 245)\\n$spot-color-accent: rgb(48, 135, 32)\\n$spot-color-accent-dark: rgb(0, 117, 40)\\n$spot-color-accent-light: rgb(191, 238, 182)\\n$spot-color-danger: rgb(208, 17, 0)\\n$spot-color-danger-dark: rgb(125, 0, 13)\\n$spot-color-danger-light: rgb(244, 171, 169)\\n$spot-color-indication-attention: rgb(0, 163, 255)\\n$spot-color-indication-flagged: rgb(28, 182, 192)\\n$spot-color-indication-current-date: rgb(255, 255, 225)\\n$spot-color-feedback-error-dark: rgb(202, 63, 63)\\n$spot-color-feedback-error-light: rgb(254, 218, 218)\\n$spot-color-feedback-warning-dark: rgb(239, 158, 86)\\n$spot-color-feedback-warning-light: rgb(255, 230, 198)\\n$spot-color-feedback-success-dark: rgb(53, 197, 63)\\n$spot-color-feedback-success-light: rgb(216, 253, 209)\\n$spot-color-feedback-info-dark: rgb(143, 192, 219)\\n$spot-color-feedback-info-light: rgb(227, 245, 255)\\n$spot-spacing-5: 5rem\\n$spot-spacing-6: 6rem\\n$spot-spacing-1-75: 1.75rem\\n$spot-spacing-7: 7rem\\n$spot-spacing-0-75: 0.75rem\\n$spot-spacing-8: 8rem\\n$spot-spacing-9: 9rem\\n$spot-spacing-2-25: 2.25rem\\n$spot-spacing-1-25: 1.25rem\\n$spot-spacing-0-25: 0.25rem\\n$spot-spacing-0-5: 0.5rem\\n$spot-spacing-1-5: 1.5rem\\n$spot-spacing-2-5: 2.5rem\\n$spot-spacing-10: 10rem\\n$spot-spacing-3-5: 3.5rem\\n$spot-spacing-4-5: 4.5rem\\n$spot-spacing-5-5: 5.5rem\\n$spot-spacing-1: 1rem\\n$spot-spacing-2: 2rem\\n$spot-spacing-3: 3rem\\n$spot-spacing-4: 4rem\\n$spot-shadow-light-low: 1px 1px 5px rgba(0, 0, 0, 0.15)\\n$spot-shadow-light-mid: 3px 3px 10px rgba(0, 0, 0, 0.15)\\n$spot-shadow-light-high: 5px 5px 20px rgba(0, 0, 0, 0.15)\\n$spot-shadow-hard-low: 1px 1px 5px rgba(0, 0, 0, 0.25)\\n$spot-shadow-hard-mid: 3px 3px 10px rgba(0, 0, 0, 0.25)\\n$spot-shadow-hard-high: 5px 5px 20px rgba(0, 0, 0, 0.25)\\n$spot-mq-landscape: '(orientation: landscape)'\\n$spot-mq-drop-modal-full-screen: '(max-width: 999px), (max-height: 499px)'\\n$spot-mq-drop-modal-in-context: '(min-width: 1000px) and (min-height: 500px)'\\n$spot-mq-action-bar-change: '(min-width: 768px)'\\n$spot-mq-mobile: '(max-width: 679px)'\\n$spot-mq-desktop: '(min-width: 680px)'\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./src sync recursive ^\\\\.(?:(?:^%7C\\\\/%7C(?:(?:(?%21(?:^%7C\\\\/)\\\\.).)*?)\\\\/)(?%21\\\\.)(?=.)[^/]*?\\\\.stories\\\\.(js%7Cjsx%7Cts%7Ctsx))$\";\nmodule.exports = webpackEmptyContext;","var map = {\n\t\"./app/spot/components/checkbox/stories/Checkbox.stories.mdx\": \"./src/app/spot/components/checkbox/stories/Checkbox.stories.mdx\",\n\t\"./app/spot/components/drop-modal/stories/DropModal.stories.mdx\": \"./src/app/spot/components/drop-modal/stories/DropModal.stories.mdx\",\n\t\"./app/spot/components/form-field/stories/FormField.stories.mdx\": \"./src/app/spot/components/form-field/stories/FormField.stories.mdx\",\n\t\"./app/spot/components/selector-field/stories/SelectorField.stories.mdx\": \"./src/app/spot/components/selector-field/stories/SelectorField.stories.mdx\",\n\t\"./app/spot/components/switch/stories/Switch.stories.mdx\": \"./src/app/spot/components/switch/stories/Switch.stories.mdx\",\n\t\"./app/spot/components/text-field/stories/TextField.stories.mdx\": \"./src/app/spot/components/text-field/stories/TextField.stories.mdx\",\n\t\"./app/spot/components/toggle/stories/Toggle.stories.mdx\": \"./src/app/spot/components/toggle/stories/Toggle.stories.mdx\",\n\t\"./app/spot/components/tooltip/stories/Tooltip.stories.mdx\": \"./src/app/spot/components/tooltip/stories/Tooltip.stories.mdx\",\n\t\"./stories/ActionBar.stories.mdx\": \"./src/stories/ActionBar.stories.mdx\",\n\t\"./stories/Breadcrumbs.stories.mdx\": \"./src/stories/Breadcrumbs.stories.mdx\",\n\t\"./stories/Buttons.stories.mdx\": \"./src/stories/Buttons.stories.mdx\",\n\t\"./stories/Colors.stories.mdx\": \"./src/stories/Colors.stories.mdx\",\n\t\"./stories/Datepicker-Basic.stories.mdx\": \"./src/stories/Datepicker-Basic.stories.mdx\",\n\t\"./stories/Divider.stories.mdx\": \"./src/stories/Divider.stories.mdx\",\n\t\"./stories/DropdownButton.stories.mdx\": \"./src/stories/DropdownButton.stories.mdx\",\n\t\"./stories/DropdownMenu.stories.mdx\": \"./src/stories/DropdownMenu.stories.mdx\",\n\t\"./stories/Focus.stories.mdx\": \"./src/stories/Focus.stories.mdx\",\n\t\"./stories/HowToUse.stories.mdx\": \"./src/stories/HowToUse.stories.mdx\",\n\t\"./stories/Introduction.stories.mdx\": \"./src/stories/Introduction.stories.mdx\",\n\t\"./stories/Link.stories.mdx\": \"./src/stories/Link.stories.mdx\",\n\t\"./stories/List.stories.mdx\": \"./src/stories/List.stories.mdx\",\n\t\"./stories/Mobile-Accessibility-Localisation.stories.mdx\": \"./src/stories/Mobile-Accessibility-Localisation.stories.mdx\",\n\t\"./stories/ModalDialogue.stories.mdx\": \"./src/stories/ModalDialogue.stories.mdx\",\n\t\"./stories/SectionHeaders.stories.mdx\": \"./src/stories/SectionHeaders.stories.mdx\",\n\t\"./stories/Shadows.stories.mdx\": \"./src/stories/Shadows.stories.mdx\",\n\t\"./stories/Spacings.stories.mdx\": \"./src/stories/Spacings.stories.mdx\",\n\t\"./stories/Toast.stories.mdx\": \"./src/stories/Toast.stories.mdx\",\n\t\"./stories/Typography.stories.mdx\": \"./src/stories/Typography.stories.mdx\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src sync recursive ^\\\\.(?:(?:^%7C\\\\/%7C(?:(?:(?%21(?:^%7C\\\\/)\\\\.).)*?)\\\\/)(?%21\\\\.)(?=.)[^/]*?\\\\.stories\\\\.mdx)$\";","\"use strict\";\n\nvar _frameworkImportPath = require(\"@storybook/angular\");\n\n/* eslint-disable import/no-unresolved */\n(0, _frameworkImportPath.configure)([require.context('./src', true, /^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$/),require.context('./src', true, /^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$/)], module, false);"],"names":["I18nService","constructor","i18n","window","I18n","t","this","bind","lookup","toTime","toNumber","toPercentage","toCurrency","strftime","toHumanSize","locale","Injectable","providedIn","populateInputsFromDataset","instance","cstr","declaredInputsParentKey","Object","keys","find","key","declaredInputs","console","warn","inputs","forEach","outsideName","insideName","elementRef","nativeElement","dataset","JSON","parse","err","error","SpotCheckboxComponent","cdRef","className","tabindex","disabled","name","Date","checked","checkedChange","EventEmitter","onChange","_","onTouched","onStateChange","value","input","emit","writeValue","setTimeout","indeterminate","detectChanges","registerOnChange","fn","registerOnTouched","HostBinding","args","ViewChild","Input","Output","Component","selector","template","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","SpotCheckboxComponent_1","multi","changeDetection","ChangeDetectionStrategy","ChangeDetectorRef","SpotDropModalTeleportationService","templateRef$","BehaviorSubject","hasRendered$","Subject","hasRenderedFiltered$","pipe","distinctUntilChanged","afterRenderOnce$","appearOrDissapear","filter","f","take","activate","next","clear","KeyCodes","FOCUSABLE_ELEMENT_SELECTORS","findAllFocusableElementsWithin","container","querySelectorAll","toString","SpotDropModalComponent","opened","_opened","open","close","teleportationService","allowRepositioning","alignment","closed","id","Math","round","random","text","focus_grab","onGlobalClick","escapeCallback","evt","keyCode","ESCAPE","onEscape","debounce","onResize","resizeCallback","updateAppHeight","document","documentElement","style","setProperty","innerHeight","body","hasRendered","subscribe","referenceEl","floatingEl","anchor","cleanupFloatingUI","autoUpdate","__awaiter","computePosition","placement","middleware","flip","mainAxis","crossAxis","fallbackAxisSideDirection","shift","limiter","limitShift","assign","left","x","top","y","addEventListener","focusCatcherContainer","focus","querySelector","removeEventListener","focusGrabber","ngOnDestroy","onBodyClick","e","stopPropagation","type","ElementRef","SpotFormFieldComponent","errorClassName","showErrorMessage","errorsID","internalID","descriptionID","describedByID","formControl","ngControl","control","showValidationErrorOn","invalid","_formGroupDirective","submitted","touched","dirty","label","noWrapLabel","required","hidden","Optional","ContentChild","NgControl","FormGroupDirective","SpotSelectorFieldComponent","formGroupDirective","classNameCheckbox","reverseLabel","labelWeight","SpotSwitchComponent","markForCheck","onToggle","SpotSwitchComponent_1","SpotTextFieldComponent","onParentClick","valueChanged","focused","showClearButton","placeholder","inputmode","inputFocus","inputBlur","onInputFocus","event","onInputBlur","HostListener","SpotTextFieldComponent_1","SpotToggleComponent","classNameOld","options","valueChange","SpotToggleComponent_1","SpotTooltipComponent","light","SpotDropAlignmentOption","alignmentClass","SpotFilterChipComponent","iconClasses","icon","removable","title","remove","formControlBinding","SpotFormBindingDirective","form","viewToModelUpdate","Directive","exportAs","SpotBreadcrumbsComponent","UntilDestroyedMixin","OnDestroyMixin","componentDestroyed","super","untilDestroyed","untilComponentDestroyed","SpotDropModalPortalComponent","template$","ngOnInit","templ","ngAfterViewChecked","children","length","OpSpotModule","NgModule","imports","FormsModule","ReactiveFormsModule","CommonModule","A11yModule","declarations","exports","global","__zone_symbol__BLACK_LISTED_EVENTS","setCompodocJson","docJson","parameters","viewMode","actions","argTypesRegex","controls","matchers","color","date","docs","inlineStories","theme","themes","storySort","method","order","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperty","obj","defineProperty","configurable","writable","config","addArgs","addArgTypes","decorator","addDecorator","loader","addLoader","addParameters","_objectSpread","target","i","arguments","source","getOwnPropertyDescriptors","defineProperties","enhancer","addArgTypesEnhancer","addArgsEnhancer","setGlobalRender","v","log","Angular","_ref","props","_createMdxContent","_components","h1","p","h2","em","_provideComponents","components","_jsxs","_Fragment","_jsx","Meta","component","decorators","moduleMetadata","design","url","Canvas","Story","ArgsTable","of","MDXContent","undefined","MDXLayout","wrapper","angularComponent","storyName","storySource","componentMeta","includeStories","mdxStoryNameToKey","page","React","AddContext","mdxComponentAnnotations","__namedExportsOrder","I18nShim","defaultLocale","firstDayOfWeek","translations","en","pluralization","SbDropModalListComponent","dropModalOpen","toggleDropModal","dummy","pre","code","layout","SbFormFieldInputSlotExample","SbFormFieldDescriptionSlotExample","SbFormFieldErrorSlotExample","myForm","UntypedFormGroup","myInput","UntypedFormControl","Validators","myInputControl","get","onSubmit","preventDefault","SbFormFieldActionSlotExample","alert","s","ol","li","inputSlot","descriptionSlot","basicValidation","SbSelectorFieldExample","mixed","SbSelectorFieldFontWeightExample","blockquote","strong","selectorFieldExample","selectorFieldLabelFontWeightExample","Template","unchecked","disabledChecked","defaultStory","presetValue","presetValue2","moreThanTwoOptions","SbTooltipComponent","dark","ul","SbActionBarExample","SbActionBarInModalExample","SbActionBarLeftButtonsExample","SbActionBarTransparentExample","SbActionBarNoSideOptionExample","SbActionBarMoreButtonsExample","a","href","exampleInModal","leftButtons","transparent","noSideOption","moreButtons","BreadcrumbsContent","crumbs","SbBreadcrumbsExample","content","SbBreadcrumbsFourLevelsExample","SbBreadcrumbsFiveLevelsExample","defaultExample","fourLevels","fiveLevels","__page","Error","docsOnly","ColorsPreview","tokens","div","startsWith","map","I18nServiceStub","environment","production","whenDebugging","cb","debugLog","message","InjectField","token","defaultValue","flags","property","injector","Reflect","getMetadata","set","idFromLink","idPart","split","pop","decodeURIComponent","setResourceLoading","store","update","loadingResources","removeResourceLoading","insertCollectionIntoState","collection","collectionUrl","_embedded","ids","elements","el","applyTransaction","upsertMany","collections","WeekdayStore","EntityStore","StoreConfig","isDefinedEntity","entity","FalseValue","TrueValue","ApiV3FilterBuilder","filterMap","add","operator","filterValues","values","static","filters","item","each","val","merge","only","toAdd","pickBy","toFilterObject","includes","toJson","stringify","toParams","mergeParams","params","URLSearchParams","clone","newFilters","ApiV3Filter","listParamsString","queryProps","sortBy","groupBy","pageSize","offset","select","join","filterParam","queryPropsString","SimpleResourceCollection","basePath","segment","resource","path","SimpleResource","withOptionalId","isNil","toPath","separator","HalLink","requestMethod","templated","payload","identifier","halResourceService","link","data","headers","firstValueFrom","request","$fetch","$prepare","templateValues","regexp","RegExp","replace","$callable","linkFunc","extend","$link","URLParamsEncoder","encodeKey","encodeURIComponent","encodeValue","decodeKey","decodeValue","States","StatesGroup","projects","multiInput","workPackages","posts","schemas","types","statuses","timeEntries","versions","users","placeholderUsers","roles","changes","queries","additional","forType","stateName","state","forResource","camelCase","_type","isNewResource","HalResource","$source","$loaded","halInitializer","$halType","$links","$embedded","$initialize","self","_links","expectedResource","match","exec","retainFrom","other","__initialized_at","$copy","$plain","cloneDeep","$isHal","_name","newValue","putValue","Promise","resolve","previewPath","project","getEditorContext","fieldName","$load","force","$loadResource","putFromPromiseIfPristine","valuesPromise","then","$self","$update","$embeddableKeys","properties","without","$linkableKeys","__decorate","OpenprojectHalModuleHelpers","initializeHalProperties","halResource","asHalResource","loaded","createHalResource","setupProperty","callback","instanceName","sourceName","sourceObj","isObject","propName","lazy","setter","linkName","isArray","Array","hasOwnProperty","setSource","setupLinks","l","fromObject","setupEmbedded","element","child","proxyProperties","setLinksAsProperties","items","createLinkedResource","ObservableArray","on","splice","indexOf","setEmbeddedAsProperties","getter","done","HalError","httpError","errorIdentifier","setPrototypeOf","prototype","MAGIC_PAGE_NUMBER","getPaginatedCollections","mergeMap","resolvedSize","total","count","remaining","pagesRemaining","ceil","calls","fill","forkJoin","results","getPaginatedResults","reduce","acc","concat","extractCollectionElements","HalResourceService","http","withCredentials","responseType","performRequest","response","catchError","createErrorObservable","HttpParams","encoder","getAllPaginated","pageParams","requestParams","toEprops","put","post","patch","delete","registerResource","entry","defaultClass","createHalResourceOfType","getResourceClassOfType","createHalResourceOfClass","resourceClass","fromLink","fromSelfLink","fromType","toType","getResourceClassOfAttribute","cls","attribute","typeConfig","attrTypes","deflatedArray","Pako","eprops","base64","throwError","addFiltersToPath","URL","location","origin","searchParams","has","existingFilters","Injector","HttpClient","ApiV3ResourcePath","apiRoot","parent","subResource","ApiV3GettableResource","ApiV3GettableResourceCollection","ApiV3ResourceCollection","filtered","pathname","search","signalled","ApiV3Paths","apiV3Base","openApiSpecPath","previewMarkup","context","base","principals","projectId","term","PathHelperService","appBasePath","api","v3","staticBase","attachmentDownloadPath","attachmentIdentifier","slug","attachmentContentPath","fileLinksPath","ifcModelsPath","projectIdentifier","ifcModelsNewPath","ifcModelsEditPath","modelId","ifcModelsDeletePath","bimDetailsPath","workPackageId","viewpoint","projectPath","highlightingCssPath","forumPath","forumIdentifier","projectForumPath","keyboardShortcutsHelpPath","messagePath","messageIdentifier","myPagePath","myNotificationsSettingsPath","newsPath","newsId","notificationsPath","loginPath","projectsPath","projectsNewPath","projectActivityPath","projectCalendarPath","projectMembershipsPath","projectNewsPath","projectTimeEntriesPath","projectWikiPath","projectWorkPackagePath","wpId","projectWorkPackagesPath","projectWorkPackageNewPath","projectBoardsPath","projectDashboardsPath","timeEntriesPath","workPackagePath","usersPath","groupsPath","placeholderUsersPath","userPath","placeholderUserPath","groupPath","rolesPath","rolePath","versionsPath","versionEditPath","versionShowPath","workPackagesPath","workPackageCopyPath","workPackageDetailsCopyPath","workPackagesBulkDeletePath","textFormattingHelp","HalPayloadHelper","schema","extractPayloadFromSchema","nonLinkProperties","currentSchema","ApiV3FormResource","extractPayload","ApiV3GridForm","grid","widgets","widget","startRow","endRow","startColumn","endColumn","ApiV3GridPaths","ApiV3GridsPaths","list","StateCacheService","holdValuesForSeconds","multiState","cacheDurationInMs","touch","current","fallback","getValueOr","clearAndLoad","observable","share","clearAndPutFromPromise","updateValue","updateFor","observe","values$","changes$","observeAll","observeChange","startWith","auditTime","mapped","clearSome","stale","hasActivePromiseRequest","isPristine","isValueOlderThan","SchemaProxy","Proxy","receiver","proxyMethod","ofProperty","isAttributeEditable","mappedName","isEditable","propertySchema","__","argumentsList","WorkPackageSchemaProxy","isMilestone","isReadonly","readonly","status","scheduleManually","SchemaCacheService","states","stateKey","create","getSchemaHref","ensureLoaded","requireAndStream","toPromise","load","loadAll","hrefs","all","ApiV3Resource","cache","createCache","shareReplay","refresh","switchMap","schemaCache","mapTo","cacheResponse","source$","tap","ApiV3TimeEntryPaths","CollectionResource","updateElements","ApiV3Collection","TimeEntryCacheService","ApiV3TimeEntriesPaths","ApiV3CapabilityPaths","ApiV3CapabilitiesPaths","ApiV3AvailableProjectsPaths","exists","ApiV3MembershipsForm","principal","role","_meta","notificationMessage","raw","ApiV3MembershipsPaths","available_projects","ApiV3UserPreferencesPaths","ApiV3UserPaths","avatar","preferences","ApiV3UsersPaths","me","ApiV3TypePaths","ApiV3TypesPaths","QueryFilterInstanceResource","memoizedCurrentSchemas","pathHelper","resultingSchema","isCompletelyDefined","isValueRequired","findOperator","operatorSymbol","availableOperators","isTemplated","flag","QueryResource","setSortBy","newSortBy","ApiV3QueryOrder","result","delta","wpIds","QueryFiltersService","getFilterSchema","available","filtersSchemas","allowedFilterValue","mapSchemasIntoFilters","query","setSchemas","ApiV3QueryForm","queryFilters","buildQueryResource","loadWithParams","queryId","URI","ApiV3QueryPaths","parameterised","paginated","pagination","ApiV3QueriesPaths","default","filter_instance_schemas","queryData","withOptionalProject","toggleStarred","starred","unstar","star","ApiV3RelationsPaths","loadInvolved","workPackageIds","validIds","test","from","ApiV3WorkPackageForm","forTypePayload","forPayload","ApiV3WorkPackagePaths","relations","revisions","activities","available_watchers","github_pull_requests","WorkPackageCache","schemaCacheService","updateWorkPackage","wp","immediate","updateWorkPackageList","skipOnIdentical","hasValue","isEqual","MultiInputState","ApiV3WorkPackageCachedSubresource","updateSchemas","ApiV3WorkPackagesPaths","requireAll","reject","loadCollectionsFor","uniq","pagedResults","filterByTypeaheadOrId","idOnly","additionalParams","filterUpdatedSince","timestamp","n","ApiV3VersionPaths","version","ApiV3VersionsPaths","ApiV3ProjectCopyPaths","ApiV3ProjectPaths","available_assignees","work_packages","copy","ProjectCache","ApiV3ProjectsPaths","ApiV3StatusPaths","ApiV3StatusesPaths","ApiV3RolePaths","ApiV3RolesPaths","ApiV3NewsPaths","ApiV3HelpTextsPaths","ApiV3ConfigurationPath","$configuration","Board","editable","updateImmediately","isFree","isAction","actionAttribute","highlightingMode","addQuery","isNewWidget","removeQuery","createdAt","sortWidgets","sort","b","showStatusButton","AuthorisationService","links","initModelAuth","modelName","modelLinks","doModify","observeUntil","unsubscribe","takeUntil","can","action","cannot","ApiV3BoardPath","grids","newBoard","save","board","fetchSchema","ApiV3BoardsPaths","authorisationService","allInScope","boardPath","scope","createGrid","PathHelper","ApiV3PlaceholderUserPaths","ApiV3PlaceholderUsersPaths","ApiV3GroupPaths","ApiV3GroupsPaths","ApiV3NotificationPaths","markRead","markUnread","ApiV3NotificationsPaths","facet","unread","listPath","markAsReadByIds","markAsReadByFilter","ApiV3ViewsPaths","view","Apiv3BackupsPath","backupToken","includeAttachments","attachments","ApiV3DayPaths","ApiV3DaysPaths","week","nonWorkingDays","Apiv3StoragesPaths","files","ApiV3Service","apiV3CollectionEndpoint","backups","apiV3CustomEndpoint","configuration","days","documents","file_links","notifications","root","apiV3SingularEndpoint","priorities","time_entries","capabilities","memberships","news","storages","placeholder_users","groups","help_texts","job_statuses","views","boards","collectionFromString","fullPath","ConfigurationService","apiV3Service","initialize","loadConfiguration","commentsSortedInDescendingOrder","userPreference","warnOnLeavingUnsaved","autoHidePopups","isTimezoneSet","timezone","isDirectUploads","prepareAttachmentURL","maximumAttachmentFileSize","systemPreference","perPageOptions","dateFormatPresent","dateFormat","timeFormatPresent","timeFormat","startOfWeekPresent","startOfWeek","moment","hostName","activeFeatureFlags","pref","isHttpResponse","HttpEventType","ToastService","configurationService","stack","jQuery","toast","timeoutAfter","removeSuccessFlashMessages","nextValue","removeOnAdd","addError","additionalErrors","errors","HttpErrorResponse","isHalError","hasOwn","call","createToast","addWarning","addSuccess","addNotice","addUpload","uploads","notification","waitForUploadsFinished","o","addLoading","createLoadingToast","ResourceStoreService","toastService","createStore","QueryEntity","requireCollection","buildResourceLink","collectionExists","resourceLoading","loadedCollection","fetchCollection","requireEntity","hasEntity","fetchEntity","collectionState","selectMany","selectEntity","lookupMany","getValue","omit","fetchResults","handleErrors","finalize","handleResourceLoadingError","_path","WeekdayResourceService","selectHasCache","hasCache","EMPTY","fetchWeekdays","selectAll","extendCollectionElementsWithId","WeekdayService","isNonWorkingDay","isoDayOfWeek","isoWeekday","weekdays","wd","day","working","loadWeekdays","weekdaysService","WeekdayServiceStub","DayStore","DayResourceService","isNonWorkingDay$","format","requireNonWorkingYear$","findIndex","startOf","endOf","requireNonWorkingYears$","start","end","DayResourceServiceStub","getDay","_date","_start","_end","_params","validDate","onDayCreate","dayElem","ignoreNonWorkingDays","isDayDisabled","setAttribute","dateObj","toISOString","classList","TimezoneService","setupLocale","parseDatetime","datetime","d","local","tz","parseDate","parseISODatetime","parseISODate","formattedDate","getDateFormat","daysFromToday","dateString","today","diff","formattedTime","datetimeString","getTimeFormat","formattedDatetime","c","formattedDatetimeComponents","formattedRelativeDateTime","fromNow","toHours","durationString","Number","asHours","toFixed","toDays","asDays","toISODuration","unit","toIsoString","formattedDuration","formattedISODate","formattedISODateTime","isValidISODate","isValid","isValidISODateTime","dateTime","DatePicker","datepickerElemIdentifier","datepickerTarget","datepickerFormat","weekdaysPromise","datepickerInstance","redraw","mergedOptions","defaultOptions","datePickerInstances","flatpickr","daysService","destroy","hide","isOpen","show","setDates","dates","setDate","weekNumbers","getWeek","defaultDate","shorthand","longhand","months","slice","weekAbbreviation","rangeSeparator","DeviceService","mobileWidthTreshold","isMobile","innerWidth","OpBasicRangeDatePickerComponent","_value","stringValue","resolveDateArrayToString","timezoneService","deviceService","mobile","minimalDate","inputClassNames","spacer","changeValueFromInputDebounced","changeValueFromInput","ngAfterViewInit","initializeDatePicker","newDates","resolveDateStringToArray","showDatePicker","datePickerInstance","allowInput","mode","showMonths","onReady","_datestr","calendarContainer","dateStr","dObj","dStr","fp","trim","encapsulation","ViewEncapsulation","OpBasicRangeDatePickerComponent_1","OpBasicSingleDatePickerComponent","picked","remoteFieldKey","_dObj","_dStr","_fp","OpBasicSingleDatePickerComponent_1","OpBasicDatePickerModule","SbDatePickerBasicExample","SbDatePickerBasicPrefilledExample","SbDatePickerRangePrefilledExample","h3","useValue","useFactory","Figma","single","singleWithPrefilledValue","rangeWithPrefilledValue","SbDividerSoftExample","SbDividerStrongExample","soft","SbLinkExample","SbEmptyComponent","SbListWithLinksExample","SbListWithCheckboxesExample","SbListCompactExample","withLinks","withCheckboxes","compact","cols","rows","ShadowsTable","table","tbody","tr","td","col","row","toLowerCase","class","parseFloat","___CSS_LOADER_API_SOURCEMAP_IMPORT___","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","module","webpackContext","req","webpackContextResolve","__webpack_require__","webpackContextKeys","webpackEmptyContext","require","configure"],"sourceRoot":"webpack:///","x_google_ignoreList":[194]}